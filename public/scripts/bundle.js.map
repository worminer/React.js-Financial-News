{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/alt/lib/actions/index.js","node_modules/alt/lib/functions.js","node_modules/alt/lib/index.js","node_modules/alt/lib/store/AltStore.js","node_modules/alt/lib/store/StoreMixin.js","node_modules/alt/lib/store/index.js","node_modules/alt/lib/utils/AltUtils.js","node_modules/alt/lib/utils/StateFunctions.js","node_modules/deep-equal/index.js","node_modules/deep-equal/lib/is_arguments.js","node_modules/deep-equal/lib/keys.js","node_modules/flux/index.js","node_modules/flux/lib/Dispatcher.js","node_modules/flux/node_modules/fbjs/lib/invariant.js","node_modules/history/lib/Actions.js","node_modules/history/lib/AsyncUtils.js","node_modules/history/lib/DOMStateStorage.js","node_modules/history/lib/DOMUtils.js","node_modules/history/lib/ExecutionEnvironment.js","node_modules/history/lib/createBrowserHistory.js","node_modules/history/lib/createDOMHistory.js","node_modules/history/lib/createHistory.js","node_modules/history/lib/createLocation.js","node_modules/history/lib/deprecate.js","node_modules/history/lib/extractPath.js","node_modules/history/lib/parsePath.js","node_modules/history/lib/runTransitionHook.js","node_modules/invariant/browser.js","node_modules/is-promise/index.js","node_modules/process/browser.js","node_modules/transmitter/dist/transmitter.js","node_modules/warning/browser.js","source/client/actions/FormActions.js","source/client/actions/MovieActions.js","source/client/actions/MovieAddActions.js","source/client/actions/NavbarActions.js","source/client/actions/UserActions.js","source/client/alt.js","source/client/components/App.js","source/client/components/Footer.js","source/client/components/Home.js","source/client/components/MovieAdd.js","source/client/components/Navbar.js","source/client/components/UserLogin.js","source/client/components/UserProfile.js","source/client/components/UserRegister.js","source/client/components/form/Form.js","source/client/components/form/RadioElement.js","source/client/components/form/RadioGroup.js","source/client/components/form/Submit.js","source/client/components/form/TextGroup.js","source/client/components/sub-components/CommentForm.js","source/client/components/sub-components/MovieCard.js","source/client/components/sub-components/MovieCommentsPanel.js","source/client/components/sub-components/MovieInfo.js","source/client/components/sub-components/MoviePanelsToggle.js","source/client/components/sub-components/MoviePoster.js","source/client/components/sub-components/MovieVotePanel.js","source/client/components/sub-components/NavbarUserMenu.js","source/client/components/sub-components/UserInfo.js","source/client/components/sub-components/UserRatedMovies.js","source/client/components/sub-components/UserRatedMoviesPanel.js","source/client/components/sub-components/UserReviews.js","source/client/components/sub-components/UserReviewsPanel.js","source/client/main.js","source/client/routes.js","source/client/stores/FormStore.js","source/client/stores/MovieAddStore.js","source/client/stores/MovieStore.js","source/client/stores/NavbarStore.js","source/client/stores/UserStore.js","source/client/utilities/Authorize.js","source/client/utilities/Helpers.js","source/client/utilities/RequesterTMDB.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACtOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/EA;AACA;AACA;AACA;AACA;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACjLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnDA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = makeAction;\n\nvar _functions = require('../functions');\n\nvar fn = _interopRequireWildcard(_functions);\n\nvar _AltUtils = require('../utils/AltUtils');\n\nvar utils = _interopRequireWildcard(_AltUtils);\n\nvar _isPromise = require('is-promise');\n\nvar _isPromise2 = _interopRequireDefault(_isPromise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction makeAction(alt, namespace, name, implementation, obj) {\n  var id = utils.uid(alt._actionsRegistry, String(namespace) + '.' + String(name));\n  alt._actionsRegistry[id] = 1;\n\n  var data = { id: id, namespace: namespace, name: name };\n\n  var dispatch = function dispatch(payload) {\n    return alt.dispatch(id, payload, data);\n  };\n\n  // the action itself\n  var action = function action() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var invocationResult = implementation.apply(obj, args);\n    var actionResult = invocationResult;\n\n    // async functions that return promises should not be dispatched\n    if (invocationResult !== undefined && !(0, _isPromise2['default'])(invocationResult)) {\n      if (fn.isFunction(invocationResult)) {\n        // inner function result should be returned as an action result\n        actionResult = invocationResult(dispatch, alt);\n      } else {\n        dispatch(invocationResult);\n      }\n    }\n\n    if (invocationResult === undefined) {\n      utils.warn('An action was called but nothing was dispatched');\n    }\n\n    return actionResult;\n  };\n  action.defer = function () {\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return setTimeout(function () {\n      return action.apply(null, args);\n    });\n  };\n  action.id = id;\n  action.data = data;\n\n  // ensure each reference is unique in the namespace\n  var container = alt.actions[namespace];\n  var namespaceId = utils.uid(container, name);\n  container[namespaceId] = action;\n\n  // generate a constant\n  var constant = utils.formatAsConstant(namespaceId);\n  container[constant] = id;\n\n  return action;\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isMutableObject = isMutableObject;\nexports.eachObject = eachObject;\nexports.assign = assign;\nvar isFunction = exports.isFunction = function isFunction(x) {\n  return typeof x === 'function';\n};\n\nfunction isMutableObject(target) {\n  var Ctor = target.constructor;\n\n  return !!target && Object.prototype.toString.call(target) === '[object Object]' && isFunction(Ctor) && !Object.isFrozen(target) && (Ctor instanceof Ctor || target.type === 'AltStore');\n}\n\nfunction eachObject(f, o) {\n  o.forEach(function (from) {\n    Object.keys(Object(from)).forEach(function (key) {\n      f(key, from[key]);\n    });\n  });\n}\n\nfunction assign(target) {\n  for (var _len = arguments.length, source = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    source[_key - 1] = arguments[_key];\n  }\n\n  eachObject(function (key, value) {\n    return target[key] = value;\n  }, source);\n  return target;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _flux = require('flux');\n\nvar _StateFunctions = require('./utils/StateFunctions');\n\nvar StateFunctions = _interopRequireWildcard(_StateFunctions);\n\nvar _functions = require('./functions');\n\nvar fn = _interopRequireWildcard(_functions);\n\nvar _store = require('./store');\n\nvar store = _interopRequireWildcard(_store);\n\nvar _AltUtils = require('./utils/AltUtils');\n\nvar utils = _interopRequireWildcard(_AltUtils);\n\nvar _actions = require('./actions');\n\nvar _actions2 = _interopRequireDefault(_actions);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } } /* global window */\n\n\nvar Alt = function () {\n  function Alt() {\n    var config = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    _classCallCheck(this, Alt);\n\n    this.config = config;\n    this.serialize = config.serialize || JSON.stringify;\n    this.deserialize = config.deserialize || JSON.parse;\n    this.dispatcher = config.dispatcher || new _flux.Dispatcher();\n    this.batchingFunction = config.batchingFunction || function (callback) {\n      return callback();\n    };\n    this.actions = { global: {} };\n    this.stores = {};\n    this.storeTransforms = config.storeTransforms || [];\n    this.trapAsync = false;\n    this._actionsRegistry = {};\n    this._initSnapshot = {};\n    this._lastSnapshot = {};\n  }\n\n  Alt.prototype.dispatch = function () {\n    function dispatch(action, data, details) {\n      var _this = this;\n\n      this.batchingFunction(function () {\n        var id = Math.random().toString(18).substr(2, 16);\n\n        // support straight dispatching of FSA-style actions\n        if (action.hasOwnProperty('type') && action.hasOwnProperty('payload')) {\n          var fsaDetails = {\n            id: action.type,\n            namespace: action.type,\n            name: action.type\n          };\n          return _this.dispatcher.dispatch(utils.fsa(id, action.type, action.payload, fsaDetails));\n        }\n\n        if (action.id && action.dispatch) {\n          return utils.dispatch(id, action, data, _this);\n        }\n\n        return _this.dispatcher.dispatch(utils.fsa(id, action, data, details));\n      });\n    }\n\n    return dispatch;\n  }();\n\n  Alt.prototype.createUnsavedStore = function () {\n    function createUnsavedStore(StoreModel) {\n      var key = StoreModel.displayName || '';\n      store.createStoreConfig(this.config, StoreModel);\n      var Store = store.transformStore(this.storeTransforms, StoreModel);\n\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return fn.isFunction(Store) ? store.createStoreFromClass.apply(store, [this, Store, key].concat(args)) : store.createStoreFromObject(this, Store, key);\n    }\n\n    return createUnsavedStore;\n  }();\n\n  Alt.prototype.createStore = function () {\n    function createStore(StoreModel, iden) {\n      var key = iden || StoreModel.displayName || StoreModel.name || '';\n      store.createStoreConfig(this.config, StoreModel);\n      var Store = store.transformStore(this.storeTransforms, StoreModel);\n\n      /* istanbul ignore next */\n      if (module.hot) delete this.stores[key];\n\n      if (this.stores[key] || !key) {\n        if (this.stores[key]) {\n          utils.warn('A store named ' + String(key) + ' already exists, double check your store ' + 'names or pass in your own custom identifier for each store');\n        } else {\n          utils.warn('Store name was not specified');\n        }\n\n        key = utils.uid(this.stores, key);\n      }\n\n      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n\n      var storeInstance = fn.isFunction(Store) ? store.createStoreFromClass.apply(store, [this, Store, key].concat(args)) : store.createStoreFromObject(this, Store, key);\n\n      this.stores[key] = storeInstance;\n      StateFunctions.saveInitialSnapshot(this, key);\n\n      return storeInstance;\n    }\n\n    return createStore;\n  }();\n\n  Alt.prototype.generateActions = function () {\n    function generateActions() {\n      var actions = { name: 'global' };\n\n      for (var _len3 = arguments.length, actionNames = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        actionNames[_key3] = arguments[_key3];\n      }\n\n      return this.createActions(actionNames.reduce(function (obj, action) {\n        obj[action] = utils.dispatchIdentity;\n        return obj;\n      }, actions));\n    }\n\n    return generateActions;\n  }();\n\n  Alt.prototype.createAction = function () {\n    function createAction(name, implementation, obj) {\n      return (0, _actions2['default'])(this, 'global', name, implementation, obj);\n    }\n\n    return createAction;\n  }();\n\n  Alt.prototype.createActions = function () {\n    function createActions(ActionsClass) {\n      var _this3 = this;\n\n      var exportObj = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      var actions = {};\n      var key = utils.uid(this._actionsRegistry, ActionsClass.displayName || ActionsClass.name || 'Unknown');\n\n      if (fn.isFunction(ActionsClass)) {\n        fn.assign(actions, utils.getPrototypeChain(ActionsClass));\n\n        var ActionsGenerator = function (_ActionsClass) {\n          _inherits(ActionsGenerator, _ActionsClass);\n\n          function ActionsGenerator() {\n            _classCallCheck(this, ActionsGenerator);\n\n            for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n              args[_key5] = arguments[_key5];\n            }\n\n            return _possibleConstructorReturn(this, _ActionsClass.call.apply(_ActionsClass, [this].concat(args)));\n          }\n\n          ActionsGenerator.prototype.generateActions = function () {\n            function generateActions() {\n              for (var _len6 = arguments.length, actionNames = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n                actionNames[_key6] = arguments[_key6];\n              }\n\n              actionNames.forEach(function (actionName) {\n                actions[actionName] = utils.dispatchIdentity;\n              });\n            }\n\n            return generateActions;\n          }();\n\n          return ActionsGenerator;\n        }(ActionsClass);\n\n        for (var _len4 = arguments.length, argsForConstructor = Array(_len4 > 2 ? _len4 - 2 : 0), _key4 = 2; _key4 < _len4; _key4++) {\n          argsForConstructor[_key4 - 2] = arguments[_key4];\n        }\n\n        fn.assign(actions, new (Function.prototype.bind.apply(ActionsGenerator, [null].concat(argsForConstructor)))());\n      } else {\n        fn.assign(actions, ActionsClass);\n      }\n\n      this.actions[key] = this.actions[key] || {};\n\n      fn.eachObject(function (actionName, action) {\n        if (!fn.isFunction(action)) {\n          exportObj[actionName] = action;\n          return;\n        }\n\n        // create the action\n        exportObj[actionName] = (0, _actions2['default'])(_this3, key, actionName, action, exportObj);\n\n        // generate a constant\n        var constant = utils.formatAsConstant(actionName);\n        exportObj[constant] = exportObj[actionName].id;\n      }, [actions]);\n\n      return exportObj;\n    }\n\n    return createActions;\n  }();\n\n  Alt.prototype.takeSnapshot = function () {\n    function takeSnapshot() {\n      for (var _len7 = arguments.length, storeNames = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n        storeNames[_key7] = arguments[_key7];\n      }\n\n      var state = StateFunctions.snapshot(this, storeNames);\n      fn.assign(this._lastSnapshot, state);\n      return this.serialize(state);\n    }\n\n    return takeSnapshot;\n  }();\n\n  Alt.prototype.rollback = function () {\n    function rollback() {\n      StateFunctions.setAppState(this, this.serialize(this._lastSnapshot), function (storeInst) {\n        storeInst.lifecycle('rollback');\n        storeInst.emitChange();\n      });\n    }\n\n    return rollback;\n  }();\n\n  Alt.prototype.recycle = function () {\n    function recycle() {\n      for (var _len8 = arguments.length, storeNames = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n        storeNames[_key8] = arguments[_key8];\n      }\n\n      var initialSnapshot = storeNames.length ? StateFunctions.filterSnapshots(this, this._initSnapshot, storeNames) : this._initSnapshot;\n\n      StateFunctions.setAppState(this, this.serialize(initialSnapshot), function (storeInst) {\n        storeInst.lifecycle('init');\n        storeInst.emitChange();\n      });\n    }\n\n    return recycle;\n  }();\n\n  Alt.prototype.flush = function () {\n    function flush() {\n      var state = this.serialize(StateFunctions.snapshot(this));\n      this.recycle();\n      return state;\n    }\n\n    return flush;\n  }();\n\n  Alt.prototype.bootstrap = function () {\n    function bootstrap(data) {\n      StateFunctions.setAppState(this, data, function (storeInst, state) {\n        storeInst.lifecycle('bootstrap', state);\n        storeInst.emitChange();\n      });\n    }\n\n    return bootstrap;\n  }();\n\n  Alt.prototype.prepare = function () {\n    function prepare(storeInst, payload) {\n      var data = {};\n      if (!storeInst.displayName) {\n        throw new ReferenceError('Store provided does not have a name');\n      }\n      data[storeInst.displayName] = payload;\n      return this.serialize(data);\n    }\n\n    return prepare;\n  }();\n\n  // Instance type methods for injecting alt into your application as context\n\n  Alt.prototype.addActions = function () {\n    function addActions(name, ActionsClass) {\n      for (var _len9 = arguments.length, args = Array(_len9 > 2 ? _len9 - 2 : 0), _key9 = 2; _key9 < _len9; _key9++) {\n        args[_key9 - 2] = arguments[_key9];\n      }\n\n      this.actions[name] = Array.isArray(ActionsClass) ? this.generateActions.apply(this, ActionsClass) : this.createActions.apply(this, [ActionsClass].concat(args));\n    }\n\n    return addActions;\n  }();\n\n  Alt.prototype.addStore = function () {\n    function addStore(name, StoreModel) {\n      for (var _len10 = arguments.length, args = Array(_len10 > 2 ? _len10 - 2 : 0), _key10 = 2; _key10 < _len10; _key10++) {\n        args[_key10 - 2] = arguments[_key10];\n      }\n\n      this.createStore.apply(this, [StoreModel, name].concat(args));\n    }\n\n    return addStore;\n  }();\n\n  Alt.prototype.getActions = function () {\n    function getActions(name) {\n      return this.actions[name];\n    }\n\n    return getActions;\n  }();\n\n  Alt.prototype.getStore = function () {\n    function getStore(name) {\n      return this.stores[name];\n    }\n\n    return getStore;\n  }();\n\n  Alt.debug = function () {\n    function debug(name, alt, win) {\n      var key = 'alt.js.org';\n      var context = win;\n      if (!context && typeof window !== 'undefined') {\n        context = window;\n      }\n      if (typeof context !== 'undefined') {\n        context[key] = context[key] || [];\n        context[key].push({ name: name, alt: alt });\n      }\n      return alt;\n    }\n\n    return debug;\n  }();\n\n  return Alt;\n}();\n\nexports['default'] = Alt;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _functions = require('../functions');\n\nvar fn = _interopRequireWildcard(_functions);\n\nvar _transmitter = require('transmitter');\n\nvar _transmitter2 = _interopRequireDefault(_transmitter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AltStore = function () {\n  function AltStore(alt, model, state, StoreModel) {\n    var _this = this;\n\n    _classCallCheck(this, AltStore);\n\n    var lifecycleEvents = model.lifecycleEvents;\n    this.transmitter = (0, _transmitter2['default'])();\n    this.lifecycle = function (event, x) {\n      if (lifecycleEvents[event]) lifecycleEvents[event].publish(x);\n    };\n    this.state = state;\n\n    this.alt = alt;\n    this.preventDefault = false;\n    this.displayName = model.displayName;\n    this.boundListeners = model.boundListeners;\n    this.StoreModel = StoreModel;\n    this.reduce = model.reduce || function (x) {\n      return x;\n    };\n    this.subscriptions = [];\n\n    var output = model.output || function (x) {\n      return x;\n    };\n\n    this.emitChange = function () {\n      return _this.transmitter.publish(output(_this.state));\n    };\n\n    var handleDispatch = function handleDispatch(f, payload) {\n      try {\n        return f();\n      } catch (e) {\n        if (model.handlesOwnErrors) {\n          _this.lifecycle('error', {\n            error: e,\n            payload: payload,\n            state: _this.state\n          });\n          return false;\n        }\n\n        throw e;\n      }\n    };\n\n    fn.assign(this, model.publicMethods);\n\n    // Register dispatcher\n    this.dispatchToken = alt.dispatcher.register(function (payload) {\n      _this.preventDefault = false;\n\n      _this.lifecycle('beforeEach', {\n        payload: payload,\n        state: _this.state\n      });\n\n      var actionHandlers = model.actionListeners[payload.action];\n\n      if (actionHandlers || model.otherwise) {\n        var result = void 0;\n\n        if (actionHandlers) {\n          result = handleDispatch(function () {\n            return actionHandlers.filter(Boolean).every(function (handler) {\n              return handler.call(model, payload.data, payload.action) !== false;\n            });\n          }, payload);\n        } else {\n          result = handleDispatch(function () {\n            return model.otherwise(payload.data, payload.action);\n          }, payload);\n        }\n\n        if (result !== false && !_this.preventDefault) _this.emitChange();\n      }\n\n      if (model.reduce) {\n        handleDispatch(function () {\n          var value = model.reduce(_this.state, payload);\n          if (value !== undefined) _this.state = value;\n        }, payload);\n        if (!_this.preventDefault) _this.emitChange();\n      }\n\n      _this.lifecycle('afterEach', {\n        payload: payload,\n        state: _this.state\n      });\n    });\n\n    this.lifecycle('init');\n  }\n\n  AltStore.prototype.listen = function () {\n    function listen(cb) {\n      var _this2 = this;\n\n      if (!fn.isFunction(cb)) throw new TypeError('listen expects a function');\n\n      var _transmitter$subscrib = this.transmitter.subscribe(cb);\n\n      var dispose = _transmitter$subscrib.dispose;\n\n      this.subscriptions.push({ cb: cb, dispose: dispose });\n      return function () {\n        _this2.lifecycle('unlisten');\n        dispose();\n      };\n    }\n\n    return listen;\n  }();\n\n  AltStore.prototype.unlisten = function () {\n    function unlisten(cb) {\n      this.lifecycle('unlisten');\n      this.subscriptions.filter(function (subscription) {\n        return subscription.cb === cb;\n      }).forEach(function (subscription) {\n        return subscription.dispose();\n      });\n    }\n\n    return unlisten;\n  }();\n\n  AltStore.prototype.getState = function () {\n    function getState() {\n      return this.StoreModel.config.getState.call(this, this.state);\n    }\n\n    return getState;\n  }();\n\n  return AltStore;\n}();\n\nexports['default'] = AltStore;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _transmitter = require('transmitter');\n\nvar _transmitter2 = _interopRequireDefault(_transmitter);\n\nvar _functions = require('../functions');\n\nvar fn = _interopRequireWildcard(_functions);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar StoreMixin = {\n  waitFor: function () {\n    function waitFor() {\n      for (var _len = arguments.length, sources = Array(_len), _key = 0; _key < _len; _key++) {\n        sources[_key] = arguments[_key];\n      }\n\n      if (!sources.length) {\n        throw new ReferenceError('Dispatch tokens not provided');\n      }\n\n      var sourcesArray = sources;\n      if (sources.length === 1) {\n        sourcesArray = Array.isArray(sources[0]) ? sources[0] : sources;\n      }\n\n      var tokens = sourcesArray.map(function (source) {\n        return source.dispatchToken || source;\n      });\n\n      this.dispatcher.waitFor(tokens);\n    }\n\n    return waitFor;\n  }(),\n  exportAsync: function () {\n    function exportAsync(asyncMethods) {\n      this.registerAsync(asyncMethods);\n    }\n\n    return exportAsync;\n  }(),\n  registerAsync: function () {\n    function registerAsync(asyncDef) {\n      var _this = this;\n\n      var loadCounter = 0;\n\n      var asyncMethods = fn.isFunction(asyncDef) ? asyncDef(this.alt) : asyncDef;\n\n      var toExport = Object.keys(asyncMethods).reduce(function (publicMethods, methodName) {\n        var desc = asyncMethods[methodName];\n        var spec = fn.isFunction(desc) ? desc(_this) : desc;\n\n        var validHandlers = ['success', 'error', 'loading'];\n        validHandlers.forEach(function (handler) {\n          if (spec[handler] && !spec[handler].id) {\n            throw new Error(String(handler) + ' handler must be an action function');\n          }\n        });\n\n        publicMethods[methodName] = function () {\n          for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          var state = _this.getInstance().getState();\n          var value = spec.local && spec.local.apply(spec, [state].concat(args));\n          var shouldFetch = spec.shouldFetch ? spec.shouldFetch.apply(spec, [state].concat(args))\n          /*eslint-disable*/\n          : value == null;\n          /*eslint-enable*/\n          var intercept = spec.interceptResponse || function (x) {\n            return x;\n          };\n\n          var makeActionHandler = function () {\n            function makeActionHandler(action, isError) {\n              return function (x) {\n                var fire = function () {\n                  function fire() {\n                    loadCounter -= 1;\n                    action(intercept(x, action, args));\n                    if (isError) throw x;\n                    return x;\n                  }\n\n                  return fire;\n                }();\n                return _this.alt.trapAsync ? function () {\n                  return fire();\n                } : fire();\n              };\n            }\n\n            return makeActionHandler;\n          }();\n\n          // if we don't have it in cache then fetch it\n          if (shouldFetch) {\n            loadCounter += 1;\n            /* istanbul ignore else */\n            if (spec.loading) spec.loading(intercept(null, spec.loading, args));\n            return spec.remote.apply(spec, [state].concat(args)).then(makeActionHandler(spec.success), makeActionHandler(spec.error, 1));\n          }\n\n          // otherwise emit the change now\n          _this.emitChange();\n          return value;\n        };\n\n        return publicMethods;\n      }, {});\n\n      this.exportPublicMethods(toExport);\n      this.exportPublicMethods({\n        isLoading: function () {\n          function isLoading() {\n            return loadCounter > 0;\n          }\n\n          return isLoading;\n        }()\n      });\n    }\n\n    return registerAsync;\n  }(),\n  exportPublicMethods: function () {\n    function exportPublicMethods(methods) {\n      var _this2 = this;\n\n      fn.eachObject(function (methodName, value) {\n        if (!fn.isFunction(value)) {\n          throw new TypeError('exportPublicMethods expects a function');\n        }\n\n        _this2.publicMethods[methodName] = value;\n      }, [methods]);\n    }\n\n    return exportPublicMethods;\n  }(),\n  emitChange: function () {\n    function emitChange() {\n      this.getInstance().emitChange();\n    }\n\n    return emitChange;\n  }(),\n  on: function () {\n    function on(lifecycleEvent, handler) {\n      if (lifecycleEvent === 'error') this.handlesOwnErrors = true;\n      var bus = this.lifecycleEvents[lifecycleEvent] || (0, _transmitter2['default'])();\n      this.lifecycleEvents[lifecycleEvent] = bus;\n      return bus.subscribe(handler.bind(this));\n    }\n\n    return on;\n  }(),\n  bindAction: function () {\n    function bindAction(symbol, handler) {\n      if (!symbol) {\n        throw new ReferenceError('Invalid action reference passed in');\n      }\n      if (!fn.isFunction(handler)) {\n        throw new TypeError('bindAction expects a function');\n      }\n\n      // You can pass in the constant or the function itself\n      var key = symbol.id ? symbol.id : symbol;\n      this.actionListeners[key] = this.actionListeners[key] || [];\n      this.actionListeners[key].push(handler.bind(this));\n      this.boundListeners.push(key);\n    }\n\n    return bindAction;\n  }(),\n  bindActions: function () {\n    function bindActions(actions) {\n      var _this3 = this;\n\n      fn.eachObject(function (action, symbol) {\n        var matchFirstCharacter = /./;\n        var assumedEventHandler = action.replace(matchFirstCharacter, function (x) {\n          return 'on' + String(x[0].toUpperCase());\n        });\n\n        if (_this3[action] && _this3[assumedEventHandler]) {\n          // If you have both action and onAction\n          throw new ReferenceError('You have multiple action handlers bound to an action: ' + (String(action) + ' and ' + String(assumedEventHandler)));\n        }\n\n        var handler = _this3[action] || _this3[assumedEventHandler];\n        if (handler) {\n          _this3.bindAction(symbol, handler);\n        }\n      }, [actions]);\n    }\n\n    return bindActions;\n  }(),\n  bindListeners: function () {\n    function bindListeners(obj) {\n      var _this4 = this;\n\n      fn.eachObject(function (methodName, symbol) {\n        var listener = _this4[methodName];\n\n        if (!listener) {\n          throw new ReferenceError(String(methodName) + ' defined but does not exist in ' + String(_this4.displayName));\n        }\n\n        if (Array.isArray(symbol)) {\n          symbol.forEach(function (action) {\n            _this4.bindAction(action, listener);\n          });\n        } else {\n          _this4.bindAction(symbol, listener);\n        }\n      }, [obj]);\n    }\n\n    return bindListeners;\n  }()\n};\n\nexports['default'] = StoreMixin;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createStoreConfig = createStoreConfig;\nexports.transformStore = transformStore;\nexports.createStoreFromObject = createStoreFromObject;\nexports.createStoreFromClass = createStoreFromClass;\n\nvar _AltUtils = require('../utils/AltUtils');\n\nvar utils = _interopRequireWildcard(_AltUtils);\n\nvar _functions = require('../functions');\n\nvar fn = _interopRequireWildcard(_functions);\n\nvar _AltStore = require('./AltStore');\n\nvar _AltStore2 = _interopRequireDefault(_AltStore);\n\nvar _StoreMixin = require('./StoreMixin');\n\nvar _StoreMixin2 = _interopRequireDefault(_StoreMixin);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction doSetState(store, storeInstance, state) {\n  if (!state) {\n    return;\n  }\n\n  var config = storeInstance.StoreModel.config;\n\n\n  var nextState = fn.isFunction(state) ? state(storeInstance.state) : state;\n\n  storeInstance.state = config.setState.call(store, storeInstance.state, nextState);\n\n  if (!store.alt.dispatcher.isDispatching()) {\n    store.emitChange();\n  }\n}\n\nfunction createPrototype(proto, alt, key, extras) {\n  return fn.assign(proto, _StoreMixin2['default'], {\n    displayName: key,\n    alt: alt,\n    dispatcher: alt.dispatcher,\n    preventDefault: function () {\n      function preventDefault() {\n        this.getInstance().preventDefault = true;\n      }\n\n      return preventDefault;\n    }(),\n\n    boundListeners: [],\n    lifecycleEvents: {},\n    actionListeners: {},\n    publicMethods: {},\n    handlesOwnErrors: false\n  }, extras);\n}\n\nfunction createStoreConfig(globalConfig, StoreModel) {\n  StoreModel.config = fn.assign({\n    getState: function () {\n      function getState(state) {\n        if (Array.isArray(state)) {\n          return state.slice();\n        } else if (fn.isMutableObject(state)) {\n          return fn.assign({}, state);\n        }\n\n        return state;\n      }\n\n      return getState;\n    }(),\n    setState: function () {\n      function setState(currentState, nextState) {\n        if (fn.isMutableObject(nextState)) {\n          return fn.assign(currentState, nextState);\n        }\n        return nextState;\n      }\n\n      return setState;\n    }()\n  }, globalConfig, StoreModel.config);\n}\n\nfunction transformStore(transforms, StoreModel) {\n  return transforms.reduce(function (Store, transform) {\n    return transform(Store);\n  }, StoreModel);\n}\n\nfunction createStoreFromObject(alt, StoreModel, key) {\n  var storeInstance = void 0;\n\n  var StoreProto = createPrototype({}, alt, key, fn.assign({\n    getInstance: function () {\n      function getInstance() {\n        return storeInstance;\n      }\n\n      return getInstance;\n    }(),\n    setState: function () {\n      function setState(nextState) {\n        doSetState(this, storeInstance, nextState);\n      }\n\n      return setState;\n    }()\n  }, StoreModel));\n\n  // bind the store listeners\n  /* istanbul ignore else */\n  if (StoreProto.bindListeners) {\n    _StoreMixin2['default'].bindListeners.call(StoreProto, StoreProto.bindListeners);\n  }\n  /* istanbul ignore else */\n  if (StoreProto.observe) {\n    _StoreMixin2['default'].bindListeners.call(StoreProto, StoreProto.observe(alt));\n  }\n\n  // bind the lifecycle events\n  /* istanbul ignore else */\n  if (StoreProto.lifecycle) {\n    fn.eachObject(function (eventName, event) {\n      _StoreMixin2['default'].on.call(StoreProto, eventName, event);\n    }, [StoreProto.lifecycle]);\n  }\n\n  // create the instance and fn.assign the public methods to the instance\n  storeInstance = fn.assign(new _AltStore2['default'](alt, StoreProto, StoreProto.state !== undefined ? StoreProto.state : {}, StoreModel), StoreProto.publicMethods, {\n    displayName: key,\n    config: StoreModel.config\n  });\n\n  return storeInstance;\n}\n\nfunction createStoreFromClass(alt, StoreModel, key) {\n  var storeInstance = void 0;\n  var config = StoreModel.config;\n\n  // Creating a class here so we don't overload the provided store's\n  // prototype with the mixin behaviour and I'm extending from StoreModel\n  // so we can inherit any extensions from the provided store.\n\n  var Store = function (_StoreModel) {\n    _inherits(Store, _StoreModel);\n\n    function Store() {\n      _classCallCheck(this, Store);\n\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return _possibleConstructorReturn(this, _StoreModel.call.apply(_StoreModel, [this].concat(args)));\n    }\n\n    return Store;\n  }(StoreModel);\n\n  createPrototype(Store.prototype, alt, key, {\n    type: 'AltStore',\n    getInstance: function () {\n      function getInstance() {\n        return storeInstance;\n      }\n\n      return getInstance;\n    }(),\n    setState: function () {\n      function setState(nextState) {\n        doSetState(this, storeInstance, nextState);\n      }\n\n      return setState;\n    }()\n  });\n\n  for (var _len = arguments.length, argsForClass = Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    argsForClass[_key - 3] = arguments[_key];\n  }\n\n  var store = new (Function.prototype.bind.apply(Store, [null].concat(argsForClass)))();\n\n  /* istanbul ignore next */\n  if (config.bindListeners) store.bindListeners(config.bindListeners);\n  /* istanbul ignore next */\n  if (config.datasource) store.registerAsync(config.datasource);\n\n  storeInstance = fn.assign(new _AltStore2['default'](alt, store, store.state !== undefined ? store.state : store, StoreModel), utils.getInternalMethods(StoreModel), config.publicMethods, { displayName: key });\n\n  return storeInstance;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.getInternalMethods = getInternalMethods;\nexports.getPrototypeChain = getPrototypeChain;\nexports.warn = warn;\nexports.uid = uid;\nexports.formatAsConstant = formatAsConstant;\nexports.dispatchIdentity = dispatchIdentity;\nexports.fsa = fsa;\nexports.dispatch = dispatch;\n\nvar _functions = require('../functions');\n\nvar fn = _interopRequireWildcard(_functions);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n/*eslint-disable*/\nvar builtIns = Object.getOwnPropertyNames(NoopClass);\nvar builtInProto = Object.getOwnPropertyNames(NoopClass.prototype);\n/*eslint-enable*/\n\nfunction getInternalMethods(Obj, isProto) {\n  var excluded = isProto ? builtInProto : builtIns;\n  var obj = isProto ? Obj.prototype : Obj;\n  return Object.getOwnPropertyNames(obj).reduce(function (value, m) {\n    if (excluded.indexOf(m) !== -1) {\n      return value;\n    }\n\n    value[m] = obj[m];\n    return value;\n  }, {});\n}\n\nfunction getPrototypeChain(Obj) {\n  var methods = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n  return Obj === Function.prototype ? methods : getPrototypeChain(Object.getPrototypeOf(Obj), fn.assign(getInternalMethods(Obj, true), methods));\n}\n\nfunction warn(msg) {\n  /* istanbul ignore else */\n  /*eslint-disable*/\n  if (typeof console !== 'undefined') {\n    console.warn(new ReferenceError(msg));\n  }\n  /*eslint-enable*/\n}\n\nfunction uid(container, name) {\n  var count = 0;\n  var key = name;\n  while (Object.hasOwnProperty.call(container, key)) {\n    key = name + String(++count);\n  }\n  return key;\n}\n\nfunction formatAsConstant(name) {\n  return name.replace(/[a-z]([A-Z])/g, function (i) {\n    return String(i[0]) + '_' + String(i[1].toLowerCase());\n  }).toUpperCase();\n}\n\nfunction dispatchIdentity(x) {\n  if (x === undefined) return null;\n\n  for (var _len = arguments.length, a = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    a[_key - 1] = arguments[_key];\n  }\n\n  return a.length ? [x].concat(a) : x;\n}\n\nfunction fsa(id, type, payload, details) {\n  return {\n    type: type,\n    payload: payload,\n    meta: _extends({\n      dispatchId: id\n    }, details),\n\n    id: id,\n    action: type,\n    data: payload,\n    details: details\n  };\n}\n\nfunction dispatch(id, actionObj, payload, alt) {\n  var data = actionObj.dispatch(payload);\n  if (data === undefined) return null;\n\n  var type = actionObj.id;\n  var namespace = type;\n  var name = type;\n  var details = { id: type, namespace: namespace, name: name };\n\n  var dispatchLater = function dispatchLater(x) {\n    return alt.dispatch(type, x, details);\n  };\n\n  if (fn.isFunction(data)) return data(dispatchLater, alt);\n\n  // XXX standardize this\n  return alt.dispatcher.dispatch(fsa(id, type, data, details));\n}\n\n/* istanbul ignore next */\nfunction NoopClass() {}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setAppState = setAppState;\nexports.snapshot = snapshot;\nexports.saveInitialSnapshot = saveInitialSnapshot;\nexports.filterSnapshots = filterSnapshots;\n\nvar _functions = require('../functions');\n\nvar fn = _interopRequireWildcard(_functions);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction setAppState(instance, data, onStore) {\n  var obj = instance.deserialize(data);\n  fn.eachObject(function (key, value) {\n    var store = instance.stores[key];\n    if (store) {\n      (function () {\n        var config = store.StoreModel.config;\n\n        var state = store.state;\n        if (config.onDeserialize) obj[key] = config.onDeserialize(value) || value;\n        if (fn.isMutableObject(state)) {\n          fn.eachObject(function (k) {\n            return delete state[k];\n          }, [state]);\n          fn.assign(state, obj[key]);\n        } else {\n          store.state = obj[key];\n        }\n        onStore(store, store.state);\n      })();\n    }\n  }, [obj]);\n}\n\nfunction snapshot(instance) {\n  var storeNames = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];\n\n  var stores = storeNames.length ? storeNames : Object.keys(instance.stores);\n  return stores.reduce(function (obj, storeHandle) {\n    var storeName = storeHandle.displayName || storeHandle;\n    var store = instance.stores[storeName];\n    var config = store.StoreModel.config;\n\n    store.lifecycle('snapshot');\n    var customSnapshot = config.onSerialize && config.onSerialize(store.state);\n    obj[storeName] = customSnapshot ? customSnapshot : store.getState();\n    return obj;\n  }, {});\n}\n\nfunction saveInitialSnapshot(instance, key) {\n  var state = instance.deserialize(instance.serialize(instance.stores[key].state));\n  instance._initSnapshot[key] = state;\n  instance._lastSnapshot[key] = state;\n}\n\nfunction filterSnapshots(instance, state, stores) {\n  return stores.reduce(function (obj, store) {\n    var storeName = store.displayName || store;\n    if (!state[storeName]) {\n      throw new ReferenceError(String(storeName) + ' is not a valid store');\n    }\n    obj[storeName] = state[storeName];\n    return obj;\n  }, {});\n}","var pSlice = Array.prototype.slice;\nvar objectKeys = require('./lib/keys.js');\nvar isArguments = require('./lib/is_arguments.js');\n\nvar deepEqual = module.exports = function (actual, expected, opts) {\n  if (!opts) opts = {};\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n\n  } else if (actual instanceof Date && expected instanceof Date) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n    return opts.strict ? actual === expected : actual == expected;\n\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected, opts);\n  }\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer (x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') return false;\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  var i, key;\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n    return false;\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  //~~~I've managed to break Object.keys through screwy arguments passing.\n  //   Converting to array solves the problem.\n  if (isArguments(a)) {\n    if (!isArguments(b)) {\n      return false;\n    }\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return deepEqual(a, b, opts);\n  }\n  if (isBuffer(a)) {\n    if (!isBuffer(b)) {\n      return false;\n    }\n    if (a.length !== b.length) return false;\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  try {\n    var ka = objectKeys(a),\n        kb = objectKeys(b);\n  } catch (e) {//happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) return false;\n  }\n  return typeof a === typeof b;\n}\n","var supportsArgumentsClass = (function(){\n  return Object.prototype.toString.call(arguments)\n})() == '[object Arguments]';\n\nexports = module.exports = supportsArgumentsClass ? supported : unsupported;\n\nexports.supported = supported;\nfunction supported(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n};\n\nexports.unsupported = unsupported;\nfunction unsupported(object){\n  return object &&\n    typeof object == 'object' &&\n    typeof object.length == 'number' &&\n    Object.prototype.hasOwnProperty.call(object, 'callee') &&\n    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\n    false;\n};\n","exports = module.exports = typeof Object.keys === 'function'\n  ? Object.keys : shim;\n\nexports.shim = shim;\nfunction shim (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n","/**\n * Copyright (c) 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\nmodule.exports.Dispatcher = require('./lib/Dispatcher');\n","/**\n * Copyright (c) 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Dispatcher\n * \n * @preventMunge\n */\n\n'use strict';\n\nexports.__esModule = true;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar _prefix = 'ID_';\n\n/**\n * Dispatcher is used to broadcast payloads to registered callbacks. This is\n * different from generic pub-sub systems in two ways:\n *\n *   1) Callbacks are not subscribed to particular events. Every payload is\n *      dispatched to every registered callback.\n *   2) Callbacks can be deferred in whole or part until other callbacks have\n *      been executed.\n *\n * For example, consider this hypothetical flight destination form, which\n * selects a default city when a country is selected:\n *\n *   var flightDispatcher = new Dispatcher();\n *\n *   // Keeps track of which country is selected\n *   var CountryStore = {country: null};\n *\n *   // Keeps track of which city is selected\n *   var CityStore = {city: null};\n *\n *   // Keeps track of the base flight price of the selected city\n *   var FlightPriceStore = {price: null}\n *\n * When a user changes the selected city, we dispatch the payload:\n *\n *   flightDispatcher.dispatch({\n *     actionType: 'city-update',\n *     selectedCity: 'paris'\n *   });\n *\n * This payload is digested by `CityStore`:\n *\n *   flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'city-update') {\n *       CityStore.city = payload.selectedCity;\n *     }\n *   });\n *\n * When the user selects a country, we dispatch the payload:\n *\n *   flightDispatcher.dispatch({\n *     actionType: 'country-update',\n *     selectedCountry: 'australia'\n *   });\n *\n * This payload is digested by both stores:\n *\n *   CountryStore.dispatchToken = flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'country-update') {\n *       CountryStore.country = payload.selectedCountry;\n *     }\n *   });\n *\n * When the callback to update `CountryStore` is registered, we save a reference\n * to the returned token. Using this token with `waitFor()`, we can guarantee\n * that `CountryStore` is updated before the callback that updates `CityStore`\n * needs to query its data.\n *\n *   CityStore.dispatchToken = flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'country-update') {\n *       // `CountryStore.country` may not be updated.\n *       flightDispatcher.waitFor([CountryStore.dispatchToken]);\n *       // `CountryStore.country` is now guaranteed to be updated.\n *\n *       // Select the default city for the new country\n *       CityStore.city = getDefaultCityForCountry(CountryStore.country);\n *     }\n *   });\n *\n * The usage of `waitFor()` can be chained, for example:\n *\n *   FlightPriceStore.dispatchToken =\n *     flightDispatcher.register(function(payload) {\n *       switch (payload.actionType) {\n *         case 'country-update':\n *         case 'city-update':\n *           flightDispatcher.waitFor([CityStore.dispatchToken]);\n *           FlightPriceStore.price =\n *             getFlightPriceStore(CountryStore.country, CityStore.city);\n *           break;\n *     }\n *   });\n *\n * The `country-update` payload will be guaranteed to invoke the stores'\n * registered callbacks in order: `CountryStore`, `CityStore`, then\n * `FlightPriceStore`.\n */\n\nvar Dispatcher = (function () {\n  function Dispatcher() {\n    _classCallCheck(this, Dispatcher);\n\n    this._callbacks = {};\n    this._isDispatching = false;\n    this._isHandled = {};\n    this._isPending = {};\n    this._lastID = 1;\n  }\n\n  /**\n   * Registers a callback to be invoked with every dispatched payload. Returns\n   * a token that can be used with `waitFor()`.\n   */\n\n  Dispatcher.prototype.register = function register(callback) {\n    var id = _prefix + this._lastID++;\n    this._callbacks[id] = callback;\n    return id;\n  };\n\n  /**\n   * Removes a callback based on its token.\n   */\n\n  Dispatcher.prototype.unregister = function unregister(id) {\n    !this._callbacks[id] ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.unregister(...): `%s` does not map to a registered callback.', id) : invariant(false) : undefined;\n    delete this._callbacks[id];\n  };\n\n  /**\n   * Waits for the callbacks specified to be invoked before continuing execution\n   * of the current callback. This method should only be used by a callback in\n   * response to a dispatched payload.\n   */\n\n  Dispatcher.prototype.waitFor = function waitFor(ids) {\n    !this._isDispatching ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.waitFor(...): Must be invoked while dispatching.') : invariant(false) : undefined;\n    for (var ii = 0; ii < ids.length; ii++) {\n      var id = ids[ii];\n      if (this._isPending[id]) {\n        !this._isHandled[id] ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.waitFor(...): Circular dependency detected while ' + 'waiting for `%s`.', id) : invariant(false) : undefined;\n        continue;\n      }\n      !this._callbacks[id] ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.waitFor(...): `%s` does not map to a registered callback.', id) : invariant(false) : undefined;\n      this._invokeCallback(id);\n    }\n  };\n\n  /**\n   * Dispatches a payload to all registered callbacks.\n   */\n\n  Dispatcher.prototype.dispatch = function dispatch(payload) {\n    !!this._isDispatching ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.') : invariant(false) : undefined;\n    this._startDispatching(payload);\n    try {\n      for (var id in this._callbacks) {\n        if (this._isPending[id]) {\n          continue;\n        }\n        this._invokeCallback(id);\n      }\n    } finally {\n      this._stopDispatching();\n    }\n  };\n\n  /**\n   * Is this Dispatcher currently dispatching.\n   */\n\n  Dispatcher.prototype.isDispatching = function isDispatching() {\n    return this._isDispatching;\n  };\n\n  /**\n   * Call the callback stored with the given id. Also do some internal\n   * bookkeeping.\n   *\n   * @internal\n   */\n\n  Dispatcher.prototype._invokeCallback = function _invokeCallback(id) {\n    this._isPending[id] = true;\n    this._callbacks[id](this._pendingPayload);\n    this._isHandled[id] = true;\n  };\n\n  /**\n   * Set up bookkeeping needed when dispatching.\n   *\n   * @internal\n   */\n\n  Dispatcher.prototype._startDispatching = function _startDispatching(payload) {\n    for (var id in this._callbacks) {\n      this._isPending[id] = false;\n      this._isHandled[id] = false;\n    }\n    this._pendingPayload = payload;\n    this._isDispatching = true;\n  };\n\n  /**\n   * Clear bookkeeping used for dispatching.\n   *\n   * @internal\n   */\n\n  Dispatcher.prototype._stopDispatching = function _stopDispatching() {\n    delete this._pendingPayload;\n    this._isDispatching = false;\n  };\n\n  return Dispatcher;\n})();\n\nmodule.exports = Dispatcher;","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule invariant\n */\n\n\"use strict\";\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function (condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error('Invariant Violation: ' + format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;","/**\n * Indicates that navigation was caused by a call to history.push.\n */\n'use strict';\n\nexports.__esModule = true;\nvar PUSH = 'PUSH';\n\nexports.PUSH = PUSH;\n/**\n * Indicates that navigation was caused by a call to history.replace.\n */\nvar REPLACE = 'REPLACE';\n\nexports.REPLACE = REPLACE;\n/**\n * Indicates that navigation was caused by some other action such\n * as using a browser's back/forward buttons and/or manually manipulating\n * the URL in a browser's location bar. This is the default.\n *\n * See https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onpopstate\n * for more information.\n */\nvar POP = 'POP';\n\nexports.POP = POP;\nexports['default'] = {\n  PUSH: PUSH,\n  REPLACE: REPLACE,\n  POP: POP\n};","\"use strict\";\n\nexports.__esModule = true;\nexports.loopAsync = loopAsync;\n\nfunction loopAsync(turns, work, callback) {\n  var currentTurn = 0;\n  var isDone = false;\n\n  function done() {\n    isDone = true;\n    callback.apply(this, arguments);\n  }\n\n  function next() {\n    if (isDone) return;\n\n    if (currentTurn < turns) {\n      work.call(this, currentTurn++, next, done);\n    } else {\n      done.apply(this, arguments);\n    }\n  }\n\n  next();\n}","/*eslint-disable no-empty */\n'use strict';\n\nexports.__esModule = true;\nexports.saveState = saveState;\nexports.readState = readState;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar KeyPrefix = '@@History/';\nvar QuotaExceededError = 'QuotaExceededError';\nvar SecurityError = 'SecurityError';\n\nfunction createKey(key) {\n  return KeyPrefix + key;\n}\n\nfunction saveState(key, state) {\n  try {\n    window.sessionStorage.setItem(createKey(key), JSON.stringify(state));\n  } catch (error) {\n    if (error.name === SecurityError) {\n      // Blocking cookies in Chrome/Firefox/Safari throws SecurityError on any\n      // attempt to access window.sessionStorage.\n      process.env.NODE_ENV !== 'production' ? _warning2['default'](false, '[history] Unable to save state; sessionStorage is not available due to security settings') : undefined;\n\n      return;\n    }\n\n    if (error.name === QuotaExceededError && window.sessionStorage.length === 0) {\n      // Safari \"private mode\" throws QuotaExceededError.\n      process.env.NODE_ENV !== 'production' ? _warning2['default'](false, '[history] Unable to save state; sessionStorage is not available in Safari private mode') : undefined;\n\n      return;\n    }\n\n    throw error;\n  }\n}\n\nfunction readState(key) {\n  var json = undefined;\n  try {\n    json = window.sessionStorage.getItem(createKey(key));\n  } catch (error) {\n    if (error.name === SecurityError) {\n      // Blocking cookies in Chrome/Firefox/Safari throws SecurityError on any\n      // attempt to access window.sessionStorage.\n      process.env.NODE_ENV !== 'production' ? _warning2['default'](false, '[history] Unable to read state; sessionStorage is not available due to security settings') : undefined;\n\n      return null;\n    }\n  }\n\n  if (json) {\n    try {\n      return JSON.parse(json);\n    } catch (error) {\n      // Ignore invalid JSON.\n    }\n  }\n\n  return null;\n}","'use strict';\n\nexports.__esModule = true;\nexports.addEventListener = addEventListener;\nexports.removeEventListener = removeEventListener;\nexports.getHashPath = getHashPath;\nexports.replaceHashPath = replaceHashPath;\nexports.getWindowPath = getWindowPath;\nexports.go = go;\nexports.getUserConfirmation = getUserConfirmation;\nexports.supportsHistory = supportsHistory;\nexports.supportsGoWithoutReloadUsingHash = supportsGoWithoutReloadUsingHash;\n\nfunction addEventListener(node, event, listener) {\n  if (node.addEventListener) {\n    node.addEventListener(event, listener, false);\n  } else {\n    node.attachEvent('on' + event, listener);\n  }\n}\n\nfunction removeEventListener(node, event, listener) {\n  if (node.removeEventListener) {\n    node.removeEventListener(event, listener, false);\n  } else {\n    node.detachEvent('on' + event, listener);\n  }\n}\n\nfunction getHashPath() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  return window.location.href.split('#')[1] || '';\n}\n\nfunction replaceHashPath(path) {\n  window.location.replace(window.location.pathname + window.location.search + '#' + path);\n}\n\nfunction getWindowPath() {\n  return window.location.pathname + window.location.search + window.location.hash;\n}\n\nfunction go(n) {\n  if (n) window.history.go(n);\n}\n\nfunction getUserConfirmation(message, callback) {\n  callback(window.confirm(message));\n}\n\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/rackt/react-router/issues/586\n */\n\nfunction supportsHistory() {\n  var ua = navigator.userAgent;\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) {\n    return false;\n  }\n  // FIXME: Work around our browser history not working correctly on Chrome\n  // iOS: https://github.com/rackt/react-router/issues/2565\n  if (ua.indexOf('CriOS') !== -1) {\n    return false;\n  }\n  return window.history && 'pushState' in window.history;\n}\n\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\n\nfunction supportsGoWithoutReloadUsingHash() {\n  var ua = navigator.userAgent;\n  return ua.indexOf('Firefox') === -1;\n}","'use strict';\n\nexports.__esModule = true;\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nexports.canUseDOM = canUseDOM;","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _Actions = require('./Actions');\n\nvar _ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar _DOMUtils = require('./DOMUtils');\n\nvar _DOMStateStorage = require('./DOMStateStorage');\n\nvar _createDOMHistory = require('./createDOMHistory');\n\nvar _createDOMHistory2 = _interopRequireDefault(_createDOMHistory);\n\nvar _parsePath = require('./parsePath');\n\nvar _parsePath2 = _interopRequireDefault(_parsePath);\n\n/**\n * Creates and returns a history object that uses HTML5's history API\n * (pushState, replaceState, and the popstate event) to manage history.\n * This is the recommended method of managing history in browsers because\n * it provides the cleanest URLs.\n *\n * Note: In browsers that do not support the HTML5 history API full\n * page reloads will be used to preserve URLs.\n */\nfunction createBrowserHistory() {\n  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  !_ExecutionEnvironment.canUseDOM ? process.env.NODE_ENV !== 'production' ? _invariant2['default'](false, 'Browser history needs a DOM') : _invariant2['default'](false) : undefined;\n\n  var forceRefresh = options.forceRefresh;\n\n  var isSupported = _DOMUtils.supportsHistory();\n  var useRefresh = !isSupported || forceRefresh;\n\n  function getCurrentLocation(historyState) {\n    historyState = historyState || window.history.state || {};\n\n    var path = _DOMUtils.getWindowPath();\n    var _historyState = historyState;\n    var key = _historyState.key;\n\n    var state = undefined;\n    if (key) {\n      state = _DOMStateStorage.readState(key);\n    } else {\n      state = null;\n      key = history.createKey();\n\n      if (isSupported) window.history.replaceState(_extends({}, historyState, { key: key }), null, path);\n    }\n\n    var location = _parsePath2['default'](path);\n\n    return history.createLocation(_extends({}, location, { state: state }), undefined, key);\n  }\n\n  function startPopStateListener(_ref) {\n    var transitionTo = _ref.transitionTo;\n\n    function popStateListener(event) {\n      if (event.state === undefined) return; // Ignore extraneous popstate events in WebKit.\n\n      transitionTo(getCurrentLocation(event.state));\n    }\n\n    _DOMUtils.addEventListener(window, 'popstate', popStateListener);\n\n    return function () {\n      _DOMUtils.removeEventListener(window, 'popstate', popStateListener);\n    };\n  }\n\n  function finishTransition(location) {\n    var basename = location.basename;\n    var pathname = location.pathname;\n    var search = location.search;\n    var hash = location.hash;\n    var state = location.state;\n    var action = location.action;\n    var key = location.key;\n\n    if (action === _Actions.POP) return; // Nothing to do.\n\n    _DOMStateStorage.saveState(key, state);\n\n    var path = (basename || '') + pathname + search + hash;\n    var historyState = {\n      key: key\n    };\n\n    if (action === _Actions.PUSH) {\n      if (useRefresh) {\n        window.location.href = path;\n        return false; // Prevent location update.\n      } else {\n          window.history.pushState(historyState, null, path);\n        }\n    } else {\n      // REPLACE\n      if (useRefresh) {\n        window.location.replace(path);\n        return false; // Prevent location update.\n      } else {\n          window.history.replaceState(historyState, null, path);\n        }\n    }\n  }\n\n  var history = _createDOMHistory2['default'](_extends({}, options, {\n    getCurrentLocation: getCurrentLocation,\n    finishTransition: finishTransition,\n    saveState: _DOMStateStorage.saveState\n  }));\n\n  var listenerCount = 0,\n      stopPopStateListener = undefined;\n\n  function listenBefore(listener) {\n    if (++listenerCount === 1) stopPopStateListener = startPopStateListener(history);\n\n    var unlisten = history.listenBefore(listener);\n\n    return function () {\n      unlisten();\n\n      if (--listenerCount === 0) stopPopStateListener();\n    };\n  }\n\n  function listen(listener) {\n    if (++listenerCount === 1) stopPopStateListener = startPopStateListener(history);\n\n    var unlisten = history.listen(listener);\n\n    return function () {\n      unlisten();\n\n      if (--listenerCount === 0) stopPopStateListener();\n    };\n  }\n\n  // deprecated\n  function registerTransitionHook(hook) {\n    if (++listenerCount === 1) stopPopStateListener = startPopStateListener(history);\n\n    history.registerTransitionHook(hook);\n  }\n\n  // deprecated\n  function unregisterTransitionHook(hook) {\n    history.unregisterTransitionHook(hook);\n\n    if (--listenerCount === 0) stopPopStateListener();\n  }\n\n  return _extends({}, history, {\n    listenBefore: listenBefore,\n    listen: listen,\n    registerTransitionHook: registerTransitionHook,\n    unregisterTransitionHook: unregisterTransitionHook\n  });\n}\n\nexports['default'] = createBrowserHistory;\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar _DOMUtils = require('./DOMUtils');\n\nvar _createHistory = require('./createHistory');\n\nvar _createHistory2 = _interopRequireDefault(_createHistory);\n\nfunction createDOMHistory(options) {\n  var history = _createHistory2['default'](_extends({\n    getUserConfirmation: _DOMUtils.getUserConfirmation\n  }, options, {\n    go: _DOMUtils.go\n  }));\n\n  function listen(listener) {\n    !_ExecutionEnvironment.canUseDOM ? process.env.NODE_ENV !== 'production' ? _invariant2['default'](false, 'DOM history needs a DOM') : _invariant2['default'](false) : undefined;\n\n    return history.listen(listener);\n  }\n\n  return _extends({}, history, {\n    listen: listen\n  });\n}\n\nexports['default'] = createDOMHistory;\nmodule.exports = exports['default'];","//import warning from 'warning'\n'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _deepEqual = require('deep-equal');\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _AsyncUtils = require('./AsyncUtils');\n\nvar _Actions = require('./Actions');\n\nvar _createLocation2 = require('./createLocation');\n\nvar _createLocation3 = _interopRequireDefault(_createLocation2);\n\nvar _runTransitionHook = require('./runTransitionHook');\n\nvar _runTransitionHook2 = _interopRequireDefault(_runTransitionHook);\n\nvar _parsePath = require('./parsePath');\n\nvar _parsePath2 = _interopRequireDefault(_parsePath);\n\nvar _deprecate = require('./deprecate');\n\nvar _deprecate2 = _interopRequireDefault(_deprecate);\n\nfunction createRandomKey(length) {\n  return Math.random().toString(36).substr(2, length);\n}\n\nfunction locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search &&\n  //a.action === b.action && // Different action !== location change.\n  a.key === b.key && _deepEqual2['default'](a.state, b.state);\n}\n\nvar DefaultKeyLength = 6;\n\nfunction createHistory() {\n  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n  var getCurrentLocation = options.getCurrentLocation;\n  var finishTransition = options.finishTransition;\n  var saveState = options.saveState;\n  var go = options.go;\n  var keyLength = options.keyLength;\n  var getUserConfirmation = options.getUserConfirmation;\n\n  if (typeof keyLength !== 'number') keyLength = DefaultKeyLength;\n\n  var transitionHooks = [];\n\n  function listenBefore(hook) {\n    transitionHooks.push(hook);\n\n    return function () {\n      transitionHooks = transitionHooks.filter(function (item) {\n        return item !== hook;\n      });\n    };\n  }\n\n  var allKeys = [];\n  var changeListeners = [];\n  var location = undefined;\n\n  function getCurrent() {\n    if (pendingLocation && pendingLocation.action === _Actions.POP) {\n      return allKeys.indexOf(pendingLocation.key);\n    } else if (location) {\n      return allKeys.indexOf(location.key);\n    } else {\n      return -1;\n    }\n  }\n\n  function updateLocation(newLocation) {\n    var current = getCurrent();\n\n    location = newLocation;\n\n    if (location.action === _Actions.PUSH) {\n      allKeys = [].concat(allKeys.slice(0, current + 1), [location.key]);\n    } else if (location.action === _Actions.REPLACE) {\n      allKeys[current] = location.key;\n    }\n\n    changeListeners.forEach(function (listener) {\n      listener(location);\n    });\n  }\n\n  function listen(listener) {\n    changeListeners.push(listener);\n\n    if (location) {\n      listener(location);\n    } else {\n      var _location = getCurrentLocation();\n      allKeys = [_location.key];\n      updateLocation(_location);\n    }\n\n    return function () {\n      changeListeners = changeListeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  }\n\n  function confirmTransitionTo(location, callback) {\n    _AsyncUtils.loopAsync(transitionHooks.length, function (index, next, done) {\n      _runTransitionHook2['default'](transitionHooks[index], location, function (result) {\n        if (result != null) {\n          done(result);\n        } else {\n          next();\n        }\n      });\n    }, function (message) {\n      if (getUserConfirmation && typeof message === 'string') {\n        getUserConfirmation(message, function (ok) {\n          callback(ok !== false);\n        });\n      } else {\n        callback(message !== false);\n      }\n    });\n  }\n\n  var pendingLocation = undefined;\n\n  function transitionTo(nextLocation) {\n    if (location && locationsAreEqual(location, nextLocation)) return; // Nothing to do.\n\n    pendingLocation = nextLocation;\n\n    confirmTransitionTo(nextLocation, function (ok) {\n      if (pendingLocation !== nextLocation) return; // Transition was interrupted.\n\n      if (ok) {\n        // treat PUSH to current path like REPLACE to be consistent with browsers\n        if (nextLocation.action === _Actions.PUSH) {\n          var prevPath = createPath(location);\n          var nextPath = createPath(nextLocation);\n\n          if (nextPath === prevPath) nextLocation.action = _Actions.REPLACE;\n        }\n\n        if (finishTransition(nextLocation) !== false) updateLocation(nextLocation);\n      } else if (location && nextLocation.action === _Actions.POP) {\n        var prevIndex = allKeys.indexOf(location.key);\n        var nextIndex = allKeys.indexOf(nextLocation.key);\n\n        if (prevIndex !== -1 && nextIndex !== -1) go(prevIndex - nextIndex); // Restore the URL.\n      }\n    });\n  }\n\n  function push(location) {\n    transitionTo(createLocation(location, _Actions.PUSH, createKey()));\n  }\n\n  function replace(location) {\n    transitionTo(createLocation(location, _Actions.REPLACE, createKey()));\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  function createKey() {\n    return createRandomKey(keyLength);\n  }\n\n  function createPath(location) {\n    if (location == null || typeof location === 'string') return location;\n\n    var pathname = location.pathname;\n    var search = location.search;\n    var hash = location.hash;\n\n    var result = pathname;\n\n    if (search) result += search;\n\n    if (hash) result += hash;\n\n    return result;\n  }\n\n  function createHref(location) {\n    return createPath(location);\n  }\n\n  function createLocation(location, action) {\n    var key = arguments.length <= 2 || arguments[2] === undefined ? createKey() : arguments[2];\n\n    if (typeof action === 'object') {\n      //warning(\n      //  false,\n      //  'The state (2nd) argument to history.createLocation is deprecated; use a ' +\n      //  'location descriptor instead'\n      //)\n\n      if (typeof location === 'string') location = _parsePath2['default'](location);\n\n      location = _extends({}, location, { state: action });\n\n      action = key;\n      key = arguments[3] || createKey();\n    }\n\n    return _createLocation3['default'](location, action, key);\n  }\n\n  // deprecated\n  function setState(state) {\n    if (location) {\n      updateLocationState(location, state);\n      updateLocation(location);\n    } else {\n      updateLocationState(getCurrentLocation(), state);\n    }\n  }\n\n  function updateLocationState(location, state) {\n    location.state = _extends({}, location.state, state);\n    saveState(location.key, location.state);\n  }\n\n  // deprecated\n  function registerTransitionHook(hook) {\n    if (transitionHooks.indexOf(hook) === -1) transitionHooks.push(hook);\n  }\n\n  // deprecated\n  function unregisterTransitionHook(hook) {\n    transitionHooks = transitionHooks.filter(function (item) {\n      return item !== hook;\n    });\n  }\n\n  // deprecated\n  function pushState(state, path) {\n    if (typeof path === 'string') path = _parsePath2['default'](path);\n\n    push(_extends({ state: state }, path));\n  }\n\n  // deprecated\n  function replaceState(state, path) {\n    if (typeof path === 'string') path = _parsePath2['default'](path);\n\n    replace(_extends({ state: state }, path));\n  }\n\n  return {\n    listenBefore: listenBefore,\n    listen: listen,\n    transitionTo: transitionTo,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    createKey: createKey,\n    createPath: createPath,\n    createHref: createHref,\n    createLocation: createLocation,\n\n    setState: _deprecate2['default'](setState, 'setState is deprecated; use location.key to save state instead'),\n    registerTransitionHook: _deprecate2['default'](registerTransitionHook, 'registerTransitionHook is deprecated; use listenBefore instead'),\n    unregisterTransitionHook: _deprecate2['default'](unregisterTransitionHook, 'unregisterTransitionHook is deprecated; use the callback returned from listenBefore instead'),\n    pushState: _deprecate2['default'](pushState, 'pushState is deprecated; use push instead'),\n    replaceState: _deprecate2['default'](replaceState, 'replaceState is deprecated; use replace instead')\n  };\n}\n\nexports['default'] = createHistory;\nmodule.exports = exports['default'];","//import warning from 'warning'\n'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _Actions = require('./Actions');\n\nvar _parsePath = require('./parsePath');\n\nvar _parsePath2 = _interopRequireDefault(_parsePath);\n\nfunction createLocation() {\n  var location = arguments.length <= 0 || arguments[0] === undefined ? '/' : arguments[0];\n  var action = arguments.length <= 1 || arguments[1] === undefined ? _Actions.POP : arguments[1];\n  var key = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];\n\n  var _fourthArg = arguments.length <= 3 || arguments[3] === undefined ? null : arguments[3];\n\n  if (typeof location === 'string') location = _parsePath2['default'](location);\n\n  if (typeof action === 'object') {\n    //warning(\n    //  false,\n    //  'The state (2nd) argument to createLocation is deprecated; use a ' +\n    //  'location descriptor instead'\n    //)\n\n    location = _extends({}, location, { state: action });\n\n    action = key || _Actions.POP;\n    key = _fourthArg;\n  }\n\n  var pathname = location.pathname || '/';\n  var search = location.search || '';\n  var hash = location.hash || '';\n  var state = location.state || null;\n\n  return {\n    pathname: pathname,\n    search: search,\n    hash: hash,\n    state: state,\n    action: action,\n    key: key\n  };\n}\n\nexports['default'] = createLocation;\nmodule.exports = exports['default'];","//import warning from 'warning'\n\n\"use strict\";\n\nexports.__esModule = true;\nfunction deprecate(fn) {\n  return fn;\n  //return function () {\n  //  warning(false, '[history] ' + message)\n  //  return fn.apply(this, arguments)\n  //}\n}\n\nexports[\"default\"] = deprecate;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nexports.__esModule = true;\nfunction extractPath(string) {\n  var match = string.match(/^https?:\\/\\/[^\\/]*/);\n\n  if (match == null) return string;\n\n  return string.substring(match[0].length);\n}\n\nexports[\"default\"] = extractPath;\nmodule.exports = exports[\"default\"];","'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _extractPath = require('./extractPath');\n\nvar _extractPath2 = _interopRequireDefault(_extractPath);\n\nfunction parsePath(path) {\n  var pathname = _extractPath2['default'](path);\n  var search = '';\n  var hash = '';\n\n  process.env.NODE_ENV !== 'production' ? _warning2['default'](path === pathname, 'A path must be pathname + search + hash only, not a fully qualified URL like \"%s\"', path) : undefined;\n\n  var hashIndex = pathname.indexOf('#');\n  if (hashIndex !== -1) {\n    hash = pathname.substring(hashIndex);\n    pathname = pathname.substring(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n  if (searchIndex !== -1) {\n    search = pathname.substring(searchIndex);\n    pathname = pathname.substring(0, searchIndex);\n  }\n\n  if (pathname === '') pathname = '/';\n\n  return {\n    pathname: pathname,\n    search: search,\n    hash: hash\n  };\n}\n\nexports['default'] = parsePath;\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction runTransitionHook(hook, location, callback) {\n  var result = hook(location, callback);\n\n  if (hook.length < 2) {\n    // Assume the hook runs synchronously and automatically\n    // call the callback with the return value.\n    callback(result);\n  } else {\n    process.env.NODE_ENV !== 'production' ? _warning2['default'](result === undefined, 'You should not \"return\" in a transition hook with a callback argument; call the callback instead') : undefined;\n  }\n}\n\nexports['default'] = runTransitionHook;\nmodule.exports = exports['default'];","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","module.exports = isPromise;\n\nfunction isPromise(obj) {\n  return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\"use strict\";\n\nfunction transmitter() {\n  var subscriptions = [];\n  var nowDispatching = false;\n  var toUnsubscribe = {};\n\n  var unsubscribe = function unsubscribe(onChange) {\n    var id = subscriptions.indexOf(onChange);\n    if (id < 0) return;\n    if (nowDispatching) {\n      toUnsubscribe[id] = onChange;\n      return;\n    }\n    subscriptions.splice(id, 1);\n  };\n\n  var subscribe = function subscribe(onChange) {\n    var id = subscriptions.push(onChange);\n    var dispose = function dispose() {\n      return unsubscribe(onChange);\n    };\n    return { dispose: dispose };\n  };\n\n  var publish = function publish() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    nowDispatching = true;\n    try {\n      subscriptions.forEach(function (subscription, id) {\n        return toUnsubscribe[id] || subscription.apply(undefined, args);\n      });\n    } finally {\n      nowDispatching = false;\n      Object.keys(toUnsubscribe).forEach(function (id) {\n        return unsubscribe(toUnsubscribe[id]);\n      });\n      toUnsubscribe = {};\n    }\n  };\n\n  return {\n    publish: publish,\n    subscribe: subscribe,\n    $subscriptions: subscriptions\n  };\n}\n\nmodule.exports = transmitter;","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n        '`warning(condition, format, ...args)` requires a warning ' +\n        'message argument'\n      );\n    }\n\n    if (format.length < 10 || (/^[s\\W]*$/).test(format)) {\n      throw new Error(\n        'The warning format should be able to uniquely identify this ' +\n        'warning. Please, use a more descriptive format than: ' + format\n      );\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' +\n        format.replace(/%s/g, function() {\n          return args[argIndex++];\n        });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch(x) {}\n    }\n  };\n}\n\nmodule.exports = warning;\n","import alt from '../alt'\r\n\r\nclass FormActions {\r\n  constructor () {\r\n    this.generateActions(\r\n      'handleUsernameChange',\r\n      'handlePasswordChange',\r\n      'handleConfirmedPasswordChange',\r\n      'handleFirstNameChange',\r\n      'handleLastNameChange',\r\n      'handleAgeChange',\r\n      'handleGenderChange',\r\n      'usernameValidationFail',\r\n      'passwordValidationFail',\r\n      'unauthorizedAccessAttempt',\r\n      'handleCommentChange',\r\n      'commentValidationFail',\r\n      'handleScoreChange',\r\n      'scoreValidationFail',\r\n    )\r\n  }\r\n}\r\n\r\nexport default alt.createActions(FormActions)\r\n","import alt from '../alt'\r\nimport TMDB from '../utilities/RequesterTMDB'\r\n\r\nclass MovieActions {\r\n  constructor () {\r\n    this.generateActions(\r\n      'getTopTenMoviesSuccess',\r\n      'getTopTenMoviesFail',\r\n      'getFiveRecentMoviesSuccess',\r\n      'getFiveRecentMoviesFail',\r\n      'emptyTopTenMovies',\r\n      'addMovieToTopTen',\r\n      'addCommentSuccess',\r\n      'addCommentFail',\r\n      'addVoteSuccess',\r\n      'addVoteFail',\r\n    )\r\n  }\r\n\r\n  getFiveRecentMovies () {\r\n    let request = {\r\n      method: 'get',\r\n      url: '/api/movies/five-recent',\r\n    }\r\n    $.ajax(request).done(data => this.getFiveRecentMoviesSuccess(data))\r\n\r\n    return true\r\n  }\r\n\r\n  getTopTenMovies () {\r\n    let request = {\r\n      url: '/api/movies/top-ten',\r\n      method: 'get',\r\n    }\r\n\r\n    $.ajax(request).done(payload => {\r\n      this.emptyTopTenMovies()\r\n      for (let movie of payload) {\r\n        let movieData = {\r\n          _id: movie._id,\r\n          name: movie.name,\r\n          description: movie.description,\r\n          genres: movie.genres,\r\n          votes: movie.votes,\r\n          score: movie.score,\r\n        }\r\n\r\n        TMDB.getMoviePoster(movie.name).then(tmdbResponse => {\r\n          movieData.moviePosterUrl = tmdbResponse.posterUrl\r\n\r\n          getComments(movie._id).then(comments => {\r\n            movieData.comments = comments\r\n\r\n            getLoggedInUserVote(movie._id).then(vote => {\r\n              movieData.loggedInUserScore = vote.voteScore\r\n\r\n              this.addMovieToTopTen(movieData)\r\n            })\r\n          })\r\n        })\r\n      }\r\n    }).fail(err => this.getTopTenMoviesFail(err))\r\n\r\n    return true\r\n  }\r\n\r\n  addComment (movieId, comment) {\r\n    let request = {\r\n      url: `/api/movies/${movieId}/comments`,\r\n      method: 'post',\r\n      contentType: 'application/json',\r\n      data: JSON.stringify({content: comment}),\r\n    }\r\n\r\n    $.ajax(request).done(data => {\r\n      this.addCommentSuccess(data)\r\n    }).fail(err => {\r\n      this.addCommentFail(err.responseJSON)\r\n    })\r\n\r\n    return true\r\n  }\r\n\r\n  addVote (movieId, score) {\r\n    let request = {\r\n      url: `/api/movies/${movieId}/vote`,\r\n      method: 'post',\r\n      contentType: 'application/json',\r\n      data: JSON.stringify({score}),\r\n    }\r\n\r\n    $.ajax(request).then(data => {\r\n      data.movieId = movieId,\r\n        this.addVoteSuccess(data)\r\n    }).fail(err => this.addVoteFail(err.responseJSON))\r\n\r\n    return true\r\n  }\r\n}\r\n\r\nexport default alt.createActions(MovieActions)\r\n\r\nfunction getComments (movieId) {\r\n  return new Promise((resolve, reject) => {\r\n    let request = {\r\n      url: `/api/movies/${movieId}/comments`,\r\n      method: 'get',\r\n    }\r\n\r\n    $.ajax(request).done(data => resolve(data)).fail(err => reject(err))\r\n  })\r\n}\r\n\r\nfunction getLoggedInUserVote (movieId, userId) {\r\n  return new Promise(resolve => {\r\n    let request = {\r\n      method: 'get',\r\n    }\r\n\r\n    if (userId) {\r\n      request.url = `/api/movies/${movieId}/vote?userId=${userId}`\r\n    } else {\r\n      request.url = `/api/movies/${movieId}/vote?user=loggedInUser`\r\n    }\r\n\r\n    $.ajax(request).done(data => resolve(data))\r\n  })\r\n}\r\n","import alt from '../alt'\r\n\r\nclass MovieAddActions {\r\n  constructor () {\r\n    this.generateActions(\r\n      'handleNameChange',\r\n      'handleDescriptionChange',\r\n      'handleGenresChange',\r\n      'nameValidationFail',\r\n      'genresValidationFail',\r\n      'addMovieSuccess',\r\n      'addMovieFail',\r\n    )\r\n  }\r\n\r\n  addMovie (data) {\r\n    let request = {\r\n      url: '/api/movies/add',\r\n      method: 'POST',\r\n      data: JSON.stringify(data),\r\n      contentType: 'application/json',\r\n    }\r\n    $.ajax(request).\r\n      done(() => this.addMovieSuccess()).\r\n      fail((err) => this.addMovieFail(err))\r\n\r\n    return true\r\n  }\r\n}\r\n\r\nexport default alt.createActions(MovieAddActions)","import alt from '../alt'\r\n\r\nclass NavbarActions {\r\n  constructor () {\r\n    this.generateActions(\r\n      'updateAjaxAnimation',\r\n    )\r\n  }\r\n}\r\n\r\nexport default alt.createActions(NavbarActions)","import alt from '../alt'\r\n\r\nclass UserActions {\r\n  constructor () {\r\n    this.generateActions(\r\n      'registerUserSuccess',\r\n      'registerUserFail',\r\n      'loginUserSuccess',\r\n      'loginUserFail',\r\n      'logoutUserSuccess',\r\n    )\r\n  }\r\n\r\n  registerUser (data) {\r\n    let request = {\r\n      url: '/user/register',\r\n      method: 'post',\r\n      data: JSON.stringify(data),\r\n      contentType: 'application/json',\r\n    }\r\n    $.ajax(request).done(() => this.registerUserSuccess()).fail(err => {\r\n      console.log('error', err)\r\n      this.registerUserFail(err.responseJSON.message)\r\n    })\r\n\r\n    return true\r\n  }\r\n\r\n  loginUser (data) {\r\n    let request = {\r\n      url: '/user/login',\r\n      method: 'post',\r\n      data: JSON.stringify(data),\r\n      contentType: 'application/json',\r\n    }\r\n    $.ajax(request).\r\n      done(data => this.loginUserSuccess(data)).\r\n      fail(err => this.loginUserFail(err.responseJSON))\r\n\r\n    return true\r\n  }\r\n\r\n  logoutUser () {\r\n    let request = {\r\n      url: '/user/logout',\r\n      method: 'post',\r\n    }\r\n    $.ajax(request).done(() => this.logoutUserSuccess())\r\n\r\n    return true\r\n  }\r\n}\r\n\r\nexport default alt.createActions(UserActions)","import Alt from 'alt'\r\n\r\nexport default new Alt()","import React from 'react'\r\n\r\nimport UserActions from '../actions/UserActions'\r\nimport UserStore from '../stores/UserStore'\r\n\r\nimport Footer from './Footer'\r\nimport Navbar from './Navbar'\r\n\r\nexport default class App extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.state = UserStore.getState()\r\n\r\n    this.onChange = this.onChange.bind(this)\r\n  }\r\n\r\n  onChange (state) {\r\n    this.setState(state)\r\n  }\r\n\r\n  componentDidMount () {\r\n    UserStore.listen(this.onChange)\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    UserStore.unlisten(this.onChange)\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div>\r\n        <Navbar />\r\n        {this.props.children}\r\n        <Footer />\r\n      </div>\r\n    )\r\n  }\r\n}","import React from 'react'\r\nimport { Link } from 'react-router'\r\n\r\nimport MovieActions from '../actions/MovieActions'\r\nimport MovieStore from '../stores/MovieStore'\r\n\r\nexport default class Footer extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.state = MovieStore.getState()\r\n\r\n    this.onChange = this.onChange.bind(this)\r\n  }\r\n\r\n  onChange (state) {\r\n    this.setState(state)\r\n  }\r\n\r\n  componentDidMount () {\r\n    MovieStore.listen(this.onChange)\r\n\r\n    MovieActions.getFiveRecentMovies()\r\n    this.interval = setInterval(() => MovieActions.getFiveRecentMovies(),\r\n      30000)\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    MovieStore.unlisten(this.onChange)\r\n    clearInterval(this.interval)\r\n  }\r\n\r\n  render () {\r\n    let mostRecentMovies = this.state.mostRecentMovies.map(movie => {\r\n      return (\r\n        <li key={movie._id}>\r\n          <Link to={`/...`}>{movie.name}</Link>\r\n        </li>\r\n      )\r\n    })\r\n\r\n    return (\r\n      <footer>\r\n        <div className='container'>\r\n          <div className='row'>\r\n            <div className='col-sm-5'>\r\n              <h3 className='lead'>\r\n                <strong>Information</strong> and\r\n                <strong> Copyright</strong>\r\n              </h3>\r\n              <p>\r\n                Powered by\r\n                <strong> Express</strong>,\r\n                <strong> MongoDB</strong> and\r\n                <strong> React</strong>\r\n              </p>\r\n              <p> 2017 SoftUni.</p>\r\n            </div>\r\n            <div className='col-sm-4 hidden-xs'>\r\n              <h3 className='lead'>\r\n                <strong>Newest</strong> 5 Movies\r\n              </h3>\r\n              <ul className='list-inline'>\r\n                {mostRecentMovies}\r\n              </ul>\r\n            </div>\r\n            <div className=\"col-sm-3\">\r\n              <h3 className=\"lead\">Author</h3>\r\n              <a href=\"https://github.com/achobanov\">\r\n                <strong> Alex Chobanov</strong>\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n    )\r\n  }\r\n}","import React from 'react'\r\n\r\nimport MovieActions from '../actions/MovieActions'\r\nimport MovieStore from '../stores/MovieStore'\r\n\r\nimport MovieCard from './sub-components/MovieCard'\r\n\r\nexport default class Home extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.state = MovieStore.getState()\r\n\r\n    this.onChange = this.onChange.bind(this)\r\n  }\r\n\r\n  onChange (state) {\r\n    this.setState(state)\r\n  }\r\n\r\n  componentDidMount () {\r\n    MovieStore.listen(this.onChange)\r\n\r\n    MovieActions.getTopTenMovies()\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    MovieStore.unlisten(this.onChange)\r\n  }\r\n\r\n  render () {\r\n    let movies = this.state.topTenMovies.map((movie, index) => {\r\n      return (\r\n        <MovieCard key={ movie._id }\r\n                   movie={ movie }\r\n                   index={ index }/>\r\n      )\r\n    })\r\n\r\n    return (\r\n      <div className='container'>\r\n        <h3 className='text-center'>Welcome to\r\n          <strong> Movie Database</strong>\r\n        </h3>\r\n        <div className=\"list-group\">\r\n          { movies }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nimport MovieAddActions from '../actions/MovieAddActions';\r\nimport MovieAddStore from '../stores/MovieAddStore';\r\n\r\nexport default class AddMovie extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = MovieAddStore.getState();\r\n\r\n        this.onChange = this.onChange.bind(this);\r\n    }\r\n\r\n    onChange(state) {\r\n        this.setState(state);\r\n    }\r\n\r\n    componentDidMount() {\r\n        MovieAddStore.listen(this.onChange);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        MovieAddStore.unlisten(this.onChange);\r\n    }\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        let name = this.state.name.trim();\r\n        let genres = this.state.genres;\r\n        if (!name) {\r\n           MovieAddActions.nameValidationFail();\r\n        }\r\n        if (genres.length === 0) {\r\n            MovieAddActions.genresValidationFail();\r\n        }\r\n\r\n        if (name) {\r\n            let data = {\r\n                name: this.state.name,\r\n                description: this.state.description,\r\n                genres: this.state.genres,\r\n            };\r\n            MovieAddActions.addMovie(data);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='container'>\r\n                <div className='row flipInX animated'>\r\n                    <div className='col-sm-8'>\r\n                        <div className='panel panel-default'>\r\n                            <div className='panel-heading'>Add Movie</div>\r\n                            <div className='panel-body'>\r\n                                <form onSubmit={  this.handleSubmit.bind(this)  }>\r\n                                    <div className={ 'form-group ' + this.state.nameValidationState }>\r\n                                        <label className='control-label'>Name</label>\r\n                                        <input type='text' className='form-control' ref='nameTextField'\r\n                                               value={ this.state.name }\r\n                                               onChange={ MovieAddActions.handleNameChange } autoFocus/>\r\n                                        <span className='help-block'>{ this.state.helpBlock }</span>\r\n                                    </div>\r\n                                    <div className='form-group'>\r\n                                        <label className='control-label'>Description</label>\r\n                                        <textarea className='form-control'\r\n                                                  rows=\"5\"\r\n                                                  value={ this.state.description }\r\n                                                  onChange={ MovieAddActions.handleDescriptionChange } />\r\n                                    </div>\r\n                                    <div className={ 'form-group ' + this.state.genresValidationState }>\r\n                                        <div className='checkbox checkbox-inline'>\r\n                                            <input type='checkbox' name='genres' id='action' value='Action'\r\n                                                   checked={ this.state.genres.indexOf('Action') !== -1 }\r\n                                                   onChange={ MovieAddActions.handleGenresChange }/>\r\n                                            <label htmlFor='action'>Action</label>\r\n                                        </div>\r\n                                        <div className='checkbox checkbox-inline'>\r\n                                            <input type='checkbox' name='genres' id='horror' value='Horror'\r\n                                                   checked={ this.state.genres.indexOf('Horror') !== -1 }\r\n                                                   onChange={ MovieAddActions.handleGenresChange }/>\r\n                                            <label htmlFor='horror'>Horror</label>\r\n                                        </div>\r\n                                        <div className='checkbox checkbox-inline'>\r\n                                            <input type='checkbox' name='genres' id='sci-fi' value='Sci-fi'\r\n                                                   checked={ this.state.genres.indexOf('Sci-fi') !== -1 }\r\n                                                   onChange={ MovieAddActions.handleGenresChange }/>\r\n                                            <label htmlFor='sci-fi'>Sci-fi</label>\r\n                                        </div>\r\n                                        <div className='checkbox checkbox-inline'>\r\n                                            <input type='checkbox' name='genres' id='fantasy' value='Fantasy'\r\n                                                   checked={ this.state.genres.indexOf('Fantasy') !== -1 }\r\n                                                   onChange={ MovieAddActions.handleGenresChange }/>\r\n                                            <label htmlFor='fantasy'>Fantasy</label>\r\n                                        </div>\r\n                                        <div className='checkbox checkbox-inline'>\r\n                                            <input type='checkbox' name='genres' id='romance' value='Romance'\r\n                                                   checked={ this.state.genres.indexOf('Romance') !== -1 }\r\n                                                   onChange={ MovieAddActions.handleGenresChange }/>\r\n                                            <label htmlFor='romance'>Romance</label>\r\n                                        </div>\r\n                                        <div className='checkbox checkbox-inline'>\r\n                                            <input type='checkbox' name='genres' id='thriller' value='Thriller'\r\n                                                   checked={ this.state.genres.indexOf('Thriller') !== -1 }\r\n                                                   onChange={ MovieAddActions.handleGenresChange }/>\r\n                                            <label htmlFor='thriller'>Thriller</label>\r\n                                        </div>\r\n                                        <div className='checkbox checkbox-inline'>\r\n                                            <input type='checkbox' name='genres' id='adventure' value='Adventure'\r\n                                                   checked={ this.state.genres.indexOf('Adventure') !== -1 }\r\n                                                   onChange={ MovieAddActions.handleGenresChange }/>\r\n                                            <label htmlFor='adventure'>Adventure</label>\r\n                                        </div>\r\n                                    </div>\r\n                                    <button type='submit' className='btn btn-primary'>Submit</button>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\n","import React from 'react'\r\nimport { Link } from 'react-router'\r\n\r\nimport NavbarActions from '../actions/NavbarActions'\r\nimport NavbarStore from '../stores/NavbarStore'\r\n\r\nimport NavbarUserMenu from './sub-components/NavbarUserMenu'\r\n\r\nexport default class Navbar extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.state = NavbarStore.getState()\r\n\r\n    this.onChange = this.onChange.bind(this)\r\n  }\r\n\r\n  onChange (state) {\r\n    this.setState(state)\r\n  }\r\n\r\n  componentDidMount () {\r\n    NavbarStore.listen(this.onChange)\r\n\r\n    $(document).ajaxStart(() => NavbarActions.updateAjaxAnimation('fadeIn'))\r\n    $(document).\r\n      ajaxComplete(() => NavbarActions.updateAjaxAnimation('fadeOut'))\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    NavbarStore.unlisten(this.onChange)\r\n  }\r\n\r\n  render () {\r\n    let navbarUserMenu = <NavbarUserMenu userData={ this.props.userData }/>\r\n    return (\r\n      <nav className='navbar navbar-default navbar-static-top'>\r\n        <div className='navbar-header'>\r\n          <button type='button'\r\n                  className='navbar-toggle collapsed'\r\n                  data-toggle='collapse'\r\n                  data-target='#navbar'>\r\n            <span className='sr-only'>Toggle navigation</span>\r\n            <span className='icon-bar'/>\r\n            <span className='icon-bar'/>\r\n            <span className='icon-bar'/>\r\n          </button>\r\n          <Link to='/' className='navbar-brand'>\r\n                        <span\r\n                          ref='triangles'\r\n                          className={'triangles animated ' +\r\n                          this.state.ajaxAnimationClass}>\r\n                            <div className='tri invert'/>\r\n                            <div className='tri invert'/>\r\n                            <div className='tri'/>\r\n                            <div className='tri invert'/>\r\n                            <div className='tri invert'/>\r\n                            <div className='tri'/>\r\n                            <div className='tri invert'/>\r\n                            <div className='tri'/>\r\n                            <div className='tri invert'/>\r\n                        </span>\r\n            MDB\r\n          </Link>\r\n        </div>\r\n        <div id='navbar' className='navbar-collapse collapse'>\r\n          <ul className='nav navbar-nav'>\r\n            <li>\r\n              <Link to='/'>Home</Link>\r\n            </li>\r\n            <li>\r\n              <Link to='/movie/add'>Add Movie</Link>\r\n            </li>\r\n          </ul>\r\n          { navbarUserMenu }\r\n        </div>\r\n      </nav>\r\n    )\r\n  }\r\n}","import React from 'react'\r\nimport UserActions from '../actions/UserActions'\r\nimport FormActions from '../actions/FormActions'\r\nimport FormStore from '../stores/FormStore'\r\nimport Form from './form/Form'\r\nimport TextGroup from './form/TextGroup'\r\nimport Submit from './form/Submit'\r\n\r\nexport default class UserLogin extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = FormStore.getState()\r\n    this.onChange = this.onChange.bind(this)\r\n  }\r\n\r\n  onChange (state) {\r\n    this.setState(state)\r\n  }\r\n\r\n  componentDidMount () {\r\n    FormStore.listen(this.onChange)\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    FormStore.unlisten(this.onChange)\r\n  }\r\n\r\n  handleSubmit (e) {\r\n    e.preventDefault()\r\n\r\n    let username = this.state.username\r\n    let password = this.state.password\r\n    if (!username) {\r\n      FormActions.usernameValidationFail()\r\n      return\r\n    }\r\n    if (!password) {\r\n      FormActions.passwordValidationFail()\r\n      return\r\n    }\r\n\r\n    UserActions.loginUser({username, password})\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <Form title='Login'\r\n            handleSubmit={this.handleSubmit.bind(this)}\r\n            submitState={this.state.formSubmitState}\r\n            message={this.state.message}>\r\n\r\n        <TextGroup type='text'\r\n                   value={this.state.username}\r\n                   label='Username'\r\n                   handleChange={FormActions.handleUsernameChange}\r\n                   validationState={this.state.usernameValidationState}/>\r\n\r\n        <TextGroup type='password'\r\n                   value={this.state.password}\r\n                   label='Password'\r\n                   handleChange={FormActions.handlePasswordChange}\r\n                   validationState={this.state.passwordValidationState}\r\n                   message={this.state.message}/>\r\n\r\n        <Submit type='btn-primary'\r\n                value='Login'/>\r\n\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nimport UserStore from '../stores/UserStore'\r\nimport UserInfo from './sub-components/UserInfo'\r\nimport UserVotedMovies from './sub-components/UserRatedMovies'\r\nimport UserReviews from './sub-components/UserReviews'\r\n\r\nexport default class UserProfile extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.state = UserStore.getState()\r\n\r\n    this.onChange = this.onChange.bind(this)\r\n  }\r\n\r\n  onChange (state) {\r\n    this.setState(state)\r\n  }\r\n\r\n  componentDidMount () {\r\n    UserStore.listen(this.onChange)\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    UserStore.unlisten(this.onChange)\r\n  }\r\n\r\n  render () {\r\n    let nodes = {}\r\n    nodes.roles = this.state.roles.map((role, index) => {\r\n      return (\r\n        <h4 key={ index } className='lead'>\r\n          <strong>{ role }</strong>\r\n        </h4>\r\n      )\r\n    })\r\n\r\n    return (\r\n      <div>\r\n        <UserInfo name={ this.state.name }\r\n                  roles={ this.state.roles }\r\n                  information={ this.state.information }/>\r\n        <UserVotedMovies votes={ this.state.votes }/>\r\n        <UserReviews reviews={ this.props.reviews }/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n","import React from 'react'\r\nimport FormActions from '../actions/FormActions'\r\nimport UserActions from '../actions/UserActions'\r\nimport FormStore from '../stores/FormStore'\r\nimport Form from './form/Form'\r\nimport TextGroup from './form/TextGroup'\r\nimport RadioGroup from './form/RadioGroup'\r\nimport RadioElement from './form/RadioElement'\r\nimport Submit from './form/Submit'\r\n\r\nexport default class UserRegister extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = FormStore.getState()\r\n    this.onChange = this.onChange.bind(this)\r\n  }\r\n\r\n  onChange (state) {\r\n    this.setState(state)\r\n  }\r\n\r\n  componentDidMount () {\r\n    FormStore.listen(this.onChange)\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    FormStore.unlisten(this.onChange)\r\n  }\r\n\r\n  handleSubmit (e) {\r\n    e.preventDefault()\r\n    let data = {\r\n      username: this.state.username,\r\n      password: this.state.password,\r\n      confirmedPassword: this.state.confirmedPassword,\r\n      firstName: this.state.firstName,\r\n      lastName: this.state.lastName,\r\n      age: this.state.age,\r\n      gender: this.state.gender\r\n    }\r\n    if (!data.username) {\r\n      return FormActions.usernameValidationFail()\r\n    }\r\n    if (!data.password || !data.confirmedPassword || data.password !== data.confirmedPassword) {\r\n      return FormActions.passwordValidationFail()\r\n    }\r\n    UserActions.registerUser(data)\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <Form title='Register'\r\n        handleSubmit={this.handleSubmit.bind(this)}\r\n        submitState={this.state.formSubmitState}\r\n        message={this.state.message}>\r\n\r\n        <TextGroup type='text'\r\n          label='Username'\r\n          value={this.state.username}\r\n          autoFocus={true}\r\n          handleChange={FormActions.handleUsernameChange}\r\n          validationState={this.state.usernameValidationState}\r\n          message={this.state.message} />\r\n\r\n        <TextGroup type='password'\r\n          label='Password'\r\n          value={this.state.Password}\r\n          handleChange={FormActions.handlePasswordChange}\r\n          validationState={this.state.passwordValidationState}\r\n          message={this.state.message} />\r\n\r\n        <TextGroup type='password'\r\n          label='Confirm Password'\r\n          value={this.state.confirmPassword}\r\n          handleChange={FormActions.handleConfirmedPasswordChange}\r\n          validationState={this.state.passwordValidationState}\r\n          message={this.state.message} />\r\n\r\n        <TextGroup type='text'\r\n          label='First Name'\r\n          handleChange={FormActions.handleFirstNameChange}\r\n          value={this.state.firstName} />\r\n\r\n        <TextGroup type='text'\r\n          label='Last Name'\r\n          handleChange={FormActions.handleLastNameChange}\r\n          value={this.state.lastName} />\r\n\r\n        <TextGroup type='number'\r\n          label='Age'\r\n          handleChange={FormActions.handleAgeChange}\r\n          value={this.state.age} />\r\n\r\n        <RadioGroup validationState={this.state.genderValidationState}\r\n          message={this.state.message}>\r\n          <RadioElement groupName='gender'\r\n            value='Male'\r\n            selectedValue={this.state.gender}\r\n            handleChange={FormActions.handleGenderChange} />\r\n\r\n          <RadioElement groupName='gender'\r\n            value='Female'\r\n            selectedValue={this.state.gender}\r\n            handleChange={FormActions.handleGenderChange} />\r\n        </RadioGroup>\r\n\r\n        <Submit type='btn-primary' value='Register' />\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nexport default class Form extends React.Component {\r\n  render () {\r\n    return (\r\n      <div className='container'>\r\n        <div className='row flipInX animated'>\r\n          <div className='col-sm-8'>\r\n            <div className='panel panel-default'>\r\n              <div className='panel-heading'>{this.props.title}</div>\r\n              <div className='panel-body'>\r\n                <form onSubmit={this.props.handleSubmit}>\r\n                  <div className={`form-group ${this.props.submitState}`}>\r\n                    <span className={`help-block`}>{this.props.message}</span>\r\n                  </div>\r\n                  {this.props.children}\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nexport default class RadioElement extends React.Component {\r\n  render () {\r\n    return (\r\n      <div className='radio radio-inline'>\r\n        <input type='radio'\r\n               name={this.props.groupName}\r\n               id={this.props.value.toLowerCase()}\r\n               value={this.props.value}\r\n               checked={this.props.selectedValue === this.props.value}\r\n               onChange={this.props.handleChange}/>\r\n        <label\r\n          htmlFor={this.props.value.toLowerCase()}>{ this.props.value }</label>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nexport default class RadioGroup extends React.Component {\r\n  render () {\r\n    return (\r\n      <div className={`form-group ${this.props.validationState}`}>\r\n        <span className='help-block'>{ this.props.message }</span>\r\n        { this.props.children }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nexport default class Submit extends React.Component {\r\n  render () {\r\n    return <input type='submit' className={`btn ${this.props.type}`}\r\n                  value={this.props.value}/>\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nexport default class TextGroup extends React.Component {\r\n  render () {\r\n    return (\r\n      <div className={'form-group ' + this.props.validationState}>\r\n        <label className='control-label'>{ this.props.label }</label>\r\n        <input type={this.props.type} className='form-control'\r\n               value={this.props.value}\r\n               onChange={this.props.handleChange}\r\n               autoFocus={this.props.autoFocus}/>\r\n        <span className='help-block'>{ this.props.message }</span>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport FormStore from '../../stores/FormStore'\r\nimport FormActions from '../../actions/FormActions'\r\nimport MovieActions from '../../actions/MovieActions'\r\n\r\nexport default class MovieCommentsPanelForm extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = FormStore.getState()\r\n    this.onChange = this.onChange.bind(this)\r\n  }\r\n\r\n  onChange (state) {\r\n    this.setState(state)\r\n  }\r\n\r\n  componentDidMount () {\r\n    FormStore.listen(this.onChange)\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    FormStore.unlisten(this.onChange)\r\n  }\r\n\r\n  handleSubmit (e) {\r\n    e.preventDefault()\r\n\r\n    if (!this.state.comment) {\r\n      FormActions.commentValidationFail()\r\n      return\r\n    }\r\n\r\n    MovieActions.addComment(this.props.movieId, this.state.comment)\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <form onSubmit={this.handleSubmit.bind(this)}>\r\n        <div className={`form-group ${this.state.commentValidationState}`}>\r\n          <label className='control-label' htmlFor='content'>Add comment</label>\r\n          <textarea id='content'\r\n                    className='form-control'\r\n                    value={this.state.comment}\r\n                    onChange={FormActions.handleCommentChange}\r\n                    rows='5'/>\r\n          <span className={`help-block`}>{ this.state.message }</span>\r\n        </div>\r\n        <div className='form-group'>\r\n          <input type='submit' className='btn btn-primary' value='Comment'/>\r\n        </div>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n","import React from  'react'\r\n\r\nimport MoviePoster from './MoviePoster'\r\nimport MovieInfo from './MovieInfo'\r\nimport MoviePanelsToggle from './MoviePanelsToggle'\r\nimport MovieVotePanel from './MovieVotePanel'\r\nimport MovieCommentsPanel from './MovieCommentsPanel'\r\n\r\nexport default class MovieCard extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      showVotePanel: false,\r\n      showCommentsPanel: false,\r\n    }\r\n  }\r\n\r\n  toggleCommentsPanel () {\r\n    this.setState(prevState => ({\r\n      showCommentsPanel: !prevState.showCommentsPanel,\r\n      showVotePanel: false,\r\n    }))\r\n  }\r\n\r\n  toggleVotePanel () {\r\n    this.setState(prevState => ({\r\n      showVotePanel: !prevState.showVotePanel,\r\n      showCommentsPanel: false,\r\n    }))\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div className='animated fadeIn'>\r\n        <div className='media movie'>\r\n          <span className='position pull-left'>{ this.props.index + 1 }</span>\r\n          <MoviePoster posterUrl={ this.props.movie.moviePosterUrl }/>\r\n          <MovieInfo movie={ this.props.movie }/>\r\n          <MoviePanelsToggle\r\n            toggleCommentsPanel={ this.toggleCommentsPanel.bind(this) }\r\n            toggleVotePanel={ this.toggleVotePanel.bind(this) }\r\n            showCommentsPanel={ this.state.showCommentsPanel }\r\n            showVotePanel={ this.state.showVotePanel }\r\n            movieId={ this.props.movie._id }/>\r\n        </div>\r\n        {this.state.showVotePanel ?\r\n          <MovieVotePanel movieId={ this.props.movie._id }/> : null}\r\n        {this.state.showCommentsPanel ?\r\n          <MovieCommentsPanel comments={this.props.movie.comments}\r\n                              movieId={ this.props.movie._id }/> : null}\r\n        <div id=\"clear\"/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport CommentForm from './CommentForm'\r\n\r\nexport default class MovieCommentsPanel extends React.Component {\r\n  render () {\r\n    let comments = this.props.comments.map(comment => {\r\n      return (\r\n        <div key={comment._id}\r\n             className='comment col-sm-9 list-group-item animated fadeIn'>\r\n          <div className='media'>\r\n            <div className='media-body'>\r\n              <p>{comment.content}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    })\r\n\r\n    return (\r\n      <div className=\"list-group\">\r\n        <h3 className=\"col-sm-3\">Comments:</h3>\r\n        {comments}\r\n        <div\r\n          className='col-sm-6 col-xs-offset-6 list-group-item animated fadeIn'>\r\n          <div className='media'>\r\n            <CommentForm movieId={this.props.movieId}/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}","import React from 'react'\r\nimport { Link } from 'react-router'\r\nimport Helpers from '../../utilities/Helpers'\r\n\r\nexport default class MovieInfo extends React.Component {\r\n  render () {\r\n    let genres = this.props.movie.genres.map(genre => {\r\n      return (\r\n        <strong key={ this.props.movie._id + genre }>{ genre } </strong>\r\n      )\r\n    })\r\n    let rating = Helpers.formatMovieRating(this.props.movie.score,\r\n      this.props.movie.votes)\r\n\r\n    return (\r\n      <div className='media-body'>\r\n        <h4 className='media-heading'>\r\n          <Link\r\n            to={`/movie/${ this.props.movie._id }/${ this.props.movie.name }`}>\r\n            { this.props.movie.name }\r\n          </Link>\r\n        </h4>\r\n        <small>Genres: { genres }</small>\r\n        <br />\r\n        <p>{ this.props.movie.description }</p>\r\n        <span className=\"votes\">Votes:\r\n                    <strong> { this.props.movie.votes }</strong>\r\n                </span>\r\n        <span className='rating position pull-right'>\r\n                    { rating }\r\n          <span\r\n            className=\"badge badge-up\">{ this.props.movie.loggedInUserScore }</span>\r\n                </span>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n","import React from 'react'\r\nimport { Link } from 'react-router'\r\n\r\nimport { Concealer } from '../../utilities/Authorize'\r\n\r\nclass VoteToggle extends React.Component {\r\n  render () {\r\n    return (\r\n      <a className=\"btn btn-primary\"\r\n         onClick={ this.props.toggleVotePanel }>\r\n        { this.props.showVotePanel ? 'Hide' : 'Vote' }\r\n      </a>\r\n    )\r\n  }\r\n}\r\n\r\nexport default class MoviePanelToggles extends React.Component {\r\n  render () {\r\n    return (\r\n      <div className=\"pull-right btn-group\">\r\n        <a className=\"btn btn-primary\"\r\n           onClick={ this.props.toggleCommentsPanel }>\r\n          { this.props.showCommentsPanel ? 'Hide' : 'Comments' }\r\n        </a>\r\n        <Concealer ChildComponent={ VoteToggle }\r\n                   toggleVotePanel={ this.props.toggleVotePanel }\r\n                   showVotePanel={ this.props.showVotePanel }/>\r\n        <Link to={`/movie/${ this.props.movieId }/review/add`}\r\n              className=\"btn btn-warning\">\r\n          Write review\r\n        </Link>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nexport default class MoviePoster extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n  }\r\n\r\n  render () {\r\n    let poster\r\n    if (this.props.posterUrl) {\r\n      poster = (\r\n        <div className='pull-left thumb-lg'>\r\n          <img className='media-object' src={ this.props.posterUrl }/>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    return poster\r\n  }\r\n}","import React from 'react'\r\nimport FormActions from '../../actions/FormActions'\r\nimport MovieActions from '../../actions/MovieActions'\r\nimport FormStore from '../../stores/FormStore'\r\n\r\nexport default class MovieVotePanel extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = FormStore.getState()\r\n    this.onChange = this.onChange.bind(this)\r\n  }\r\n\r\n  onChange (state) {\r\n    this.setState(state)\r\n  }\r\n\r\n  componentWillMount () {\r\n    FormStore.listen(this.onChange)\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    FormStore.unlisten(this.onChange)\r\n  }\r\n\r\n  handleSubmit (e) {\r\n    e.preventDefault()\r\n\r\n    if (this.state.score > 10) {\r\n      FormActions.scoreValidationFail()\r\n      return\r\n    }\r\n\r\n    MovieActions.addVote(this.props.movieId, this.state.score)\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div\r\n        className=\"col-sm-4 col-xs-offset-8 list-group-item animated fadeIn vote\">\r\n        <div className=\"media\">\r\n          <div className=\"media-body\">\r\n            <div\r\n              className={ `form-group ${ this.state.scoreValidationState }` }>\r\n              <span className=\"help-block\">{ this.state.message }</span>\r\n            </div>\r\n            <form className=\"form-inline\"\r\n                  onSubmit={ this.handleSubmit.bind(this) }>\r\n              <div\r\n                className={ `form-group ${ this.state.scoreValidationState }` }>\r\n                <label className=\"control-label\">Score</label>\r\n                <input className=\"form-control\"\r\n                       step=\"0.1\"\r\n                       type=\"number\"\r\n                       value={ this.state.score ||\r\n                       this.props.loggedInUserScore }\r\n                       onChange={ FormActions.handleScoreChange }/>\r\n                <input className=\"btn btn-primary\" type=\"submit\" value=\"Vote\"/>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}","import React from 'react'\r\nimport { Link } from 'react-router'\r\n\r\nimport UserActions from '../../actions/UserActions'\r\nimport UserStore from '../../stores/UserStore'\r\n\r\nexport default class NavbarUserMenu extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.state = UserStore.getState()\r\n\r\n    this.onChange = this.onChange.bind(this)\r\n  }\r\n\r\n  onChange (state) {\r\n    this.setState(state)\r\n  }\r\n\r\n  componentDidMount () {\r\n    UserStore.listen(this.onChange)\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    UserStore.unlisten(this.onChange)\r\n  }\r\n\r\n  render () {\r\n    let userMenu\r\n    if (!this.state.loggedInUserId) {\r\n      userMenu = (\r\n        <ul className=\"nav navbar-nav pull-right\">\r\n          <li>\r\n            <Link to='/user/login'>Login</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/user/register\">Register</Link>\r\n          </li>\r\n        </ul>\r\n      )\r\n    } else {\r\n      userMenu = (\r\n        <ul className=\"nav navbar-nav pull-right\">\r\n          <li>\r\n            <Link\r\n              to={ `/user/profile/${ this.state.loggedInUserId }` }>Profile</Link>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\" onClick={ UserActions.logoutUser }>Logout</a>\r\n          </li>\r\n        </ul>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        { userMenu }\r\n      </div>\r\n    )\r\n  }\r\n}","import React from 'react'\r\n\r\nexport default class UserProfileInfo extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n  }\r\n\r\n  render () {\r\n    let roles\r\n    if (this.props.roles) {\r\n      roles = this.props.roles.map((role, index) => {\r\n        return (\r\n          <h4 key={ index } className='lead'>\r\n            <strong>{ role }</strong>\r\n          </h4>\r\n        )\r\n      })\r\n    }\r\n\r\n    return (\r\n      <div className='container profile-container'>\r\n        <div className='profile-img'>\r\n          <img src='/images/user-default.png'/>\r\n        </div>\r\n        <div className='profile-info clearfix'>\r\n          <h2><strong>{ this.props.name }</strong></h2>\r\n          <h4 className='lead'>Roles:</h4>\r\n          { roles }\r\n          <p>{ this.props.information }</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nimport UserRatedMoviesPanel from './UserRatedMoviesPanel'\r\n\r\nexport default class UserVotedMovies extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      showRatedMoviesPanel: false,\r\n    }\r\n  }\r\n\r\n  toggleRatedMovies () {\r\n    this.setState(prevState => ({\r\n      showRatedMoviesPanel: !prevState.showRatedMoviesPanel,\r\n    }))\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div className=\"container profile-container\">\r\n        <div className='profile-stats clearfix'>\r\n          <ul>\r\n            <li>\r\n              <span className='stats-number'>{this.props.votes\r\n                ? this.props.votes.length\r\n                : 0 }</span>Votes\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div className=\"pull-right btn-group\">\r\n          <a className=\"btn btn-primary\"\r\n             onClick={ this.toggleRatedMovies.bind(this) }>\r\n            { this.state.showRatedMoviesPanel ? 'Hide' : 'Rated Movies' }\r\n          </a>\r\n        </div>\r\n        { this.state.showRatedMoviesPanel ?\r\n          <UserRatedMoviesPanel movies={ this.props.votes }/> : null }\r\n      </div>\r\n    )\r\n  }\r\n}","import React from 'react'\r\n\r\nimport MovieCard from './MovieCard'\r\n\r\nexport default class UserVotedMoviesPanel extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div className=\"list-group\">\r\n        Hello from UserRatedMoviesPanel\r\n      </div>\r\n    )\r\n  }\r\n}","import React from 'react'\r\n\r\nimport UserReviewsPanel from './UserReviewsPanel'\r\n\r\nexport default class UserReviews extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      showReviewsPanel: false,\r\n    }\r\n  }\r\n\r\n  toggleReviews () {\r\n    this.setState(prevState => ({\r\n      showReviewsPanel: !prevState.showReviewsPanel,\r\n    }))\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div className=\"container profile-container\">\r\n        <div className='profile-stats clearfix'>\r\n          <ul>\r\n            <li>\r\n              <span className='stats-number'>{this.props.reviews\r\n                ? this.props.reviews.length\r\n                : 0}</span>Reviews\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div className=\"pull-right btn-group\">\r\n          <a className=\"btn btn-primary\"\r\n             onClick={ this.toggleReviews.bind(this) }>\r\n            { this.state.showReviewsPanel ? 'Hide' : 'Reviews' }\r\n          </a>\r\n        </div>\r\n        { this.state.showReviewsPanel ?\r\n          <UserReviewsPanel reviews={ this.props.reviews }/> : null }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nexport default class UserReviewsPanel extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div className='container'>\r\n        <div className=\"list-group\">\r\n          Hello from UserReviewsPanel\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport Router from 'react-router';\r\nimport ReactDOM from 'react-dom';\r\nimport createBrowserHistory from 'history/lib/createBrowserHistory';\r\n\r\nimport routes from './routes';\r\n\r\nlet history = createBrowserHistory();\r\n\r\nReactDOM.render(\r\n    <Router history={history}>{ routes }</Router>,\r\n    document.getElementById('app')\r\n);","import React from 'react';\r\nimport { Route } from 'react-router';\r\nimport authorize from './utilities/Authorize'\r\n\r\nimport App from './components/App';\r\nimport Home from './components/Home';\r\nimport MovieAdd from './components/MovieAdd';\r\nimport UserProfile from './components/UserProfile';\r\nimport UserRegister from './components/UserRegister'\r\nimport UserLogin from './components/UserLogin'\r\n\r\nexport default (\r\n  <Route component={ App }>\r\n    <Route path=\"/\" component={ Home }/>\r\n    <Route path=\"/movie/Add\" component={ authorize(MovieAdd) }/>\r\n    <Route path=\"/user/profile/:userId\" component={ authorize(UserProfile) }/>\r\n    <Route path='/user/register' component={UserRegister}/>\r\n    <Route path='/user/login' component={UserLogin}/>\r\n  </Route>\r\n);","import alt from '../alt'\r\nimport FormActions from '../actions/FormActions'\r\nimport UserActions from '../actions/UserActions'\r\nimport MovieActions from '../actions/MovieActions'\r\n\r\nclass FormStore {\r\n  constructor () {\r\n    this.bindActions(FormActions)\r\n    this.bindListeners({\r\n      onRegisterUserFail: UserActions.registerUserFail,\r\n      onRegisterUserSuccess: UserActions.registerUserSuccess,\r\n      onLoginUserSuccess: UserActions.loginUserSuccess,\r\n      onLoginUserFail: UserActions.loginUserFail,\r\n      onAddCommentFail: MovieActions.addCommentFail,\r\n      onAddVoteSuccess: MovieActions.addVoteSuccess,\r\n      onAddVoteFail: MovieActions.addVoteFail,\r\n    })\r\n\r\n    this.username = ''\r\n    this.password = ''\r\n    this.confirmedPassword = ''\r\n    this.firstName = ''\r\n    this.lastName = ''\r\n    this.age = ''\r\n    this.gender = ''\r\n    this.formSubmitState = ''\r\n    this.usernameValidationState = ''\r\n    this.passwordValidationState = ''\r\n    this.message = ''\r\n  }\r\n\r\n  onUnauthorizedAccessAttempt () {\r\n    this.formSubmitState = 'has-error'\r\n    this.usernameValidationState = ''\r\n    this.passwordValidationState = ''\r\n    this.message = 'Please login.'\r\n  }\r\n\r\n  onLoginUserSuccess () {\r\n    this.formSubmitState = 'has-success'\r\n    this.usernameValidationState = ''\r\n    this.passwordValidationState = ''\r\n    this.message = 'User login successful'\r\n  }\r\n\r\n  onLoginUserFail (err) {\r\n    this.formSubmitState = 'has-error'\r\n    this.usernameValidationState = 'has-error'\r\n    this.passwordValidationState = 'has-error'\r\n    this.message = err.message\r\n  }\r\n\r\n  onRegisterUserSuccess () {\r\n    console.log('FormStore register success')\r\n    this.formSubmitState = 'has-success'\r\n    this.usernameValidationState = ''\r\n    this.passwordValidationState = ''\r\n    this.message = 'User register successful'\r\n  }\r\n\r\n  onRegisterUserFail (err) {\r\n    console.log('FormStore register error', err)\r\n    if (err.code === 11000) {\r\n      this.usernameValidationState = 'has-error'\r\n      this.message = 'Username already in use'\r\n      return\r\n    }\r\n\r\n    this.formSubmitState = 'has-error'\r\n    this.message = err.errmsg\r\n  }\r\n\r\n  onUsernameValidationFail () {\r\n    this.usernameValidationState = 'has-error'\r\n    this.passwordValidationState = ''\r\n    this.formSubmitState = ''\r\n    this.message = 'Enter username'\r\n  }\r\n\r\n  onPasswordValidationFail () {\r\n    this.passwordValidationState = 'has-error'\r\n    this.usernameValidationState = ''\r\n    this.formSubmitState = ''\r\n    this.message = 'Invalid password, or passwords do not match'\r\n  }\r\n\r\n  onHandleUsernameChange (e) {\r\n    this.username = e.target.value\r\n  }\r\n\r\n  onHandlePasswordChange (e) {\r\n    this.password = e.target.value\r\n  }\r\n\r\n  onHandleConfirmedPasswordChange (e) {\r\n    this.confirmedPassword = e.target.value\r\n  }\r\n\r\n  onHandleFirstNameChange (e) {\r\n    this.firstName = e.target.value\r\n  }\r\n\r\n  onHandleLastNameChange (e) {\r\n    this.lastName = e.target.value\r\n  }\r\n\r\n  onHandleAgeChange (e) {\r\n    this.age = e.target.value\r\n  }\r\n\r\n  onHandleGenderChange (e) {\r\n    this.gender = e.target.value\r\n  }\r\n\r\n  onAddCommentFail (err) {\r\n    this.commentValidationState = 'has-error'\r\n    this.message = err.message\r\n  }\r\n\r\n  onCommentValidationFail () {\r\n    this.commentValidationState = 'has-error'\r\n    this.message = 'Please enter comment text.'\r\n  }\r\n\r\n  onHandleCommentChange (e) {\r\n    this.comment = e.target.value\r\n  }\r\n\r\n  onHandleScoreChange (e) {\r\n    this.score = e.target.value\r\n  }\r\n\r\n  onScoreValidationFail () {\r\n    this.scoreValidationState = 'has-error'\r\n    this.message = 'Valid score is between 0 - 10'\r\n  }\r\n\r\n  onAddVoteSuccess () {\r\n    this.scoreValidationState = ''\r\n    this.message = ''\r\n  }\r\n\r\n  onAddVoteFail (err) {\r\n    this.scoreValidationState = 'has-error'\r\n    this.message = err.message\r\n  }\r\n}\r\n\r\nexport default alt.createStore(FormStore)\r\n","import alt from '../alt'\r\nimport MovieAddActions from '../actions/MovieAddActions'\r\nimport Helpers from '../utilities/Helpers'\r\n\r\nclass MovieAddStore {\r\n  constructor () {\r\n    this.bindActions(MovieAddActions)\r\n\r\n    this.name = ''\r\n    this.description = ''\r\n    this.genres = []\r\n    this.moviePosterUrl = ''\r\n    this.genresValidationState = ''\r\n    this.nameValidationState = ''\r\n    this.helpBlock = ''\r\n  }\r\n\r\n  onAddMovieSuccess () {\r\n    console.log('Added movie!')\r\n  }\r\n\r\n  onAddMovieFail (err) {\r\n    console.log('Failed to add movie', err)\r\n  }\r\n\r\n  onGetMoviePosterSuccess (data) {\r\n    this.moviePosterUrl = data.posterUrl\r\n  }\r\n\r\n  onGetMoviePosterFail (err) {\r\n    console.log('Could not get movie post', err)\r\n  }\r\n\r\n  onHandleNameChange (e) {\r\n    this.name = e.target.value\r\n    this.nameValidationState = ''\r\n    this.helpBlock = ''\r\n  }\r\n\r\n  onHandleDescriptionChange (e) {\r\n    this.description = e.target.value\r\n    this.genresValidationState = ''\r\n    this.helpBlock = ''\r\n  }\r\n\r\n  onHandleGenresChange (e) {\r\n    console.log(e)\r\n    let genreValue = e.target.value\r\n    if (this.genres.indexOf(genreValue) === -1) {\r\n      this.genres = Helpers.appendToArray(genreValue, this.genres)\r\n    } else {\r\n      this.genres = Helpers.removeFromArray(genreValue, this.genres)\r\n    }\r\n    this.genresValidationState = ''\r\n    this.helpBlock = ''\r\n  }\r\n\r\n  onNameValidationFail () {\r\n    this.nameValidationState = 'has-error'\r\n    this.helpBlock = 'Enter movie name'\r\n  }\r\n\r\n  onGenresValidationFail () {\r\n    this.genresValidationState = 'has-error'\r\n    this.helpBlock = 'Select atleast one movie genre'\r\n  }\r\n}\r\n\r\nexport default alt.createStore(MovieAddStore)","import alt from '../alt'\r\nimport MovieActions from '../actions/MovieActions'\r\n\r\nclass MovieStore {\r\n  constructor () {\r\n    this.bindActions(MovieActions)\r\n    this.topTenMovies = []\r\n    this.mostRecentMovies = []\r\n  }\r\n\r\n  onAddMovieToTopTen (movie) {\r\n    this.topTenMovies.push(movie)\r\n  }\r\n\r\n  onEmptyTopTenMovies () {\r\n    this.topTenMovies = []\r\n  }\r\n\r\n  onGetTopTenMoviesSuccess (movies) {\r\n    this.topTenMovies = movies\r\n  }\r\n\r\n  onGetTopTenMoviesFail (err) {\r\n    console.log('Could connect to DB', err)\r\n  }\r\n\r\n  onGetFiveRecentMoviesSuccess (data) {\r\n    this.mostRecentMovies = data\r\n  }\r\n\r\n  onGetFiveRecentMoviesFail () {\r\n    console.log('Could not connext to DB')\r\n  }\r\n\r\n  onAddCommentSuccess (data) {\r\n    let comment = data.comment\r\n    let movieId = data.comment.movie\r\n    for (let i = 0, n = this.topTenMovies.length; i < n; i++) {\r\n      if (this.topTenMovies[i]._id === movieId) {\r\n        this.topTenMovies[i].comments.unshift(comment)\r\n      }\r\n    }\r\n  }\r\n\r\n  onAddVoteSuccess (data) {\r\n    let movieId = data.movieId\r\n    let loggedInUserScore = data.voteScore\r\n    let movieScore = data.movieScore\r\n    let movieVotes = data.movieVotes\r\n\r\n    for (let movie of this.topTenMovies) {\r\n      if (movie._id === movieId) {\r\n        movie.loggedInUserScore = loggedInUserScore\r\n        movie.score = movieScore\r\n        movie.votes = movieVotes\r\n        break\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default alt.createStore(MovieStore)\r\n","import alt from '../alt'\r\nimport NavbarActions from '../actions/NavbarActions'\r\n\r\nclass NavbarStore {\r\n  constructor () {\r\n    this.bindActions(NavbarActions)\r\n\r\n    this.ajaxAnimationClass = ''\r\n  }\r\n\r\n  onUpdateAjaxAnimation (animationClass) {\r\n    this.ajaxAnimationClass = animationClass\r\n  }\r\n}\r\n\r\nexport default alt.createStore(NavbarStore)","import alt from '../alt'\r\nimport AppActions from '../actions/UserActions'\r\n\r\nclass AppStore {\r\n  constructor () {\r\n    this.bindActions(AppActions)\r\n\r\n    this.loggedInUserId = ''\r\n    this.username = ''\r\n    this.roles = []\r\n  }\r\n\r\n  onLoginUserSuccess (user) {\r\n    this.loggedInUserId = user._id\r\n    this.username = user.username\r\n    this.roles = user.roles\r\n  }\r\n\r\n  onLoginUserFail () {\r\n    console.log('Failed login attempt')\r\n  }\r\n\r\n  onLogoutUserSuccess () { // Redirect on part 3\r\n    this.loggedInUserId = ''\r\n    this.username = ''\r\n    this.roles = []\r\n  }\r\n}\r\n\r\nexport default alt.createStore(AppStore)","import React from 'react'\r\nimport UserStore from '../stores/UserStore'\r\nimport FormActions from '../actions/FormActions'\r\n\r\nexport default function authorize (ChildComponent) {\r\n  return class Authorization extends React.Component {\r\n    constructor (props) {\r\n      super(props)\r\n      this.state = UserStore.getState()\r\n      this.onChange = this.onChange.bind(this)\r\n    }\r\n\r\n    onChange (state) {\r\n      this.setState(state)\r\n    }\r\n\r\n    componentWillMount () {\r\n      if (!this.state.loggedInUserId) {\r\n        this.props.history.pushState(null, '/user/login')\r\n        FormActions.unauthorizedAccessAttempt()\r\n      }\r\n    }\r\n\r\n    componentDidMount () {\r\n      UserStore.listen(this.onChange)\r\n    }\r\n\r\n    componentWillUnmount () {\r\n      UserStore.unlisten(this.onChange)\r\n    }\r\n\r\n    render () {\r\n      return <ChildComponent {...this.props} />\r\n    }\r\n  }\r\n}\r\n\r\nexport class Concealer extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = UserStore.getState()\r\n    this.onChange = this.onChange.bind(this)\r\n  }\r\n\r\n  onChange (state) {\r\n    this.setState(state)\r\n  }\r\n\r\n  componentDidMount () {\r\n    UserStore.listen(this.onChange)\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    UserStore.unlisten(this.onChange)\r\n  }\r\n\r\n  render () {\r\n    let ChildComponent = this.props.ChildComponent\r\n\r\n    return this.state.loggedInUserId ? <ChildComponent {...this.props} /> : null\r\n  }\r\n}\r\n","export default class Helpers {\r\n  static formatMovieRating (score, votes) {\r\n    let rating = score / votes\r\n\r\n    if (isNaN(rating)) {\r\n      rating = 0\r\n    }\r\n\r\n    if (rating % 1 !== 0) {\r\n      rating = rating.toFixed(1)\r\n    }\r\n\r\n    return rating\r\n  }\r\n}","const API_KEY = '71aabd79c7082bcacabc96877ac7238b'\r\nconst SEARCH_BASE_URL = 'https://api.themoviedb.org/3/search/movie'\r\nconst POSTER_BASE_URL = 'https://image.tmdb.org/t/p/w500'\r\nconst UNVERIFIED_MOVIE_POSTER_URL = '/images/movie-unverified.png'\r\nconst MISSING_DATA_POSTER_URL = '/images/movie-missing-data.jpg'\r\n\r\nexport default class RequesterTMDB {\r\n  static getMoviePoster (movieName) {\r\n    return new Promise((resolve, reject) => {\r\n      let request = {\r\n        method: 'get',\r\n        url: `${SEARCH_BASE_URL}?api_key=${API_KEY}&query=${movieName}`,\r\n      }\r\n      $.ajax(request).done(tmdbResponse => {\r\n        console.log('TMDB response', tmdbResponse)\r\n        if (tmdbResponse.total_results === 0) {\r\n          resolve({posterUrl: UNVERIFIED_MOVIE_POSTER_URL})\r\n          return\r\n        }\r\n\r\n        let posterPath = tmdbResponse.results[0].poster_path\r\n        if (posterPath === null) {\r\n          resolve({posterUrl: MISSING_DATA_POSTER_URL})\r\n          return\r\n        }\r\n        resolve({posterUrl: `${ POSTER_BASE_URL }/${ posterPath }`})\r\n      }).fail(err => {\r\n        reject({\r\n          clientMessage: 'Request failed',\r\n          error: err,\r\n        })\r\n      })\r\n    })\r\n  }\r\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYWx0L2xpYi9hY3Rpb25zL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2FsdC9saWIvZnVuY3Rpb25zLmpzIiwibm9kZV9tb2R1bGVzL2FsdC9saWIvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYWx0L2xpYi9zdG9yZS9BbHRTdG9yZS5qcyIsIm5vZGVfbW9kdWxlcy9hbHQvbGliL3N0b3JlL1N0b3JlTWl4aW4uanMiLCJub2RlX21vZHVsZXMvYWx0L2xpYi9zdG9yZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9hbHQvbGliL3V0aWxzL0FsdFV0aWxzLmpzIiwibm9kZV9tb2R1bGVzL2FsdC9saWIvdXRpbHMvU3RhdGVGdW5jdGlvbnMuanMiLCJub2RlX21vZHVsZXMvZGVlcC1lcXVhbC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9kZWVwLWVxdWFsL2xpYi9pc19hcmd1bWVudHMuanMiLCJub2RlX21vZHVsZXMvZGVlcC1lcXVhbC9saWIva2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9mbHV4L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2ZsdXgvbGliL0Rpc3BhdGNoZXIuanMiLCJub2RlX21vZHVsZXMvZmx1eC9ub2RlX21vZHVsZXMvZmJqcy9saWIvaW52YXJpYW50LmpzIiwibm9kZV9tb2R1bGVzL2hpc3RvcnkvbGliL0FjdGlvbnMuanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvQXN5bmNVdGlscy5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L2xpYi9ET01TdGF0ZVN0b3JhZ2UuanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvRE9NVXRpbHMuanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQuanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvY3JlYXRlQnJvd3Nlckhpc3RvcnkuanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvY3JlYXRlRE9NSGlzdG9yeS5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L2xpYi9jcmVhdGVIaXN0b3J5LmpzIiwibm9kZV9tb2R1bGVzL2hpc3RvcnkvbGliL2NyZWF0ZUxvY2F0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2hpc3RvcnkvbGliL2RlcHJlY2F0ZS5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L2xpYi9leHRyYWN0UGF0aC5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L2xpYi9wYXJzZVBhdGguanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvcnVuVHJhbnNpdGlvbkhvb2suanMiLCJub2RlX21vZHVsZXMvaW52YXJpYW50L2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvaXMtcHJvbWlzZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvdHJhbnNtaXR0ZXIvZGlzdC90cmFuc21pdHRlci5qcyIsIm5vZGVfbW9kdWxlcy93YXJuaW5nL2Jyb3dzZXIuanMiLCJzb3VyY2VcXGNsaWVudFxcYWN0aW9uc1xcRm9ybUFjdGlvbnMuanMiLCJzb3VyY2VcXGNsaWVudFxcYWN0aW9uc1xcTW92aWVBY3Rpb25zLmpzIiwic291cmNlXFxjbGllbnRcXGFjdGlvbnNcXE1vdmllQWRkQWN0aW9ucy5qcyIsInNvdXJjZVxcY2xpZW50XFxhY3Rpb25zXFxOYXZiYXJBY3Rpb25zLmpzIiwic291cmNlXFxjbGllbnRcXGFjdGlvbnNcXFVzZXJBY3Rpb25zLmpzIiwic291cmNlXFxjbGllbnRcXGFsdC5qcyIsInNvdXJjZVxcY2xpZW50XFxjb21wb25lbnRzXFxBcHAuanMiLCJzb3VyY2VcXGNsaWVudFxcY29tcG9uZW50c1xcRm9vdGVyLmpzIiwic291cmNlXFxjbGllbnRcXGNvbXBvbmVudHNcXEhvbWUuanMiLCJzb3VyY2VcXGNsaWVudFxcY29tcG9uZW50c1xcTW92aWVBZGQuanMiLCJzb3VyY2VcXGNsaWVudFxcY29tcG9uZW50c1xcTmF2YmFyLmpzIiwic291cmNlXFxjbGllbnRcXGNvbXBvbmVudHNcXFVzZXJMb2dpbi5qcyIsInNvdXJjZVxcY2xpZW50XFxjb21wb25lbnRzXFxVc2VyUHJvZmlsZS5qcyIsInNvdXJjZVxcY2xpZW50XFxjb21wb25lbnRzXFxVc2VyUmVnaXN0ZXIuanMiLCJzb3VyY2VcXGNsaWVudFxcY29tcG9uZW50c1xcZm9ybVxcRm9ybS5qcyIsInNvdXJjZVxcY2xpZW50XFxjb21wb25lbnRzXFxmb3JtXFxSYWRpb0VsZW1lbnQuanMiLCJzb3VyY2VcXGNsaWVudFxcY29tcG9uZW50c1xcZm9ybVxcUmFkaW9Hcm91cC5qcyIsInNvdXJjZVxcY2xpZW50XFxjb21wb25lbnRzXFxmb3JtXFxTdWJtaXQuanMiLCJzb3VyY2VcXGNsaWVudFxcY29tcG9uZW50c1xcZm9ybVxcVGV4dEdyb3VwLmpzIiwic291cmNlXFxjbGllbnRcXGNvbXBvbmVudHNcXHN1Yi1jb21wb25lbnRzXFxDb21tZW50Rm9ybS5qcyIsInNvdXJjZVxcY2xpZW50XFxjb21wb25lbnRzXFxzdWItY29tcG9uZW50c1xcTW92aWVDYXJkLmpzIiwic291cmNlXFxjbGllbnRcXGNvbXBvbmVudHNcXHN1Yi1jb21wb25lbnRzXFxNb3ZpZUNvbW1lbnRzUGFuZWwuanMiLCJzb3VyY2VcXGNsaWVudFxcY29tcG9uZW50c1xcc3ViLWNvbXBvbmVudHNcXE1vdmllSW5mby5qcyIsInNvdXJjZVxcY2xpZW50XFxjb21wb25lbnRzXFxzdWItY29tcG9uZW50c1xcTW92aWVQYW5lbHNUb2dnbGUuanMiLCJzb3VyY2VcXGNsaWVudFxcY29tcG9uZW50c1xcc3ViLWNvbXBvbmVudHNcXE1vdmllUG9zdGVyLmpzIiwic291cmNlXFxjbGllbnRcXGNvbXBvbmVudHNcXHN1Yi1jb21wb25lbnRzXFxNb3ZpZVZvdGVQYW5lbC5qcyIsInNvdXJjZVxcY2xpZW50XFxjb21wb25lbnRzXFxzdWItY29tcG9uZW50c1xcTmF2YmFyVXNlck1lbnUuanMiLCJzb3VyY2VcXGNsaWVudFxcY29tcG9uZW50c1xcc3ViLWNvbXBvbmVudHNcXFVzZXJJbmZvLmpzIiwic291cmNlXFxjbGllbnRcXGNvbXBvbmVudHNcXHN1Yi1jb21wb25lbnRzXFxVc2VyUmF0ZWRNb3ZpZXMuanMiLCJzb3VyY2VcXGNsaWVudFxcY29tcG9uZW50c1xcc3ViLWNvbXBvbmVudHNcXFVzZXJSYXRlZE1vdmllc1BhbmVsLmpzIiwic291cmNlXFxjbGllbnRcXGNvbXBvbmVudHNcXHN1Yi1jb21wb25lbnRzXFxVc2VyUmV2aWV3cy5qcyIsInNvdXJjZVxcY2xpZW50XFxjb21wb25lbnRzXFxzdWItY29tcG9uZW50c1xcVXNlclJldmlld3NQYW5lbC5qcyIsInNvdXJjZVxcY2xpZW50XFxtYWluLmpzIiwic291cmNlXFxjbGllbnRcXHJvdXRlcy5qcyIsInNvdXJjZVxcY2xpZW50XFxzdG9yZXNcXEZvcm1TdG9yZS5qcyIsInNvdXJjZVxcY2xpZW50XFxzdG9yZXNcXE1vdmllQWRkU3RvcmUuanMiLCJzb3VyY2VcXGNsaWVudFxcc3RvcmVzXFxNb3ZpZVN0b3JlLmpzIiwic291cmNlXFxjbGllbnRcXHN0b3Jlc1xcTmF2YmFyU3RvcmUuanMiLCJzb3VyY2VcXGNsaWVudFxcc3RvcmVzXFxVc2VyU3RvcmUuanMiLCJzb3VyY2VcXGNsaWVudFxcdXRpbGl0aWVzXFxBdXRob3JpemUuanMiLCJzb3VyY2VcXGNsaWVudFxcdXRpbGl0aWVzXFxIZWxwZXJzLmpzIiwic291cmNlXFxjbGllbnRcXHV0aWxpdGllc1xcUmVxdWVzdGVyVE1EQi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeFhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25OQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDdE9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDaERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUN6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ25FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNqTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUN2Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUMzQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ25EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4TEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ25EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFNLGtCQUFrQixpQ0FBeEI7QUFDQSxJQUFNLDhCQUE4Qiw4QkFBcEM7QUFDQSxJQUFNLDBCQUEwQixnQ0FBaEM7O0lBRXFCLGE7Ozs7Ozs7bUNBQ0ksUyxFQUFXO0FBQ2hDLGFBQU8sSUFBSSxPQUFKLENBQVksVUFBQyxPQUFELEVBQVUsTUFBVixFQUFxQjtBQUN0QyxZQUFJLFVBQVU7QUFDWixrQkFBUSxLQURJO0FBRVosZUFBUSxlQUFSLGlCQUFtQyxPQUFuQyxlQUFvRDtBQUZ4QyxTQUFkO0FBSUEsVUFBRSxJQUFGLENBQU8sT0FBUCxFQUFnQixJQUFoQixDQUFxQix3QkFBZ0I7QUFDbkMsa0JBQVEsR0FBUixDQUFZLGVBQVosRUFBNkIsWUFBN0I7QUFDQSxjQUFJLGFBQWEsYUFBYixLQUErQixDQUFuQyxFQUFzQztBQUNwQyxvQkFBUSxFQUFDLFdBQVcsMkJBQVosRUFBUjtBQUNBO0FBQ0Q7O0FBRUQsY0FBSSxhQUFhLGFBQWEsT0FBYixDQUFxQixDQUFyQixFQUF3QixXQUF6QztBQUNBLGNBQUksZUFBZSxJQUFuQixFQUF5QjtBQUN2QixvQkFBUSxFQUFDLFdBQVcsdUJBQVosRUFBUjtBQUNBO0FBQ0Q7QUFDRCxrQkFBUSxFQUFDLFdBQWUsZUFBZixTQUFvQyxVQUFyQyxFQUFSO0FBQ0QsU0FiRCxFQWFHLElBYkgsQ0FhUSxlQUFPO0FBQ2IsaUJBQU87QUFDTCwyQkFBZSxnQkFEVjtBQUVMLG1CQUFPO0FBRkYsV0FBUDtBQUlELFNBbEJEO0FBbUJELE9BeEJNLENBQVA7QUF5QkQ7Ozs7OztrQkEzQmtCLGEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1snZGVmYXVsdCddID0gbWFrZUFjdGlvbjtcblxudmFyIF9mdW5jdGlvbnMgPSByZXF1aXJlKCcuLi9mdW5jdGlvbnMnKTtcblxudmFyIGZuID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2Z1bmN0aW9ucyk7XG5cbnZhciBfQWx0VXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy9BbHRVdGlscycpO1xuXG52YXIgdXRpbHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfQWx0VXRpbHMpO1xuXG52YXIgX2lzUHJvbWlzZSA9IHJlcXVpcmUoJ2lzLXByb21pc2UnKTtcblxudmFyIF9pc1Byb21pc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNQcm9taXNlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqWydkZWZhdWx0J10gPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBtYWtlQWN0aW9uKGFsdCwgbmFtZXNwYWNlLCBuYW1lLCBpbXBsZW1lbnRhdGlvbiwgb2JqKSB7XG4gIHZhciBpZCA9IHV0aWxzLnVpZChhbHQuX2FjdGlvbnNSZWdpc3RyeSwgU3RyaW5nKG5hbWVzcGFjZSkgKyAnLicgKyBTdHJpbmcobmFtZSkpO1xuICBhbHQuX2FjdGlvbnNSZWdpc3RyeVtpZF0gPSAxO1xuXG4gIHZhciBkYXRhID0geyBpZDogaWQsIG5hbWVzcGFjZTogbmFtZXNwYWNlLCBuYW1lOiBuYW1lIH07XG5cbiAgdmFyIGRpc3BhdGNoID0gZnVuY3Rpb24gZGlzcGF0Y2gocGF5bG9hZCkge1xuICAgIHJldHVybiBhbHQuZGlzcGF0Y2goaWQsIHBheWxvYWQsIGRhdGEpO1xuICB9O1xuXG4gIC8vIHRoZSBhY3Rpb24gaXRzZWxmXG4gIHZhciBhY3Rpb24gPSBmdW5jdGlvbiBhY3Rpb24oKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgdmFyIGludm9jYXRpb25SZXN1bHQgPSBpbXBsZW1lbnRhdGlvbi5hcHBseShvYmosIGFyZ3MpO1xuICAgIHZhciBhY3Rpb25SZXN1bHQgPSBpbnZvY2F0aW9uUmVzdWx0O1xuXG4gICAgLy8gYXN5bmMgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIHByb21pc2VzIHNob3VsZCBub3QgYmUgZGlzcGF0Y2hlZFxuICAgIGlmIChpbnZvY2F0aW9uUmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgISgwLCBfaXNQcm9taXNlMlsnZGVmYXVsdCddKShpbnZvY2F0aW9uUmVzdWx0KSkge1xuICAgICAgaWYgKGZuLmlzRnVuY3Rpb24oaW52b2NhdGlvblJlc3VsdCkpIHtcbiAgICAgICAgLy8gaW5uZXIgZnVuY3Rpb24gcmVzdWx0IHNob3VsZCBiZSByZXR1cm5lZCBhcyBhbiBhY3Rpb24gcmVzdWx0XG4gICAgICAgIGFjdGlvblJlc3VsdCA9IGludm9jYXRpb25SZXN1bHQoZGlzcGF0Y2gsIGFsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaXNwYXRjaChpbnZvY2F0aW9uUmVzdWx0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaW52b2NhdGlvblJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB1dGlscy53YXJuKCdBbiBhY3Rpb24gd2FzIGNhbGxlZCBidXQgbm90aGluZyB3YXMgZGlzcGF0Y2hlZCcpO1xuICAgIH1cblxuICAgIHJldHVybiBhY3Rpb25SZXN1bHQ7XG4gIH07XG4gIGFjdGlvbi5kZWZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBhY3Rpb24uYXBwbHkobnVsbCwgYXJncyk7XG4gICAgfSk7XG4gIH07XG4gIGFjdGlvbi5pZCA9IGlkO1xuICBhY3Rpb24uZGF0YSA9IGRhdGE7XG5cbiAgLy8gZW5zdXJlIGVhY2ggcmVmZXJlbmNlIGlzIHVuaXF1ZSBpbiB0aGUgbmFtZXNwYWNlXG4gIHZhciBjb250YWluZXIgPSBhbHQuYWN0aW9uc1tuYW1lc3BhY2VdO1xuICB2YXIgbmFtZXNwYWNlSWQgPSB1dGlscy51aWQoY29udGFpbmVyLCBuYW1lKTtcbiAgY29udGFpbmVyW25hbWVzcGFjZUlkXSA9IGFjdGlvbjtcblxuICAvLyBnZW5lcmF0ZSBhIGNvbnN0YW50XG4gIHZhciBjb25zdGFudCA9IHV0aWxzLmZvcm1hdEFzQ29uc3RhbnQobmFtZXNwYWNlSWQpO1xuICBjb250YWluZXJbY29uc3RhbnRdID0gaWQ7XG5cbiAgcmV0dXJuIGFjdGlvbjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuaXNNdXRhYmxlT2JqZWN0ID0gaXNNdXRhYmxlT2JqZWN0O1xuZXhwb3J0cy5lYWNoT2JqZWN0ID0gZWFjaE9iamVjdDtcbmV4cG9ydHMuYXNzaWduID0gYXNzaWduO1xudmFyIGlzRnVuY3Rpb24gPSBleHBvcnRzLmlzRnVuY3Rpb24gPSBmdW5jdGlvbiBpc0Z1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xufTtcblxuZnVuY3Rpb24gaXNNdXRhYmxlT2JqZWN0KHRhcmdldCkge1xuICB2YXIgQ3RvciA9IHRhcmdldC5jb25zdHJ1Y3RvcjtcblxuICByZXR1cm4gISF0YXJnZXQgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRhcmdldCkgPT09ICdbb2JqZWN0IE9iamVjdF0nICYmIGlzRnVuY3Rpb24oQ3RvcikgJiYgIU9iamVjdC5pc0Zyb3plbih0YXJnZXQpICYmIChDdG9yIGluc3RhbmNlb2YgQ3RvciB8fCB0YXJnZXQudHlwZSA9PT0gJ0FsdFN0b3JlJyk7XG59XG5cbmZ1bmN0aW9uIGVhY2hPYmplY3QoZiwgbykge1xuICBvLmZvckVhY2goZnVuY3Rpb24gKGZyb20pIHtcbiAgICBPYmplY3Qua2V5cyhPYmplY3QoZnJvbSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgZihrZXksIGZyb21ba2V5XSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhc3NpZ24odGFyZ2V0KSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzb3VyY2UgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgc291cmNlW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGVhY2hPYmplY3QoZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gdGFyZ2V0W2tleV0gPSB2YWx1ZTtcbiAgfSwgc291cmNlKTtcbiAgcmV0dXJuIHRhcmdldDtcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZmx1eCA9IHJlcXVpcmUoJ2ZsdXgnKTtcblxudmFyIF9TdGF0ZUZ1bmN0aW9ucyA9IHJlcXVpcmUoJy4vdXRpbHMvU3RhdGVGdW5jdGlvbnMnKTtcblxudmFyIFN0YXRlRnVuY3Rpb25zID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX1N0YXRlRnVuY3Rpb25zKTtcblxudmFyIF9mdW5jdGlvbnMgPSByZXF1aXJlKCcuL2Z1bmN0aW9ucycpO1xuXG52YXIgZm4gPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfZnVuY3Rpb25zKTtcblxudmFyIF9zdG9yZSA9IHJlcXVpcmUoJy4vc3RvcmUnKTtcblxudmFyIHN0b3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3N0b3JlKTtcblxudmFyIF9BbHRVdGlscyA9IHJlcXVpcmUoJy4vdXRpbHMvQWx0VXRpbHMnKTtcblxudmFyIHV0aWxzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX0FsdFV0aWxzKTtcblxudmFyIF9hY3Rpb25zID0gcmVxdWlyZSgnLi9hY3Rpb25zJyk7XG5cbnZhciBfYWN0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hY3Rpb25zKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqWydkZWZhdWx0J10gPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9IC8qIGdsb2JhbCB3aW5kb3cgKi9cblxuXG52YXIgQWx0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBbHQoKSB7XG4gICAgdmFyIGNvbmZpZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFsdCk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLnNlcmlhbGl6ZSA9IGNvbmZpZy5zZXJpYWxpemUgfHwgSlNPTi5zdHJpbmdpZnk7XG4gICAgdGhpcy5kZXNlcmlhbGl6ZSA9IGNvbmZpZy5kZXNlcmlhbGl6ZSB8fCBKU09OLnBhcnNlO1xuICAgIHRoaXMuZGlzcGF0Y2hlciA9IGNvbmZpZy5kaXNwYXRjaGVyIHx8IG5ldyBfZmx1eC5EaXNwYXRjaGVyKCk7XG4gICAgdGhpcy5iYXRjaGluZ0Z1bmN0aW9uID0gY29uZmlnLmJhdGNoaW5nRnVuY3Rpb24gfHwgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9O1xuICAgIHRoaXMuYWN0aW9ucyA9IHsgZ2xvYmFsOiB7fSB9O1xuICAgIHRoaXMuc3RvcmVzID0ge307XG4gICAgdGhpcy5zdG9yZVRyYW5zZm9ybXMgPSBjb25maWcuc3RvcmVUcmFuc2Zvcm1zIHx8IFtdO1xuICAgIHRoaXMudHJhcEFzeW5jID0gZmFsc2U7XG4gICAgdGhpcy5fYWN0aW9uc1JlZ2lzdHJ5ID0ge307XG4gICAgdGhpcy5faW5pdFNuYXBzaG90ID0ge307XG4gICAgdGhpcy5fbGFzdFNuYXBzaG90ID0ge307XG4gIH1cblxuICBBbHQucHJvdG90eXBlLmRpc3BhdGNoID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbiwgZGF0YSwgZGV0YWlscykge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdGhpcy5iYXRjaGluZ0Z1bmN0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygxOCkuc3Vic3RyKDIsIDE2KTtcblxuICAgICAgICAvLyBzdXBwb3J0IHN0cmFpZ2h0IGRpc3BhdGNoaW5nIG9mIEZTQS1zdHlsZSBhY3Rpb25zXG4gICAgICAgIGlmIChhY3Rpb24uaGFzT3duUHJvcGVydHkoJ3R5cGUnKSAmJiBhY3Rpb24uaGFzT3duUHJvcGVydHkoJ3BheWxvYWQnKSkge1xuICAgICAgICAgIHZhciBmc2FEZXRhaWxzID0ge1xuICAgICAgICAgICAgaWQ6IGFjdGlvbi50eXBlLFxuICAgICAgICAgICAgbmFtZXNwYWNlOiBhY3Rpb24udHlwZSxcbiAgICAgICAgICAgIG5hbWU6IGFjdGlvbi50eXBlXG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuZGlzcGF0Y2hlci5kaXNwYXRjaCh1dGlscy5mc2EoaWQsIGFjdGlvbi50eXBlLCBhY3Rpb24ucGF5bG9hZCwgZnNhRGV0YWlscykpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFjdGlvbi5pZCAmJiBhY3Rpb24uZGlzcGF0Y2gpIHtcbiAgICAgICAgICByZXR1cm4gdXRpbHMuZGlzcGF0Y2goaWQsIGFjdGlvbiwgZGF0YSwgX3RoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF90aGlzLmRpc3BhdGNoZXIuZGlzcGF0Y2godXRpbHMuZnNhKGlkLCBhY3Rpb24sIGRhdGEsIGRldGFpbHMpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBkaXNwYXRjaDtcbiAgfSgpO1xuXG4gIEFsdC5wcm90b3R5cGUuY3JlYXRlVW5zYXZlZFN0b3JlID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVVuc2F2ZWRTdG9yZShTdG9yZU1vZGVsKSB7XG4gICAgICB2YXIga2V5ID0gU3RvcmVNb2RlbC5kaXNwbGF5TmFtZSB8fCAnJztcbiAgICAgIHN0b3JlLmNyZWF0ZVN0b3JlQ29uZmlnKHRoaXMuY29uZmlnLCBTdG9yZU1vZGVsKTtcbiAgICAgIHZhciBTdG9yZSA9IHN0b3JlLnRyYW5zZm9ybVN0b3JlKHRoaXMuc3RvcmVUcmFuc2Zvcm1zLCBTdG9yZU1vZGVsKTtcblxuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm4uaXNGdW5jdGlvbihTdG9yZSkgPyBzdG9yZS5jcmVhdGVTdG9yZUZyb21DbGFzcy5hcHBseShzdG9yZSwgW3RoaXMsIFN0b3JlLCBrZXldLmNvbmNhdChhcmdzKSkgOiBzdG9yZS5jcmVhdGVTdG9yZUZyb21PYmplY3QodGhpcywgU3RvcmUsIGtleSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZVVuc2F2ZWRTdG9yZTtcbiAgfSgpO1xuXG4gIEFsdC5wcm90b3R5cGUuY3JlYXRlU3RvcmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gY3JlYXRlU3RvcmUoU3RvcmVNb2RlbCwgaWRlbikge1xuICAgICAgdmFyIGtleSA9IGlkZW4gfHwgU3RvcmVNb2RlbC5kaXNwbGF5TmFtZSB8fCBTdG9yZU1vZGVsLm5hbWUgfHwgJyc7XG4gICAgICBzdG9yZS5jcmVhdGVTdG9yZUNvbmZpZyh0aGlzLmNvbmZpZywgU3RvcmVNb2RlbCk7XG4gICAgICB2YXIgU3RvcmUgPSBzdG9yZS50cmFuc2Zvcm1TdG9yZSh0aGlzLnN0b3JlVHJhbnNmb3JtcywgU3RvcmVNb2RlbCk7XG5cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBpZiAobW9kdWxlLmhvdCkgZGVsZXRlIHRoaXMuc3RvcmVzW2tleV07XG5cbiAgICAgIGlmICh0aGlzLnN0b3Jlc1trZXldIHx8ICFrZXkpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RvcmVzW2tleV0pIHtcbiAgICAgICAgICB1dGlscy53YXJuKCdBIHN0b3JlIG5hbWVkICcgKyBTdHJpbmcoa2V5KSArICcgYWxyZWFkeSBleGlzdHMsIGRvdWJsZSBjaGVjayB5b3VyIHN0b3JlICcgKyAnbmFtZXMgb3IgcGFzcyBpbiB5b3VyIG93biBjdXN0b20gaWRlbnRpZmllciBmb3IgZWFjaCBzdG9yZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHV0aWxzLndhcm4oJ1N0b3JlIG5hbWUgd2FzIG5vdCBzcGVjaWZpZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGtleSA9IHV0aWxzLnVpZCh0aGlzLnN0b3Jlcywga2V5KTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIgPiAyID8gX2xlbjIgLSAyIDogMCksIF9rZXkyID0gMjsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMl0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3RvcmVJbnN0YW5jZSA9IGZuLmlzRnVuY3Rpb24oU3RvcmUpID8gc3RvcmUuY3JlYXRlU3RvcmVGcm9tQ2xhc3MuYXBwbHkoc3RvcmUsIFt0aGlzLCBTdG9yZSwga2V5XS5jb25jYXQoYXJncykpIDogc3RvcmUuY3JlYXRlU3RvcmVGcm9tT2JqZWN0KHRoaXMsIFN0b3JlLCBrZXkpO1xuXG4gICAgICB0aGlzLnN0b3Jlc1trZXldID0gc3RvcmVJbnN0YW5jZTtcbiAgICAgIFN0YXRlRnVuY3Rpb25zLnNhdmVJbml0aWFsU25hcHNob3QodGhpcywga2V5KTtcblxuICAgICAgcmV0dXJuIHN0b3JlSW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZVN0b3JlO1xuICB9KCk7XG5cbiAgQWx0LnByb3RvdHlwZS5nZW5lcmF0ZUFjdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVBY3Rpb25zKCkge1xuICAgICAgdmFyIGFjdGlvbnMgPSB7IG5hbWU6ICdnbG9iYWwnIH07XG5cbiAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYWN0aW9uTmFtZXMgPSBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgICBhY3Rpb25OYW1lc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGVBY3Rpb25zKGFjdGlvbk5hbWVzLnJlZHVjZShmdW5jdGlvbiAob2JqLCBhY3Rpb24pIHtcbiAgICAgICAgb2JqW2FjdGlvbl0gPSB1dGlscy5kaXNwYXRjaElkZW50aXR5O1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgfSwgYWN0aW9ucykpO1xuICAgIH1cblxuICAgIHJldHVybiBnZW5lcmF0ZUFjdGlvbnM7XG4gIH0oKTtcblxuICBBbHQucHJvdG90eXBlLmNyZWF0ZUFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBjcmVhdGVBY3Rpb24obmFtZSwgaW1wbGVtZW50YXRpb24sIG9iaikge1xuICAgICAgcmV0dXJuICgwLCBfYWN0aW9uczJbJ2RlZmF1bHQnXSkodGhpcywgJ2dsb2JhbCcsIG5hbWUsIGltcGxlbWVudGF0aW9uLCBvYmopO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVBY3Rpb247XG4gIH0oKTtcblxuICBBbHQucHJvdG90eXBlLmNyZWF0ZUFjdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gY3JlYXRlQWN0aW9ucyhBY3Rpb25zQ2xhc3MpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgZXhwb3J0T2JqID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIHZhciBhY3Rpb25zID0ge307XG4gICAgICB2YXIga2V5ID0gdXRpbHMudWlkKHRoaXMuX2FjdGlvbnNSZWdpc3RyeSwgQWN0aW9uc0NsYXNzLmRpc3BsYXlOYW1lIHx8IEFjdGlvbnNDbGFzcy5uYW1lIHx8ICdVbmtub3duJyk7XG5cbiAgICAgIGlmIChmbi5pc0Z1bmN0aW9uKEFjdGlvbnNDbGFzcykpIHtcbiAgICAgICAgZm4uYXNzaWduKGFjdGlvbnMsIHV0aWxzLmdldFByb3RvdHlwZUNoYWluKEFjdGlvbnNDbGFzcykpO1xuXG4gICAgICAgIHZhciBBY3Rpb25zR2VuZXJhdG9yID0gZnVuY3Rpb24gKF9BY3Rpb25zQ2xhc3MpIHtcbiAgICAgICAgICBfaW5oZXJpdHMoQWN0aW9uc0dlbmVyYXRvciwgX0FjdGlvbnNDbGFzcyk7XG5cbiAgICAgICAgICBmdW5jdGlvbiBBY3Rpb25zR2VuZXJhdG9yKCkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFjdGlvbnNHZW5lcmF0b3IpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuNSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuNSksIF9rZXk1ID0gMDsgX2tleTUgPCBfbGVuNTsgX2tleTUrKykge1xuICAgICAgICAgICAgICBhcmdzW19rZXk1XSA9IGFyZ3VtZW50c1tfa2V5NV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQWN0aW9uc0NsYXNzLmNhbGwuYXBwbHkoX0FjdGlvbnNDbGFzcywgW3RoaXNdLmNvbmNhdChhcmdzKSkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIEFjdGlvbnNHZW5lcmF0b3IucHJvdG90eXBlLmdlbmVyYXRlQWN0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlQWN0aW9ucygpIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgX2xlbjYgPSBhcmd1bWVudHMubGVuZ3RoLCBhY3Rpb25OYW1lcyA9IEFycmF5KF9sZW42KSwgX2tleTYgPSAwOyBfa2V5NiA8IF9sZW42OyBfa2V5NisrKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uTmFtZXNbX2tleTZdID0gYXJndW1lbnRzW19rZXk2XTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGFjdGlvbk5hbWVzLmZvckVhY2goZnVuY3Rpb24gKGFjdGlvbk5hbWUpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25zW2FjdGlvbk5hbWVdID0gdXRpbHMuZGlzcGF0Y2hJZGVudGl0eTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZUFjdGlvbnM7XG4gICAgICAgICAgfSgpO1xuXG4gICAgICAgICAgcmV0dXJuIEFjdGlvbnNHZW5lcmF0b3I7XG4gICAgICAgIH0oQWN0aW9uc0NsYXNzKTtcblxuICAgICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3NGb3JDb25zdHJ1Y3RvciA9IEFycmF5KF9sZW40ID4gMiA/IF9sZW40IC0gMiA6IDApLCBfa2V5NCA9IDI7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgICAgICBhcmdzRm9yQ29uc3RydWN0b3JbX2tleTQgLSAyXSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gICAgICAgIH1cblxuICAgICAgICBmbi5hc3NpZ24oYWN0aW9ucywgbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShBY3Rpb25zR2VuZXJhdG9yLCBbbnVsbF0uY29uY2F0KGFyZ3NGb3JDb25zdHJ1Y3RvcikpKSgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZuLmFzc2lnbihhY3Rpb25zLCBBY3Rpb25zQ2xhc3MpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFjdGlvbnNba2V5XSA9IHRoaXMuYWN0aW9uc1trZXldIHx8IHt9O1xuXG4gICAgICBmbi5lYWNoT2JqZWN0KGZ1bmN0aW9uIChhY3Rpb25OYW1lLCBhY3Rpb24pIHtcbiAgICAgICAgaWYgKCFmbi5pc0Z1bmN0aW9uKGFjdGlvbikpIHtcbiAgICAgICAgICBleHBvcnRPYmpbYWN0aW9uTmFtZV0gPSBhY3Rpb247XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY3JlYXRlIHRoZSBhY3Rpb25cbiAgICAgICAgZXhwb3J0T2JqW2FjdGlvbk5hbWVdID0gKDAsIF9hY3Rpb25zMlsnZGVmYXVsdCddKShfdGhpczMsIGtleSwgYWN0aW9uTmFtZSwgYWN0aW9uLCBleHBvcnRPYmopO1xuXG4gICAgICAgIC8vIGdlbmVyYXRlIGEgY29uc3RhbnRcbiAgICAgICAgdmFyIGNvbnN0YW50ID0gdXRpbHMuZm9ybWF0QXNDb25zdGFudChhY3Rpb25OYW1lKTtcbiAgICAgICAgZXhwb3J0T2JqW2NvbnN0YW50XSA9IGV4cG9ydE9ialthY3Rpb25OYW1lXS5pZDtcbiAgICAgIH0sIFthY3Rpb25zXSk7XG5cbiAgICAgIHJldHVybiBleHBvcnRPYmo7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZUFjdGlvbnM7XG4gIH0oKTtcblxuICBBbHQucHJvdG90eXBlLnRha2VTbmFwc2hvdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiB0YWtlU25hcHNob3QoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNyA9IGFyZ3VtZW50cy5sZW5ndGgsIHN0b3JlTmFtZXMgPSBBcnJheShfbGVuNyksIF9rZXk3ID0gMDsgX2tleTcgPCBfbGVuNzsgX2tleTcrKykge1xuICAgICAgICBzdG9yZU5hbWVzW19rZXk3XSA9IGFyZ3VtZW50c1tfa2V5N107XG4gICAgICB9XG5cbiAgICAgIHZhciBzdGF0ZSA9IFN0YXRlRnVuY3Rpb25zLnNuYXBzaG90KHRoaXMsIHN0b3JlTmFtZXMpO1xuICAgICAgZm4uYXNzaWduKHRoaXMuX2xhc3RTbmFwc2hvdCwgc3RhdGUpO1xuICAgICAgcmV0dXJuIHRoaXMuc2VyaWFsaXplKHN0YXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFrZVNuYXBzaG90O1xuICB9KCk7XG5cbiAgQWx0LnByb3RvdHlwZS5yb2xsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiByb2xsYmFjaygpIHtcbiAgICAgIFN0YXRlRnVuY3Rpb25zLnNldEFwcFN0YXRlKHRoaXMsIHRoaXMuc2VyaWFsaXplKHRoaXMuX2xhc3RTbmFwc2hvdCksIGZ1bmN0aW9uIChzdG9yZUluc3QpIHtcbiAgICAgICAgc3RvcmVJbnN0LmxpZmVjeWNsZSgncm9sbGJhY2snKTtcbiAgICAgICAgc3RvcmVJbnN0LmVtaXRDaGFuZ2UoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByb2xsYmFjaztcbiAgfSgpO1xuXG4gIEFsdC5wcm90b3R5cGUucmVjeWNsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiByZWN5Y2xlKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjggPSBhcmd1bWVudHMubGVuZ3RoLCBzdG9yZU5hbWVzID0gQXJyYXkoX2xlbjgpLCBfa2V5OCA9IDA7IF9rZXk4IDwgX2xlbjg7IF9rZXk4KyspIHtcbiAgICAgICAgc3RvcmVOYW1lc1tfa2V5OF0gPSBhcmd1bWVudHNbX2tleThdO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5pdGlhbFNuYXBzaG90ID0gc3RvcmVOYW1lcy5sZW5ndGggPyBTdGF0ZUZ1bmN0aW9ucy5maWx0ZXJTbmFwc2hvdHModGhpcywgdGhpcy5faW5pdFNuYXBzaG90LCBzdG9yZU5hbWVzKSA6IHRoaXMuX2luaXRTbmFwc2hvdDtcblxuICAgICAgU3RhdGVGdW5jdGlvbnMuc2V0QXBwU3RhdGUodGhpcywgdGhpcy5zZXJpYWxpemUoaW5pdGlhbFNuYXBzaG90KSwgZnVuY3Rpb24gKHN0b3JlSW5zdCkge1xuICAgICAgICBzdG9yZUluc3QubGlmZWN5Y2xlKCdpbml0Jyk7XG4gICAgICAgIHN0b3JlSW5zdC5lbWl0Q2hhbmdlKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVjeWNsZTtcbiAgfSgpO1xuXG4gIEFsdC5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICB2YXIgc3RhdGUgPSB0aGlzLnNlcmlhbGl6ZShTdGF0ZUZ1bmN0aW9ucy5zbmFwc2hvdCh0aGlzKSk7XG4gICAgICB0aGlzLnJlY3ljbGUoKTtcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmx1c2g7XG4gIH0oKTtcblxuICBBbHQucHJvdG90eXBlLmJvb3RzdHJhcCA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBib290c3RyYXAoZGF0YSkge1xuICAgICAgU3RhdGVGdW5jdGlvbnMuc2V0QXBwU3RhdGUodGhpcywgZGF0YSwgZnVuY3Rpb24gKHN0b3JlSW5zdCwgc3RhdGUpIHtcbiAgICAgICAgc3RvcmVJbnN0LmxpZmVjeWNsZSgnYm9vdHN0cmFwJywgc3RhdGUpO1xuICAgICAgICBzdG9yZUluc3QuZW1pdENoYW5nZSgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJvb3RzdHJhcDtcbiAgfSgpO1xuXG4gIEFsdC5wcm90b3R5cGUucHJlcGFyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBwcmVwYXJlKHN0b3JlSW5zdCwgcGF5bG9hZCkge1xuICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgIGlmICghc3RvcmVJbnN0LmRpc3BsYXlOYW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcignU3RvcmUgcHJvdmlkZWQgZG9lcyBub3QgaGF2ZSBhIG5hbWUnKTtcbiAgICAgIH1cbiAgICAgIGRhdGFbc3RvcmVJbnN0LmRpc3BsYXlOYW1lXSA9IHBheWxvYWQ7XG4gICAgICByZXR1cm4gdGhpcy5zZXJpYWxpemUoZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByZXBhcmU7XG4gIH0oKTtcblxuICAvLyBJbnN0YW5jZSB0eXBlIG1ldGhvZHMgZm9yIGluamVjdGluZyBhbHQgaW50byB5b3VyIGFwcGxpY2F0aW9uIGFzIGNvbnRleHRcblxuICBBbHQucHJvdG90eXBlLmFkZEFjdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gYWRkQWN0aW9ucyhuYW1lLCBBY3Rpb25zQ2xhc3MpIHtcbiAgICAgIGZvciAodmFyIF9sZW45ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW45ID4gMiA/IF9sZW45IC0gMiA6IDApLCBfa2V5OSA9IDI7IF9rZXk5IDwgX2xlbjk7IF9rZXk5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5OSAtIDJdID0gYXJndW1lbnRzW19rZXk5XTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5hY3Rpb25zW25hbWVdID0gQXJyYXkuaXNBcnJheShBY3Rpb25zQ2xhc3MpID8gdGhpcy5nZW5lcmF0ZUFjdGlvbnMuYXBwbHkodGhpcywgQWN0aW9uc0NsYXNzKSA6IHRoaXMuY3JlYXRlQWN0aW9ucy5hcHBseSh0aGlzLCBbQWN0aW9uc0NsYXNzXS5jb25jYXQoYXJncykpO1xuICAgIH1cblxuICAgIHJldHVybiBhZGRBY3Rpb25zO1xuICB9KCk7XG5cbiAgQWx0LnByb3RvdHlwZS5hZGRTdG9yZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBhZGRTdG9yZShuYW1lLCBTdG9yZU1vZGVsKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMTAgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjEwID4gMiA/IF9sZW4xMCAtIDIgOiAwKSwgX2tleTEwID0gMjsgX2tleTEwIDwgX2xlbjEwOyBfa2V5MTArKykge1xuICAgICAgICBhcmdzW19rZXkxMCAtIDJdID0gYXJndW1lbnRzW19rZXkxMF07XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY3JlYXRlU3RvcmUuYXBwbHkodGhpcywgW1N0b3JlTW9kZWwsIG5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkZFN0b3JlO1xuICB9KCk7XG5cbiAgQWx0LnByb3RvdHlwZS5nZXRBY3Rpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGdldEFjdGlvbnMobmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuYWN0aW9uc1tuYW1lXTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0QWN0aW9ucztcbiAgfSgpO1xuXG4gIEFsdC5wcm90b3R5cGUuZ2V0U3RvcmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZ2V0U3RvcmUobmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RvcmVzW25hbWVdO1xuICAgIH1cblxuICAgIHJldHVybiBnZXRTdG9yZTtcbiAgfSgpO1xuXG4gIEFsdC5kZWJ1ZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBkZWJ1ZyhuYW1lLCBhbHQsIHdpbikge1xuICAgICAgdmFyIGtleSA9ICdhbHQuanMub3JnJztcbiAgICAgIHZhciBjb250ZXh0ID0gd2luO1xuICAgICAgaWYgKCFjb250ZXh0ICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnRleHQgPSB3aW5kb3c7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGNvbnRleHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnRleHRba2V5XSA9IGNvbnRleHRba2V5XSB8fCBbXTtcbiAgICAgICAgY29udGV4dFtrZXldLnB1c2goeyBuYW1lOiBuYW1lLCBhbHQ6IGFsdCB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhbHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlYnVnO1xuICB9KCk7XG5cbiAgcmV0dXJuIEFsdDtcbn0oKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gQWx0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2Z1bmN0aW9ucyA9IHJlcXVpcmUoJy4uL2Z1bmN0aW9ucycpO1xuXG52YXIgZm4gPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfZnVuY3Rpb25zKTtcblxudmFyIF90cmFuc21pdHRlciA9IHJlcXVpcmUoJ3RyYW5zbWl0dGVyJyk7XG5cbnZhciBfdHJhbnNtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhbnNtaXR0ZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmpbJ2RlZmF1bHQnXSA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBBbHRTdG9yZSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQWx0U3RvcmUoYWx0LCBtb2RlbCwgc3RhdGUsIFN0b3JlTW9kZWwpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFsdFN0b3JlKTtcblxuICAgIHZhciBsaWZlY3ljbGVFdmVudHMgPSBtb2RlbC5saWZlY3ljbGVFdmVudHM7XG4gICAgdGhpcy50cmFuc21pdHRlciA9ICgwLCBfdHJhbnNtaXR0ZXIyWydkZWZhdWx0J10pKCk7XG4gICAgdGhpcy5saWZlY3ljbGUgPSBmdW5jdGlvbiAoZXZlbnQsIHgpIHtcbiAgICAgIGlmIChsaWZlY3ljbGVFdmVudHNbZXZlbnRdKSBsaWZlY3ljbGVFdmVudHNbZXZlbnRdLnB1Ymxpc2goeCk7XG4gICAgfTtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG5cbiAgICB0aGlzLmFsdCA9IGFsdDtcbiAgICB0aGlzLnByZXZlbnREZWZhdWx0ID0gZmFsc2U7XG4gICAgdGhpcy5kaXNwbGF5TmFtZSA9IG1vZGVsLmRpc3BsYXlOYW1lO1xuICAgIHRoaXMuYm91bmRMaXN0ZW5lcnMgPSBtb2RlbC5ib3VuZExpc3RlbmVycztcbiAgICB0aGlzLlN0b3JlTW9kZWwgPSBTdG9yZU1vZGVsO1xuICAgIHRoaXMucmVkdWNlID0gbW9kZWwucmVkdWNlIHx8IGZ1bmN0aW9uICh4KSB7XG4gICAgICByZXR1cm4geDtcbiAgICB9O1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IFtdO1xuXG4gICAgdmFyIG91dHB1dCA9IG1vZGVsLm91dHB1dCB8fCBmdW5jdGlvbiAoeCkge1xuICAgICAgcmV0dXJuIHg7XG4gICAgfTtcblxuICAgIHRoaXMuZW1pdENoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy50cmFuc21pdHRlci5wdWJsaXNoKG91dHB1dChfdGhpcy5zdGF0ZSkpO1xuICAgIH07XG5cbiAgICB2YXIgaGFuZGxlRGlzcGF0Y2ggPSBmdW5jdGlvbiBoYW5kbGVEaXNwYXRjaChmLCBwYXlsb2FkKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZigpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAobW9kZWwuaGFuZGxlc093bkVycm9ycykge1xuICAgICAgICAgIF90aGlzLmxpZmVjeWNsZSgnZXJyb3InLCB7XG4gICAgICAgICAgICBlcnJvcjogZSxcbiAgICAgICAgICAgIHBheWxvYWQ6IHBheWxvYWQsXG4gICAgICAgICAgICBzdGF0ZTogX3RoaXMuc3RhdGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmbi5hc3NpZ24odGhpcywgbW9kZWwucHVibGljTWV0aG9kcyk7XG5cbiAgICAvLyBSZWdpc3RlciBkaXNwYXRjaGVyXG4gICAgdGhpcy5kaXNwYXRjaFRva2VuID0gYWx0LmRpc3BhdGNoZXIucmVnaXN0ZXIoZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICAgIF90aGlzLnByZXZlbnREZWZhdWx0ID0gZmFsc2U7XG5cbiAgICAgIF90aGlzLmxpZmVjeWNsZSgnYmVmb3JlRWFjaCcsIHtcbiAgICAgICAgcGF5bG9hZDogcGF5bG9hZCxcbiAgICAgICAgc3RhdGU6IF90aGlzLnN0YXRlXG4gICAgICB9KTtcblxuICAgICAgdmFyIGFjdGlvbkhhbmRsZXJzID0gbW9kZWwuYWN0aW9uTGlzdGVuZXJzW3BheWxvYWQuYWN0aW9uXTtcblxuICAgICAgaWYgKGFjdGlvbkhhbmRsZXJzIHx8IG1vZGVsLm90aGVyd2lzZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChhY3Rpb25IYW5kbGVycykge1xuICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZURpc3BhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBhY3Rpb25IYW5kbGVycy5maWx0ZXIoQm9vbGVhbikuZXZlcnkoZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXIuY2FsbChtb2RlbCwgcGF5bG9hZC5kYXRhLCBwYXlsb2FkLmFjdGlvbikgIT09IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgcGF5bG9hZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gaGFuZGxlRGlzcGF0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG1vZGVsLm90aGVyd2lzZShwYXlsb2FkLmRhdGEsIHBheWxvYWQuYWN0aW9uKTtcbiAgICAgICAgICB9LCBwYXlsb2FkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXN1bHQgIT09IGZhbHNlICYmICFfdGhpcy5wcmV2ZW50RGVmYXVsdCkgX3RoaXMuZW1pdENoYW5nZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAobW9kZWwucmVkdWNlKSB7XG4gICAgICAgIGhhbmRsZURpc3BhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBtb2RlbC5yZWR1Y2UoX3RoaXMuc3RhdGUsIHBheWxvYWQpO1xuICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSBfdGhpcy5zdGF0ZSA9IHZhbHVlO1xuICAgICAgICB9LCBwYXlsb2FkKTtcbiAgICAgICAgaWYgKCFfdGhpcy5wcmV2ZW50RGVmYXVsdCkgX3RoaXMuZW1pdENoYW5nZSgpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5saWZlY3ljbGUoJ2FmdGVyRWFjaCcsIHtcbiAgICAgICAgcGF5bG9hZDogcGF5bG9hZCxcbiAgICAgICAgc3RhdGU6IF90aGlzLnN0YXRlXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRoaXMubGlmZWN5Y2xlKCdpbml0Jyk7XG4gIH1cblxuICBBbHRTdG9yZS5wcm90b3R5cGUubGlzdGVuID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGxpc3RlbihjYikge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmICghZm4uaXNGdW5jdGlvbihjYikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ2xpc3RlbiBleHBlY3RzIGEgZnVuY3Rpb24nKTtcblxuICAgICAgdmFyIF90cmFuc21pdHRlciRzdWJzY3JpYiA9IHRoaXMudHJhbnNtaXR0ZXIuc3Vic2NyaWJlKGNiKTtcblxuICAgICAgdmFyIGRpc3Bvc2UgPSBfdHJhbnNtaXR0ZXIkc3Vic2NyaWIuZGlzcG9zZTtcblxuICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goeyBjYjogY2IsIGRpc3Bvc2U6IGRpc3Bvc2UgfSk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczIubGlmZWN5Y2xlKCd1bmxpc3RlbicpO1xuICAgICAgICBkaXNwb3NlKCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBsaXN0ZW47XG4gIH0oKTtcblxuICBBbHRTdG9yZS5wcm90b3R5cGUudW5saXN0ZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gdW5saXN0ZW4oY2IpIHtcbiAgICAgIHRoaXMubGlmZWN5Y2xlKCd1bmxpc3RlbicpO1xuICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLmZpbHRlcihmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb24uY2IgPT09IGNiO1xuICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVubGlzdGVuO1xuICB9KCk7XG5cbiAgQWx0U3RvcmUucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuU3RvcmVNb2RlbC5jb25maWcuZ2V0U3RhdGUuY2FsbCh0aGlzLCB0aGlzLnN0YXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0U3RhdGU7XG4gIH0oKTtcblxuICByZXR1cm4gQWx0U3RvcmU7XG59KCk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IEFsdFN0b3JlO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3RyYW5zbWl0dGVyID0gcmVxdWlyZSgndHJhbnNtaXR0ZXInKTtcblxudmFyIF90cmFuc21pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90cmFuc21pdHRlcik7XG5cbnZhciBfZnVuY3Rpb25zID0gcmVxdWlyZSgnLi4vZnVuY3Rpb25zJyk7XG5cbnZhciBmbiA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9mdW5jdGlvbnMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqWydkZWZhdWx0J10gPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBTdG9yZU1peGluID0ge1xuICB3YWl0Rm9yOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gd2FpdEZvcigpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzb3VyY2VzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIHNvdXJjZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIGlmICghc291cmNlcy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCdEaXNwYXRjaCB0b2tlbnMgbm90IHByb3ZpZGVkJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzb3VyY2VzQXJyYXkgPSBzb3VyY2VzO1xuICAgICAgaWYgKHNvdXJjZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHNvdXJjZXNBcnJheSA9IEFycmF5LmlzQXJyYXkoc291cmNlc1swXSkgPyBzb3VyY2VzWzBdIDogc291cmNlcztcbiAgICAgIH1cblxuICAgICAgdmFyIHRva2VucyA9IHNvdXJjZXNBcnJheS5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmRpc3BhdGNoVG9rZW4gfHwgc291cmNlO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuZGlzcGF0Y2hlci53YWl0Rm9yKHRva2Vucyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdhaXRGb3I7XG4gIH0oKSxcbiAgZXhwb3J0QXN5bmM6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBleHBvcnRBc3luYyhhc3luY01ldGhvZHMpIHtcbiAgICAgIHRoaXMucmVnaXN0ZXJBc3luYyhhc3luY01ldGhvZHMpO1xuICAgIH1cblxuICAgIHJldHVybiBleHBvcnRBc3luYztcbiAgfSgpLFxuICByZWdpc3RlckFzeW5jOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gcmVnaXN0ZXJBc3luYyhhc3luY0RlZikge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGxvYWRDb3VudGVyID0gMDtcblxuICAgICAgdmFyIGFzeW5jTWV0aG9kcyA9IGZuLmlzRnVuY3Rpb24oYXN5bmNEZWYpID8gYXN5bmNEZWYodGhpcy5hbHQpIDogYXN5bmNEZWY7XG5cbiAgICAgIHZhciB0b0V4cG9ydCA9IE9iamVjdC5rZXlzKGFzeW5jTWV0aG9kcykucmVkdWNlKGZ1bmN0aW9uIChwdWJsaWNNZXRob2RzLCBtZXRob2ROYW1lKSB7XG4gICAgICAgIHZhciBkZXNjID0gYXN5bmNNZXRob2RzW21ldGhvZE5hbWVdO1xuICAgICAgICB2YXIgc3BlYyA9IGZuLmlzRnVuY3Rpb24oZGVzYykgPyBkZXNjKF90aGlzKSA6IGRlc2M7XG5cbiAgICAgICAgdmFyIHZhbGlkSGFuZGxlcnMgPSBbJ3N1Y2Nlc3MnLCAnZXJyb3InLCAnbG9hZGluZyddO1xuICAgICAgICB2YWxpZEhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgICBpZiAoc3BlY1toYW5kbGVyXSAmJiAhc3BlY1toYW5kbGVyXS5pZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFN0cmluZyhoYW5kbGVyKSArICcgaGFuZGxlciBtdXN0IGJlIGFuIGFjdGlvbiBmdW5jdGlvbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHVibGljTWV0aG9kc1ttZXRob2ROYW1lXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBzdGF0ZSA9IF90aGlzLmdldEluc3RhbmNlKCkuZ2V0U3RhdGUoKTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBzcGVjLmxvY2FsICYmIHNwZWMubG9jYWwuYXBwbHkoc3BlYywgW3N0YXRlXS5jb25jYXQoYXJncykpO1xuICAgICAgICAgIHZhciBzaG91bGRGZXRjaCA9IHNwZWMuc2hvdWxkRmV0Y2ggPyBzcGVjLnNob3VsZEZldGNoLmFwcGx5KHNwZWMsIFtzdGF0ZV0uY29uY2F0KGFyZ3MpKVxuICAgICAgICAgIC8qZXNsaW50LWRpc2FibGUqL1xuICAgICAgICAgIDogdmFsdWUgPT0gbnVsbDtcbiAgICAgICAgICAvKmVzbGludC1lbmFibGUqL1xuICAgICAgICAgIHZhciBpbnRlcmNlcHQgPSBzcGVjLmludGVyY2VwdFJlc3BvbnNlIHx8IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIG1ha2VBY3Rpb25IYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gbWFrZUFjdGlvbkhhbmRsZXIoYWN0aW9uLCBpc0Vycm9yKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgIHZhciBmaXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZmlyZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZENvdW50ZXIgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uKGludGVyY2VwdCh4LCBhY3Rpb24sIGFyZ3MpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRXJyb3IpIHRocm93IHg7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmlyZTtcbiAgICAgICAgICAgICAgICB9KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmFsdC50cmFwQXN5bmMgPyBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmlyZSgpO1xuICAgICAgICAgICAgICAgIH0gOiBmaXJlKCk7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBtYWtlQWN0aW9uSGFuZGxlcjtcbiAgICAgICAgICB9KCk7XG5cbiAgICAgICAgICAvLyBpZiB3ZSBkb24ndCBoYXZlIGl0IGluIGNhY2hlIHRoZW4gZmV0Y2ggaXRcbiAgICAgICAgICBpZiAoc2hvdWxkRmV0Y2gpIHtcbiAgICAgICAgICAgIGxvYWRDb3VudGVyICs9IDE7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKHNwZWMubG9hZGluZykgc3BlYy5sb2FkaW5nKGludGVyY2VwdChudWxsLCBzcGVjLmxvYWRpbmcsIGFyZ3MpKTtcbiAgICAgICAgICAgIHJldHVybiBzcGVjLnJlbW90ZS5hcHBseShzcGVjLCBbc3RhdGVdLmNvbmNhdChhcmdzKSkudGhlbihtYWtlQWN0aW9uSGFuZGxlcihzcGVjLnN1Y2Nlc3MpLCBtYWtlQWN0aW9uSGFuZGxlcihzcGVjLmVycm9yLCAxKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gb3RoZXJ3aXNlIGVtaXQgdGhlIGNoYW5nZSBub3dcbiAgICAgICAgICBfdGhpcy5lbWl0Q2hhbmdlKCk7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBwdWJsaWNNZXRob2RzO1xuICAgICAgfSwge30pO1xuXG4gICAgICB0aGlzLmV4cG9ydFB1YmxpY01ldGhvZHModG9FeHBvcnQpO1xuICAgICAgdGhpcy5leHBvcnRQdWJsaWNNZXRob2RzKHtcbiAgICAgICAgaXNMb2FkaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZnVuY3Rpb24gaXNMb2FkaW5nKCkge1xuICAgICAgICAgICAgcmV0dXJuIGxvYWRDb3VudGVyID4gMDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gaXNMb2FkaW5nO1xuICAgICAgICB9KClcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZWdpc3RlckFzeW5jO1xuICB9KCksXG4gIGV4cG9ydFB1YmxpY01ldGhvZHM6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBleHBvcnRQdWJsaWNNZXRob2RzKG1ldGhvZHMpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBmbi5lYWNoT2JqZWN0KGZ1bmN0aW9uIChtZXRob2ROYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIWZuLmlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZXhwb3J0UHVibGljTWV0aG9kcyBleHBlY3RzIGEgZnVuY3Rpb24nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMi5wdWJsaWNNZXRob2RzW21ldGhvZE5hbWVdID0gdmFsdWU7XG4gICAgICB9LCBbbWV0aG9kc10pO1xuICAgIH1cblxuICAgIHJldHVybiBleHBvcnRQdWJsaWNNZXRob2RzO1xuICB9KCksXG4gIGVtaXRDaGFuZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBlbWl0Q2hhbmdlKCkge1xuICAgICAgdGhpcy5nZXRJbnN0YW5jZSgpLmVtaXRDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZW1pdENoYW5nZTtcbiAgfSgpLFxuICBvbjogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uKGxpZmVjeWNsZUV2ZW50LCBoYW5kbGVyKSB7XG4gICAgICBpZiAobGlmZWN5Y2xlRXZlbnQgPT09ICdlcnJvcicpIHRoaXMuaGFuZGxlc093bkVycm9ycyA9IHRydWU7XG4gICAgICB2YXIgYnVzID0gdGhpcy5saWZlY3ljbGVFdmVudHNbbGlmZWN5Y2xlRXZlbnRdIHx8ICgwLCBfdHJhbnNtaXR0ZXIyWydkZWZhdWx0J10pKCk7XG4gICAgICB0aGlzLmxpZmVjeWNsZUV2ZW50c1tsaWZlY3ljbGVFdmVudF0gPSBidXM7XG4gICAgICByZXR1cm4gYnVzLnN1YnNjcmliZShoYW5kbGVyLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHJldHVybiBvbjtcbiAgfSgpLFxuICBiaW5kQWN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gYmluZEFjdGlvbihzeW1ib2wsIGhhbmRsZXIpIHtcbiAgICAgIGlmICghc3ltYm9sKSB7XG4gICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcignSW52YWxpZCBhY3Rpb24gcmVmZXJlbmNlIHBhc3NlZCBpbicpO1xuICAgICAgfVxuICAgICAgaWYgKCFmbi5pc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2JpbmRBY3Rpb24gZXhwZWN0cyBhIGZ1bmN0aW9uJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFlvdSBjYW4gcGFzcyBpbiB0aGUgY29uc3RhbnQgb3IgdGhlIGZ1bmN0aW9uIGl0c2VsZlxuICAgICAgdmFyIGtleSA9IHN5bWJvbC5pZCA/IHN5bWJvbC5pZCA6IHN5bWJvbDtcbiAgICAgIHRoaXMuYWN0aW9uTGlzdGVuZXJzW2tleV0gPSB0aGlzLmFjdGlvbkxpc3RlbmVyc1trZXldIHx8IFtdO1xuICAgICAgdGhpcy5hY3Rpb25MaXN0ZW5lcnNba2V5XS5wdXNoKGhhbmRsZXIuYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLmJvdW5kTGlzdGVuZXJzLnB1c2goa2V5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gYmluZEFjdGlvbjtcbiAgfSgpLFxuICBiaW5kQWN0aW9uczogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGJpbmRBY3Rpb25zKGFjdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBmbi5lYWNoT2JqZWN0KGZ1bmN0aW9uIChhY3Rpb24sIHN5bWJvbCkge1xuICAgICAgICB2YXIgbWF0Y2hGaXJzdENoYXJhY3RlciA9IC8uLztcbiAgICAgICAgdmFyIGFzc3VtZWRFdmVudEhhbmRsZXIgPSBhY3Rpb24ucmVwbGFjZShtYXRjaEZpcnN0Q2hhcmFjdGVyLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgIHJldHVybiAnb24nICsgU3RyaW5nKHhbMF0udG9VcHBlckNhc2UoKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChfdGhpczNbYWN0aW9uXSAmJiBfdGhpczNbYXNzdW1lZEV2ZW50SGFuZGxlcl0pIHtcbiAgICAgICAgICAvLyBJZiB5b3UgaGF2ZSBib3RoIGFjdGlvbiBhbmQgb25BY3Rpb25cbiAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoJ1lvdSBoYXZlIG11bHRpcGxlIGFjdGlvbiBoYW5kbGVycyBib3VuZCB0byBhbiBhY3Rpb246ICcgKyAoU3RyaW5nKGFjdGlvbikgKyAnIGFuZCAnICsgU3RyaW5nKGFzc3VtZWRFdmVudEhhbmRsZXIpKSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGFuZGxlciA9IF90aGlzM1thY3Rpb25dIHx8IF90aGlzM1thc3N1bWVkRXZlbnRIYW5kbGVyXTtcbiAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICBfdGhpczMuYmluZEFjdGlvbihzeW1ib2wsIGhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICB9LCBbYWN0aW9uc10pO1xuICAgIH1cblxuICAgIHJldHVybiBiaW5kQWN0aW9ucztcbiAgfSgpLFxuICBiaW5kTGlzdGVuZXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gYmluZExpc3RlbmVycyhvYmopIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICBmbi5lYWNoT2JqZWN0KGZ1bmN0aW9uIChtZXRob2ROYW1lLCBzeW1ib2wpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVyID0gX3RoaXM0W21ldGhvZE5hbWVdO1xuXG4gICAgICAgIGlmICghbGlzdGVuZXIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoU3RyaW5nKG1ldGhvZE5hbWUpICsgJyBkZWZpbmVkIGJ1dCBkb2VzIG5vdCBleGlzdCBpbiAnICsgU3RyaW5nKF90aGlzNC5kaXNwbGF5TmFtZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc3ltYm9sKSkge1xuICAgICAgICAgIHN5bWJvbC5mb3JFYWNoKGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgICAgIF90aGlzNC5iaW5kQWN0aW9uKGFjdGlvbiwgbGlzdGVuZXIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF90aGlzNC5iaW5kQWN0aW9uKHN5bWJvbCwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9LCBbb2JqXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJpbmRMaXN0ZW5lcnM7XG4gIH0oKVxufTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gU3RvcmVNaXhpbjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY3JlYXRlU3RvcmVDb25maWcgPSBjcmVhdGVTdG9yZUNvbmZpZztcbmV4cG9ydHMudHJhbnNmb3JtU3RvcmUgPSB0cmFuc2Zvcm1TdG9yZTtcbmV4cG9ydHMuY3JlYXRlU3RvcmVGcm9tT2JqZWN0ID0gY3JlYXRlU3RvcmVGcm9tT2JqZWN0O1xuZXhwb3J0cy5jcmVhdGVTdG9yZUZyb21DbGFzcyA9IGNyZWF0ZVN0b3JlRnJvbUNsYXNzO1xuXG52YXIgX0FsdFV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMvQWx0VXRpbHMnKTtcblxudmFyIHV0aWxzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX0FsdFV0aWxzKTtcblxudmFyIF9mdW5jdGlvbnMgPSByZXF1aXJlKCcuLi9mdW5jdGlvbnMnKTtcblxudmFyIGZuID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2Z1bmN0aW9ucyk7XG5cbnZhciBfQWx0U3RvcmUgPSByZXF1aXJlKCcuL0FsdFN0b3JlJyk7XG5cbnZhciBfQWx0U3RvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQWx0U3RvcmUpO1xuXG52YXIgX1N0b3JlTWl4aW4gPSByZXF1aXJlKCcuL1N0b3JlTWl4aW4nKTtcblxudmFyIF9TdG9yZU1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N0b3JlTWl4aW4pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmpbJ2RlZmF1bHQnXSA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gZG9TZXRTdGF0ZShzdG9yZSwgc3RvcmVJbnN0YW5jZSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBjb25maWcgPSBzdG9yZUluc3RhbmNlLlN0b3JlTW9kZWwuY29uZmlnO1xuXG5cbiAgdmFyIG5leHRTdGF0ZSA9IGZuLmlzRnVuY3Rpb24oc3RhdGUpID8gc3RhdGUoc3RvcmVJbnN0YW5jZS5zdGF0ZSkgOiBzdGF0ZTtcblxuICBzdG9yZUluc3RhbmNlLnN0YXRlID0gY29uZmlnLnNldFN0YXRlLmNhbGwoc3RvcmUsIHN0b3JlSW5zdGFuY2Uuc3RhdGUsIG5leHRTdGF0ZSk7XG5cbiAgaWYgKCFzdG9yZS5hbHQuZGlzcGF0Y2hlci5pc0Rpc3BhdGNoaW5nKCkpIHtcbiAgICBzdG9yZS5lbWl0Q2hhbmdlKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlUHJvdG90eXBlKHByb3RvLCBhbHQsIGtleSwgZXh0cmFzKSB7XG4gIHJldHVybiBmbi5hc3NpZ24ocHJvdG8sIF9TdG9yZU1peGluMlsnZGVmYXVsdCddLCB7XG4gICAgZGlzcGxheU5hbWU6IGtleSxcbiAgICBhbHQ6IGFsdCxcbiAgICBkaXNwYXRjaGVyOiBhbHQuZGlzcGF0Y2hlcixcbiAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gcHJldmVudERlZmF1bHQoKSB7XG4gICAgICAgIHRoaXMuZ2V0SW5zdGFuY2UoKS5wcmV2ZW50RGVmYXVsdCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2ZW50RGVmYXVsdDtcbiAgICB9KCksXG5cbiAgICBib3VuZExpc3RlbmVyczogW10sXG4gICAgbGlmZWN5Y2xlRXZlbnRzOiB7fSxcbiAgICBhY3Rpb25MaXN0ZW5lcnM6IHt9LFxuICAgIHB1YmxpY01ldGhvZHM6IHt9LFxuICAgIGhhbmRsZXNPd25FcnJvcnM6IGZhbHNlXG4gIH0sIGV4dHJhcyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlQ29uZmlnKGdsb2JhbENvbmZpZywgU3RvcmVNb2RlbCkge1xuICBTdG9yZU1vZGVsLmNvbmZpZyA9IGZuLmFzc2lnbih7XG4gICAgZ2V0U3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGdldFN0YXRlKHN0YXRlKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHN0YXRlKSkge1xuICAgICAgICAgIHJldHVybiBzdGF0ZS5zbGljZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGZuLmlzTXV0YWJsZU9iamVjdChzdGF0ZSkpIHtcbiAgICAgICAgICByZXR1cm4gZm4uYXNzaWduKHt9LCBzdGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRTdGF0ZTtcbiAgICB9KCksXG4gICAgc2V0U3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHNldFN0YXRlKGN1cnJlbnRTdGF0ZSwgbmV4dFN0YXRlKSB7XG4gICAgICAgIGlmIChmbi5pc011dGFibGVPYmplY3QobmV4dFN0YXRlKSkge1xuICAgICAgICAgIHJldHVybiBmbi5hc3NpZ24oY3VycmVudFN0YXRlLCBuZXh0U3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0U3RhdGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXRTdGF0ZTtcbiAgICB9KClcbiAgfSwgZ2xvYmFsQ29uZmlnLCBTdG9yZU1vZGVsLmNvbmZpZyk7XG59XG5cbmZ1bmN0aW9uIHRyYW5zZm9ybVN0b3JlKHRyYW5zZm9ybXMsIFN0b3JlTW9kZWwpIHtcbiAgcmV0dXJuIHRyYW5zZm9ybXMucmVkdWNlKGZ1bmN0aW9uIChTdG9yZSwgdHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybShTdG9yZSk7XG4gIH0sIFN0b3JlTW9kZWwpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTdG9yZUZyb21PYmplY3QoYWx0LCBTdG9yZU1vZGVsLCBrZXkpIHtcbiAgdmFyIHN0b3JlSW5zdGFuY2UgPSB2b2lkIDA7XG5cbiAgdmFyIFN0b3JlUHJvdG8gPSBjcmVhdGVQcm90b3R5cGUoe30sIGFsdCwga2V5LCBmbi5hc3NpZ24oe1xuICAgIGdldEluc3RhbmNlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgcmV0dXJuIHN0b3JlSW5zdGFuY2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRJbnN0YW5jZTtcbiAgICB9KCksXG4gICAgc2V0U3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHNldFN0YXRlKG5leHRTdGF0ZSkge1xuICAgICAgICBkb1NldFN0YXRlKHRoaXMsIHN0b3JlSW5zdGFuY2UsIG5leHRTdGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXRTdGF0ZTtcbiAgICB9KClcbiAgfSwgU3RvcmVNb2RlbCkpO1xuXG4gIC8vIGJpbmQgdGhlIHN0b3JlIGxpc3RlbmVyc1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoU3RvcmVQcm90by5iaW5kTGlzdGVuZXJzKSB7XG4gICAgX1N0b3JlTWl4aW4yWydkZWZhdWx0J10uYmluZExpc3RlbmVycy5jYWxsKFN0b3JlUHJvdG8sIFN0b3JlUHJvdG8uYmluZExpc3RlbmVycyk7XG4gIH1cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKFN0b3JlUHJvdG8ub2JzZXJ2ZSkge1xuICAgIF9TdG9yZU1peGluMlsnZGVmYXVsdCddLmJpbmRMaXN0ZW5lcnMuY2FsbChTdG9yZVByb3RvLCBTdG9yZVByb3RvLm9ic2VydmUoYWx0KSk7XG4gIH1cblxuICAvLyBiaW5kIHRoZSBsaWZlY3ljbGUgZXZlbnRzXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChTdG9yZVByb3RvLmxpZmVjeWNsZSkge1xuICAgIGZuLmVhY2hPYmplY3QoZnVuY3Rpb24gKGV2ZW50TmFtZSwgZXZlbnQpIHtcbiAgICAgIF9TdG9yZU1peGluMlsnZGVmYXVsdCddLm9uLmNhbGwoU3RvcmVQcm90bywgZXZlbnROYW1lLCBldmVudCk7XG4gICAgfSwgW1N0b3JlUHJvdG8ubGlmZWN5Y2xlXSk7XG4gIH1cblxuICAvLyBjcmVhdGUgdGhlIGluc3RhbmNlIGFuZCBmbi5hc3NpZ24gdGhlIHB1YmxpYyBtZXRob2RzIHRvIHRoZSBpbnN0YW5jZVxuICBzdG9yZUluc3RhbmNlID0gZm4uYXNzaWduKG5ldyBfQWx0U3RvcmUyWydkZWZhdWx0J10oYWx0LCBTdG9yZVByb3RvLCBTdG9yZVByb3RvLnN0YXRlICE9PSB1bmRlZmluZWQgPyBTdG9yZVByb3RvLnN0YXRlIDoge30sIFN0b3JlTW9kZWwpLCBTdG9yZVByb3RvLnB1YmxpY01ldGhvZHMsIHtcbiAgICBkaXNwbGF5TmFtZToga2V5LFxuICAgIGNvbmZpZzogU3RvcmVNb2RlbC5jb25maWdcbiAgfSk7XG5cbiAgcmV0dXJuIHN0b3JlSW5zdGFuY2U7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlRnJvbUNsYXNzKGFsdCwgU3RvcmVNb2RlbCwga2V5KSB7XG4gIHZhciBzdG9yZUluc3RhbmNlID0gdm9pZCAwO1xuICB2YXIgY29uZmlnID0gU3RvcmVNb2RlbC5jb25maWc7XG5cbiAgLy8gQ3JlYXRpbmcgYSBjbGFzcyBoZXJlIHNvIHdlIGRvbid0IG92ZXJsb2FkIHRoZSBwcm92aWRlZCBzdG9yZSdzXG4gIC8vIHByb3RvdHlwZSB3aXRoIHRoZSBtaXhpbiBiZWhhdmlvdXIgYW5kIEknbSBleHRlbmRpbmcgZnJvbSBTdG9yZU1vZGVsXG4gIC8vIHNvIHdlIGNhbiBpbmhlcml0IGFueSBleHRlbnNpb25zIGZyb20gdGhlIHByb3ZpZGVkIHN0b3JlLlxuXG4gIHZhciBTdG9yZSA9IGZ1bmN0aW9uIChfU3RvcmVNb2RlbCkge1xuICAgIF9pbmhlcml0cyhTdG9yZSwgX1N0b3JlTW9kZWwpO1xuXG4gICAgZnVuY3Rpb24gU3RvcmUoKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RvcmUpO1xuXG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfU3RvcmVNb2RlbC5jYWxsLmFwcGx5KF9TdG9yZU1vZGVsLCBbdGhpc10uY29uY2F0KGFyZ3MpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFN0b3JlO1xuICB9KFN0b3JlTW9kZWwpO1xuXG4gIGNyZWF0ZVByb3RvdHlwZShTdG9yZS5wcm90b3R5cGUsIGFsdCwga2V5LCB7XG4gICAgdHlwZTogJ0FsdFN0b3JlJyxcbiAgICBnZXRJbnN0YW5jZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgIHJldHVybiBzdG9yZUluc3RhbmNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0SW5zdGFuY2U7XG4gICAgfSgpLFxuICAgIHNldFN0YXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBzZXRTdGF0ZShuZXh0U3RhdGUpIHtcbiAgICAgICAgZG9TZXRTdGF0ZSh0aGlzLCBzdG9yZUluc3RhbmNlLCBuZXh0U3RhdGUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2V0U3RhdGU7XG4gICAgfSgpXG4gIH0pO1xuXG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzRm9yQ2xhc3MgPSBBcnJheShfbGVuID4gMyA/IF9sZW4gLSAzIDogMCksIF9rZXkgPSAzOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc0ZvckNsYXNzW19rZXkgLSAzXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHZhciBzdG9yZSA9IG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoU3RvcmUsIFtudWxsXS5jb25jYXQoYXJnc0ZvckNsYXNzKSkpKCk7XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKGNvbmZpZy5iaW5kTGlzdGVuZXJzKSBzdG9yZS5iaW5kTGlzdGVuZXJzKGNvbmZpZy5iaW5kTGlzdGVuZXJzKTtcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKGNvbmZpZy5kYXRhc291cmNlKSBzdG9yZS5yZWdpc3RlckFzeW5jKGNvbmZpZy5kYXRhc291cmNlKTtcblxuICBzdG9yZUluc3RhbmNlID0gZm4uYXNzaWduKG5ldyBfQWx0U3RvcmUyWydkZWZhdWx0J10oYWx0LCBzdG9yZSwgc3RvcmUuc3RhdGUgIT09IHVuZGVmaW5lZCA/IHN0b3JlLnN0YXRlIDogc3RvcmUsIFN0b3JlTW9kZWwpLCB1dGlscy5nZXRJbnRlcm5hbE1ldGhvZHMoU3RvcmVNb2RlbCksIGNvbmZpZy5wdWJsaWNNZXRob2RzLCB7IGRpc3BsYXlOYW1lOiBrZXkgfSk7XG5cbiAgcmV0dXJuIHN0b3JlSW5zdGFuY2U7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5leHBvcnRzLmdldEludGVybmFsTWV0aG9kcyA9IGdldEludGVybmFsTWV0aG9kcztcbmV4cG9ydHMuZ2V0UHJvdG90eXBlQ2hhaW4gPSBnZXRQcm90b3R5cGVDaGFpbjtcbmV4cG9ydHMud2FybiA9IHdhcm47XG5leHBvcnRzLnVpZCA9IHVpZDtcbmV4cG9ydHMuZm9ybWF0QXNDb25zdGFudCA9IGZvcm1hdEFzQ29uc3RhbnQ7XG5leHBvcnRzLmRpc3BhdGNoSWRlbnRpdHkgPSBkaXNwYXRjaElkZW50aXR5O1xuZXhwb3J0cy5mc2EgPSBmc2E7XG5leHBvcnRzLmRpc3BhdGNoID0gZGlzcGF0Y2g7XG5cbnZhciBfZnVuY3Rpb25zID0gcmVxdWlyZSgnLi4vZnVuY3Rpb25zJyk7XG5cbnZhciBmbiA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9mdW5jdGlvbnMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqWydkZWZhdWx0J10gPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vKmVzbGludC1kaXNhYmxlKi9cbnZhciBidWlsdElucyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE5vb3BDbGFzcyk7XG52YXIgYnVpbHRJblByb3RvID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTm9vcENsYXNzLnByb3RvdHlwZSk7XG4vKmVzbGludC1lbmFibGUqL1xuXG5mdW5jdGlvbiBnZXRJbnRlcm5hbE1ldGhvZHMoT2JqLCBpc1Byb3RvKSB7XG4gIHZhciBleGNsdWRlZCA9IGlzUHJvdG8gPyBidWlsdEluUHJvdG8gOiBidWlsdElucztcbiAgdmFyIG9iaiA9IGlzUHJvdG8gPyBPYmoucHJvdG90eXBlIDogT2JqO1xuICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKS5yZWR1Y2UoZnVuY3Rpb24gKHZhbHVlLCBtKSB7XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2YobSkgIT09IC0xKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgdmFsdWVbbV0gPSBvYmpbbV07XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9LCB7fSk7XG59XG5cbmZ1bmN0aW9uIGdldFByb3RvdHlwZUNoYWluKE9iaikge1xuICB2YXIgbWV0aG9kcyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzFdO1xuXG4gIHJldHVybiBPYmogPT09IEZ1bmN0aW9uLnByb3RvdHlwZSA/IG1ldGhvZHMgOiBnZXRQcm90b3R5cGVDaGFpbihPYmplY3QuZ2V0UHJvdG90eXBlT2YoT2JqKSwgZm4uYXNzaWduKGdldEludGVybmFsTWV0aG9kcyhPYmosIHRydWUpLCBtZXRob2RzKSk7XG59XG5cbmZ1bmN0aW9uIHdhcm4obXNnKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIC8qZXNsaW50LWRpc2FibGUqL1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc29sZS53YXJuKG5ldyBSZWZlcmVuY2VFcnJvcihtc2cpKTtcbiAgfVxuICAvKmVzbGludC1lbmFibGUqL1xufVxuXG5mdW5jdGlvbiB1aWQoY29udGFpbmVyLCBuYW1lKSB7XG4gIHZhciBjb3VudCA9IDA7XG4gIHZhciBrZXkgPSBuYW1lO1xuICB3aGlsZSAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoY29udGFpbmVyLCBrZXkpKSB7XG4gICAga2V5ID0gbmFtZSArIFN0cmluZygrK2NvdW50KTtcbiAgfVxuICByZXR1cm4ga2V5O1xufVxuXG5mdW5jdGlvbiBmb3JtYXRBc0NvbnN0YW50KG5hbWUpIHtcbiAgcmV0dXJuIG5hbWUucmVwbGFjZSgvW2Etel0oW0EtWl0pL2csIGZ1bmN0aW9uIChpKSB7XG4gICAgcmV0dXJuIFN0cmluZyhpWzBdKSArICdfJyArIFN0cmluZyhpWzFdLnRvTG93ZXJDYXNlKCkpO1xuICB9KS50b1VwcGVyQ2FzZSgpO1xufVxuXG5mdW5jdGlvbiBkaXNwYXRjaElkZW50aXR5KHgpIHtcbiAgaWYgKHggPT09IHVuZGVmaW5lZCkgcmV0dXJuIG51bGw7XG5cbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGEgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYVtfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gYS5sZW5ndGggPyBbeF0uY29uY2F0KGEpIDogeDtcbn1cblxuZnVuY3Rpb24gZnNhKGlkLCB0eXBlLCBwYXlsb2FkLCBkZXRhaWxzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogdHlwZSxcbiAgICBwYXlsb2FkOiBwYXlsb2FkLFxuICAgIG1ldGE6IF9leHRlbmRzKHtcbiAgICAgIGRpc3BhdGNoSWQ6IGlkXG4gICAgfSwgZGV0YWlscyksXG5cbiAgICBpZDogaWQsXG4gICAgYWN0aW9uOiB0eXBlLFxuICAgIGRhdGE6IHBheWxvYWQsXG4gICAgZGV0YWlsczogZGV0YWlsc1xuICB9O1xufVxuXG5mdW5jdGlvbiBkaXNwYXRjaChpZCwgYWN0aW9uT2JqLCBwYXlsb2FkLCBhbHQpIHtcbiAgdmFyIGRhdGEgPSBhY3Rpb25PYmouZGlzcGF0Y2gocGF5bG9hZCk7XG4gIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHJldHVybiBudWxsO1xuXG4gIHZhciB0eXBlID0gYWN0aW9uT2JqLmlkO1xuICB2YXIgbmFtZXNwYWNlID0gdHlwZTtcbiAgdmFyIG5hbWUgPSB0eXBlO1xuICB2YXIgZGV0YWlscyA9IHsgaWQ6IHR5cGUsIG5hbWVzcGFjZTogbmFtZXNwYWNlLCBuYW1lOiBuYW1lIH07XG5cbiAgdmFyIGRpc3BhdGNoTGF0ZXIgPSBmdW5jdGlvbiBkaXNwYXRjaExhdGVyKHgpIHtcbiAgICByZXR1cm4gYWx0LmRpc3BhdGNoKHR5cGUsIHgsIGRldGFpbHMpO1xuICB9O1xuXG4gIGlmIChmbi5pc0Z1bmN0aW9uKGRhdGEpKSByZXR1cm4gZGF0YShkaXNwYXRjaExhdGVyLCBhbHQpO1xuXG4gIC8vIFhYWCBzdGFuZGFyZGl6ZSB0aGlzXG4gIHJldHVybiBhbHQuZGlzcGF0Y2hlci5kaXNwYXRjaChmc2EoaWQsIHR5cGUsIGRhdGEsIGRldGFpbHMpKTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIE5vb3BDbGFzcygpIHt9IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5zZXRBcHBTdGF0ZSA9IHNldEFwcFN0YXRlO1xuZXhwb3J0cy5zbmFwc2hvdCA9IHNuYXBzaG90O1xuZXhwb3J0cy5zYXZlSW5pdGlhbFNuYXBzaG90ID0gc2F2ZUluaXRpYWxTbmFwc2hvdDtcbmV4cG9ydHMuZmlsdGVyU25hcHNob3RzID0gZmlsdGVyU25hcHNob3RzO1xuXG52YXIgX2Z1bmN0aW9ucyA9IHJlcXVpcmUoJy4uL2Z1bmN0aW9ucycpO1xuXG52YXIgZm4gPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfZnVuY3Rpb25zKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09ialsnZGVmYXVsdCddID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gc2V0QXBwU3RhdGUoaW5zdGFuY2UsIGRhdGEsIG9uU3RvcmUpIHtcbiAgdmFyIG9iaiA9IGluc3RhbmNlLmRlc2VyaWFsaXplKGRhdGEpO1xuICBmbi5lYWNoT2JqZWN0KGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgdmFyIHN0b3JlID0gaW5zdGFuY2Uuc3RvcmVzW2tleV07XG4gICAgaWYgKHN0b3JlKSB7XG4gICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29uZmlnID0gc3RvcmUuU3RvcmVNb2RlbC5jb25maWc7XG5cbiAgICAgICAgdmFyIHN0YXRlID0gc3RvcmUuc3RhdGU7XG4gICAgICAgIGlmIChjb25maWcub25EZXNlcmlhbGl6ZSkgb2JqW2tleV0gPSBjb25maWcub25EZXNlcmlhbGl6ZSh2YWx1ZSkgfHwgdmFsdWU7XG4gICAgICAgIGlmIChmbi5pc011dGFibGVPYmplY3Qoc3RhdGUpKSB7XG4gICAgICAgICAgZm4uZWFjaE9iamVjdChmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZSBzdGF0ZVtrXTtcbiAgICAgICAgICB9LCBbc3RhdGVdKTtcbiAgICAgICAgICBmbi5hc3NpZ24oc3RhdGUsIG9ialtrZXldKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdG9yZS5zdGF0ZSA9IG9ialtrZXldO1xuICAgICAgICB9XG4gICAgICAgIG9uU3RvcmUoc3RvcmUsIHN0b3JlLnN0YXRlKTtcbiAgICAgIH0pKCk7XG4gICAgfVxuICB9LCBbb2JqXSk7XG59XG5cbmZ1bmN0aW9uIHNuYXBzaG90KGluc3RhbmNlKSB7XG4gIHZhciBzdG9yZU5hbWVzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gW10gOiBhcmd1bWVudHNbMV07XG5cbiAgdmFyIHN0b3JlcyA9IHN0b3JlTmFtZXMubGVuZ3RoID8gc3RvcmVOYW1lcyA6IE9iamVjdC5rZXlzKGluc3RhbmNlLnN0b3Jlcyk7XG4gIHJldHVybiBzdG9yZXMucmVkdWNlKGZ1bmN0aW9uIChvYmosIHN0b3JlSGFuZGxlKSB7XG4gICAgdmFyIHN0b3JlTmFtZSA9IHN0b3JlSGFuZGxlLmRpc3BsYXlOYW1lIHx8IHN0b3JlSGFuZGxlO1xuICAgIHZhciBzdG9yZSA9IGluc3RhbmNlLnN0b3Jlc1tzdG9yZU5hbWVdO1xuICAgIHZhciBjb25maWcgPSBzdG9yZS5TdG9yZU1vZGVsLmNvbmZpZztcblxuICAgIHN0b3JlLmxpZmVjeWNsZSgnc25hcHNob3QnKTtcbiAgICB2YXIgY3VzdG9tU25hcHNob3QgPSBjb25maWcub25TZXJpYWxpemUgJiYgY29uZmlnLm9uU2VyaWFsaXplKHN0b3JlLnN0YXRlKTtcbiAgICBvYmpbc3RvcmVOYW1lXSA9IGN1c3RvbVNuYXBzaG90ID8gY3VzdG9tU25hcHNob3QgOiBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sIHt9KTtcbn1cblxuZnVuY3Rpb24gc2F2ZUluaXRpYWxTbmFwc2hvdChpbnN0YW5jZSwga2V5KSB7XG4gIHZhciBzdGF0ZSA9IGluc3RhbmNlLmRlc2VyaWFsaXplKGluc3RhbmNlLnNlcmlhbGl6ZShpbnN0YW5jZS5zdG9yZXNba2V5XS5zdGF0ZSkpO1xuICBpbnN0YW5jZS5faW5pdFNuYXBzaG90W2tleV0gPSBzdGF0ZTtcbiAgaW5zdGFuY2UuX2xhc3RTbmFwc2hvdFtrZXldID0gc3RhdGU7XG59XG5cbmZ1bmN0aW9uIGZpbHRlclNuYXBzaG90cyhpbnN0YW5jZSwgc3RhdGUsIHN0b3Jlcykge1xuICByZXR1cm4gc3RvcmVzLnJlZHVjZShmdW5jdGlvbiAob2JqLCBzdG9yZSkge1xuICAgIHZhciBzdG9yZU5hbWUgPSBzdG9yZS5kaXNwbGF5TmFtZSB8fCBzdG9yZTtcbiAgICBpZiAoIXN0YXRlW3N0b3JlTmFtZV0pIHtcbiAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihTdHJpbmcoc3RvcmVOYW1lKSArICcgaXMgbm90IGEgdmFsaWQgc3RvcmUnKTtcbiAgICB9XG4gICAgb2JqW3N0b3JlTmFtZV0gPSBzdGF0ZVtzdG9yZU5hbWVdO1xuICAgIHJldHVybiBvYmo7XG4gIH0sIHt9KTtcbn0iLCJ2YXIgcFNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xudmFyIG9iamVjdEtleXMgPSByZXF1aXJlKCcuL2xpYi9rZXlzLmpzJyk7XG52YXIgaXNBcmd1bWVudHMgPSByZXF1aXJlKCcuL2xpYi9pc19hcmd1bWVudHMuanMnKTtcblxudmFyIGRlZXBFcXVhbCA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFjdHVhbCwgZXhwZWN0ZWQsIG9wdHMpIHtcbiAgaWYgKCFvcHRzKSBvcHRzID0ge307XG4gIC8vIDcuMS4gQWxsIGlkZW50aWNhbCB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGFzIGRldGVybWluZWQgYnkgPT09LlxuICBpZiAoYWN0dWFsID09PSBleHBlY3RlZCkge1xuICAgIHJldHVybiB0cnVlO1xuXG4gIH0gZWxzZSBpZiAoYWN0dWFsIGluc3RhbmNlb2YgRGF0ZSAmJiBleHBlY3RlZCBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICByZXR1cm4gYWN0dWFsLmdldFRpbWUoKSA9PT0gZXhwZWN0ZWQuZ2V0VGltZSgpO1xuXG4gIC8vIDcuMy4gT3RoZXIgcGFpcnMgdGhhdCBkbyBub3QgYm90aCBwYXNzIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyxcbiAgLy8gZXF1aXZhbGVuY2UgaXMgZGV0ZXJtaW5lZCBieSA9PS5cbiAgfSBlbHNlIGlmICghYWN0dWFsIHx8ICFleHBlY3RlZCB8fCB0eXBlb2YgYWN0dWFsICE9ICdvYmplY3QnICYmIHR5cGVvZiBleHBlY3RlZCAhPSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBvcHRzLnN0cmljdCA/IGFjdHVhbCA9PT0gZXhwZWN0ZWQgOiBhY3R1YWwgPT0gZXhwZWN0ZWQ7XG5cbiAgLy8gNy40LiBGb3IgYWxsIG90aGVyIE9iamVjdCBwYWlycywgaW5jbHVkaW5nIEFycmF5IG9iamVjdHMsIGVxdWl2YWxlbmNlIGlzXG4gIC8vIGRldGVybWluZWQgYnkgaGF2aW5nIHRoZSBzYW1lIG51bWJlciBvZiBvd25lZCBwcm9wZXJ0aWVzIChhcyB2ZXJpZmllZFxuICAvLyB3aXRoIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCksIHRoZSBzYW1lIHNldCBvZiBrZXlzXG4gIC8vIChhbHRob3VnaCBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgb3JkZXIpLCBlcXVpdmFsZW50IHZhbHVlcyBmb3IgZXZlcnlcbiAgLy8gY29ycmVzcG9uZGluZyBrZXksIGFuZCBhbiBpZGVudGljYWwgJ3Byb3RvdHlwZScgcHJvcGVydHkuIE5vdGU6IHRoaXNcbiAgLy8gYWNjb3VudHMgZm9yIGJvdGggbmFtZWQgYW5kIGluZGV4ZWQgcHJvcGVydGllcyBvbiBBcnJheXMuXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG9iakVxdWl2KGFjdHVhbCwgZXhwZWN0ZWQsIG9wdHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkT3JOdWxsKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBpc0J1ZmZlciAoeCkge1xuICBpZiAoIXggfHwgdHlwZW9mIHggIT09ICdvYmplY3QnIHx8IHR5cGVvZiB4Lmxlbmd0aCAhPT0gJ251bWJlcicpIHJldHVybiBmYWxzZTtcbiAgaWYgKHR5cGVvZiB4LmNvcHkgIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHguc2xpY2UgIT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHgubGVuZ3RoID4gMCAmJiB0eXBlb2YgeFswXSAhPT0gJ251bWJlcicpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIG9iakVxdWl2KGEsIGIsIG9wdHMpIHtcbiAgdmFyIGksIGtleTtcbiAgaWYgKGlzVW5kZWZpbmVkT3JOdWxsKGEpIHx8IGlzVW5kZWZpbmVkT3JOdWxsKGIpKVxuICAgIHJldHVybiBmYWxzZTtcbiAgLy8gYW4gaWRlbnRpY2FsICdwcm90b3R5cGUnIHByb3BlcnR5LlxuICBpZiAoYS5wcm90b3R5cGUgIT09IGIucHJvdG90eXBlKSByZXR1cm4gZmFsc2U7XG4gIC8vfn5+SSd2ZSBtYW5hZ2VkIHRvIGJyZWFrIE9iamVjdC5rZXlzIHRocm91Z2ggc2NyZXd5IGFyZ3VtZW50cyBwYXNzaW5nLlxuICAvLyAgIENvbnZlcnRpbmcgdG8gYXJyYXkgc29sdmVzIHRoZSBwcm9ibGVtLlxuICBpZiAoaXNBcmd1bWVudHMoYSkpIHtcbiAgICBpZiAoIWlzQXJndW1lbnRzKGIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGEgPSBwU2xpY2UuY2FsbChhKTtcbiAgICBiID0gcFNsaWNlLmNhbGwoYik7XG4gICAgcmV0dXJuIGRlZXBFcXVhbChhLCBiLCBvcHRzKTtcbiAgfVxuICBpZiAoaXNCdWZmZXIoYSkpIHtcbiAgICBpZiAoIWlzQnVmZmVyKGIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGFbaV0gIT09IGJbaV0pIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdHJ5IHtcbiAgICB2YXIga2EgPSBvYmplY3RLZXlzKGEpLFxuICAgICAgICBrYiA9IG9iamVjdEtleXMoYik7XG4gIH0gY2F0Y2ggKGUpIHsvL2hhcHBlbnMgd2hlbiBvbmUgaXMgYSBzdHJpbmcgbGl0ZXJhbCBhbmQgdGhlIG90aGVyIGlzbid0XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIGhhdmluZyB0aGUgc2FtZSBudW1iZXIgb2Ygb3duZWQgcHJvcGVydGllcyAoa2V5cyBpbmNvcnBvcmF0ZXNcbiAgLy8gaGFzT3duUHJvcGVydHkpXG4gIGlmIChrYS5sZW5ndGggIT0ga2IubGVuZ3RoKVxuICAgIHJldHVybiBmYWxzZTtcbiAgLy90aGUgc2FtZSBzZXQgb2Yga2V5cyAoYWx0aG91Z2ggbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIG9yZGVyKSxcbiAga2Euc29ydCgpO1xuICBrYi5zb3J0KCk7XG4gIC8vfn5+Y2hlYXAga2V5IHRlc3RcbiAgZm9yIChpID0ga2EubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBpZiAoa2FbaV0gIT0ga2JbaV0pXG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy9lcXVpdmFsZW50IHZhbHVlcyBmb3IgZXZlcnkgY29ycmVzcG9uZGluZyBrZXksIGFuZFxuICAvL35+fnBvc3NpYmx5IGV4cGVuc2l2ZSBkZWVwIHRlc3RcbiAgZm9yIChpID0ga2EubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBrZXkgPSBrYVtpXTtcbiAgICBpZiAoIWRlZXBFcXVhbChhW2tleV0sIGJba2V5XSwgb3B0cykpIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHlwZW9mIGEgPT09IHR5cGVvZiBiO1xufVxuIiwidmFyIHN1cHBvcnRzQXJndW1lbnRzQ2xhc3MgPSAoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudHMpXG59KSgpID09ICdbb2JqZWN0IEFyZ3VtZW50c10nO1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBzdXBwb3J0c0FyZ3VtZW50c0NsYXNzID8gc3VwcG9ydGVkIDogdW5zdXBwb3J0ZWQ7XG5cbmV4cG9ydHMuc3VwcG9ydGVkID0gc3VwcG9ydGVkO1xuZnVuY3Rpb24gc3VwcG9ydGVkKG9iamVjdCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkgPT0gJ1tvYmplY3QgQXJndW1lbnRzXSc7XG59O1xuXG5leHBvcnRzLnVuc3VwcG9ydGVkID0gdW5zdXBwb3J0ZWQ7XG5mdW5jdGlvbiB1bnN1cHBvcnRlZChvYmplY3Qpe1xuICByZXR1cm4gb2JqZWN0ICYmXG4gICAgdHlwZW9mIG9iamVjdCA9PSAnb2JqZWN0JyAmJlxuICAgIHR5cGVvZiBvYmplY3QubGVuZ3RoID09ICdudW1iZXInICYmXG4gICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ2NhbGxlZScpICYmXG4gICAgIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmplY3QsICdjYWxsZWUnKSB8fFxuICAgIGZhbHNlO1xufTtcbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiBPYmplY3Qua2V5cyA9PT0gJ2Z1bmN0aW9uJ1xuICA/IE9iamVjdC5rZXlzIDogc2hpbTtcblxuZXhwb3J0cy5zaGltID0gc2hpbTtcbmZ1bmN0aW9uIHNoaW0gKG9iaikge1xuICB2YXIga2V5cyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSBrZXlzLnB1c2goa2V5KTtcbiAgcmV0dXJuIGtleXM7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMuRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4vbGliL0Rpc3BhdGNoZXInKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgRGlzcGF0Y2hlclxuICogXG4gKiBAcHJldmVudE11bmdlXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuXG52YXIgX3ByZWZpeCA9ICdJRF8nO1xuXG4vKipcbiAqIERpc3BhdGNoZXIgaXMgdXNlZCB0byBicm9hZGNhc3QgcGF5bG9hZHMgdG8gcmVnaXN0ZXJlZCBjYWxsYmFja3MuIFRoaXMgaXNcbiAqIGRpZmZlcmVudCBmcm9tIGdlbmVyaWMgcHViLXN1YiBzeXN0ZW1zIGluIHR3byB3YXlzOlxuICpcbiAqICAgMSkgQ2FsbGJhY2tzIGFyZSBub3Qgc3Vic2NyaWJlZCB0byBwYXJ0aWN1bGFyIGV2ZW50cy4gRXZlcnkgcGF5bG9hZCBpc1xuICogICAgICBkaXNwYXRjaGVkIHRvIGV2ZXJ5IHJlZ2lzdGVyZWQgY2FsbGJhY2suXG4gKiAgIDIpIENhbGxiYWNrcyBjYW4gYmUgZGVmZXJyZWQgaW4gd2hvbGUgb3IgcGFydCB1bnRpbCBvdGhlciBjYWxsYmFja3MgaGF2ZVxuICogICAgICBiZWVuIGV4ZWN1dGVkLlxuICpcbiAqIEZvciBleGFtcGxlLCBjb25zaWRlciB0aGlzIGh5cG90aGV0aWNhbCBmbGlnaHQgZGVzdGluYXRpb24gZm9ybSwgd2hpY2hcbiAqIHNlbGVjdHMgYSBkZWZhdWx0IGNpdHkgd2hlbiBhIGNvdW50cnkgaXMgc2VsZWN0ZWQ6XG4gKlxuICogICB2YXIgZmxpZ2h0RGlzcGF0Y2hlciA9IG5ldyBEaXNwYXRjaGVyKCk7XG4gKlxuICogICAvLyBLZWVwcyB0cmFjayBvZiB3aGljaCBjb3VudHJ5IGlzIHNlbGVjdGVkXG4gKiAgIHZhciBDb3VudHJ5U3RvcmUgPSB7Y291bnRyeTogbnVsbH07XG4gKlxuICogICAvLyBLZWVwcyB0cmFjayBvZiB3aGljaCBjaXR5IGlzIHNlbGVjdGVkXG4gKiAgIHZhciBDaXR5U3RvcmUgPSB7Y2l0eTogbnVsbH07XG4gKlxuICogICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgYmFzZSBmbGlnaHQgcHJpY2Ugb2YgdGhlIHNlbGVjdGVkIGNpdHlcbiAqICAgdmFyIEZsaWdodFByaWNlU3RvcmUgPSB7cHJpY2U6IG51bGx9XG4gKlxuICogV2hlbiBhIHVzZXIgY2hhbmdlcyB0aGUgc2VsZWN0ZWQgY2l0eSwgd2UgZGlzcGF0Y2ggdGhlIHBheWxvYWQ6XG4gKlxuICogICBmbGlnaHREaXNwYXRjaGVyLmRpc3BhdGNoKHtcbiAqICAgICBhY3Rpb25UeXBlOiAnY2l0eS11cGRhdGUnLFxuICogICAgIHNlbGVjdGVkQ2l0eTogJ3BhcmlzJ1xuICogICB9KTtcbiAqXG4gKiBUaGlzIHBheWxvYWQgaXMgZGlnZXN0ZWQgYnkgYENpdHlTdG9yZWA6XG4gKlxuICogICBmbGlnaHREaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAqICAgICBpZiAocGF5bG9hZC5hY3Rpb25UeXBlID09PSAnY2l0eS11cGRhdGUnKSB7XG4gKiAgICAgICBDaXR5U3RvcmUuY2l0eSA9IHBheWxvYWQuc2VsZWN0ZWRDaXR5O1xuICogICAgIH1cbiAqICAgfSk7XG4gKlxuICogV2hlbiB0aGUgdXNlciBzZWxlY3RzIGEgY291bnRyeSwgd2UgZGlzcGF0Y2ggdGhlIHBheWxvYWQ6XG4gKlxuICogICBmbGlnaHREaXNwYXRjaGVyLmRpc3BhdGNoKHtcbiAqICAgICBhY3Rpb25UeXBlOiAnY291bnRyeS11cGRhdGUnLFxuICogICAgIHNlbGVjdGVkQ291bnRyeTogJ2F1c3RyYWxpYSdcbiAqICAgfSk7XG4gKlxuICogVGhpcyBwYXlsb2FkIGlzIGRpZ2VzdGVkIGJ5IGJvdGggc3RvcmVzOlxuICpcbiAqICAgQ291bnRyeVN0b3JlLmRpc3BhdGNoVG9rZW4gPSBmbGlnaHREaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAqICAgICBpZiAocGF5bG9hZC5hY3Rpb25UeXBlID09PSAnY291bnRyeS11cGRhdGUnKSB7XG4gKiAgICAgICBDb3VudHJ5U3RvcmUuY291bnRyeSA9IHBheWxvYWQuc2VsZWN0ZWRDb3VudHJ5O1xuICogICAgIH1cbiAqICAgfSk7XG4gKlxuICogV2hlbiB0aGUgY2FsbGJhY2sgdG8gdXBkYXRlIGBDb3VudHJ5U3RvcmVgIGlzIHJlZ2lzdGVyZWQsIHdlIHNhdmUgYSByZWZlcmVuY2VcbiAqIHRvIHRoZSByZXR1cm5lZCB0b2tlbi4gVXNpbmcgdGhpcyB0b2tlbiB3aXRoIGB3YWl0Rm9yKClgLCB3ZSBjYW4gZ3VhcmFudGVlXG4gKiB0aGF0IGBDb3VudHJ5U3RvcmVgIGlzIHVwZGF0ZWQgYmVmb3JlIHRoZSBjYWxsYmFjayB0aGF0IHVwZGF0ZXMgYENpdHlTdG9yZWBcbiAqIG5lZWRzIHRvIHF1ZXJ5IGl0cyBkYXRhLlxuICpcbiAqICAgQ2l0eVN0b3JlLmRpc3BhdGNoVG9rZW4gPSBmbGlnaHREaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAqICAgICBpZiAocGF5bG9hZC5hY3Rpb25UeXBlID09PSAnY291bnRyeS11cGRhdGUnKSB7XG4gKiAgICAgICAvLyBgQ291bnRyeVN0b3JlLmNvdW50cnlgIG1heSBub3QgYmUgdXBkYXRlZC5cbiAqICAgICAgIGZsaWdodERpc3BhdGNoZXIud2FpdEZvcihbQ291bnRyeVN0b3JlLmRpc3BhdGNoVG9rZW5dKTtcbiAqICAgICAgIC8vIGBDb3VudHJ5U3RvcmUuY291bnRyeWAgaXMgbm93IGd1YXJhbnRlZWQgdG8gYmUgdXBkYXRlZC5cbiAqXG4gKiAgICAgICAvLyBTZWxlY3QgdGhlIGRlZmF1bHQgY2l0eSBmb3IgdGhlIG5ldyBjb3VudHJ5XG4gKiAgICAgICBDaXR5U3RvcmUuY2l0eSA9IGdldERlZmF1bHRDaXR5Rm9yQ291bnRyeShDb3VudHJ5U3RvcmUuY291bnRyeSk7XG4gKiAgICAgfVxuICogICB9KTtcbiAqXG4gKiBUaGUgdXNhZ2Ugb2YgYHdhaXRGb3IoKWAgY2FuIGJlIGNoYWluZWQsIGZvciBleGFtcGxlOlxuICpcbiAqICAgRmxpZ2h0UHJpY2VTdG9yZS5kaXNwYXRjaFRva2VuID1cbiAqICAgICBmbGlnaHREaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAqICAgICAgIHN3aXRjaCAocGF5bG9hZC5hY3Rpb25UeXBlKSB7XG4gKiAgICAgICAgIGNhc2UgJ2NvdW50cnktdXBkYXRlJzpcbiAqICAgICAgICAgY2FzZSAnY2l0eS11cGRhdGUnOlxuICogICAgICAgICAgIGZsaWdodERpc3BhdGNoZXIud2FpdEZvcihbQ2l0eVN0b3JlLmRpc3BhdGNoVG9rZW5dKTtcbiAqICAgICAgICAgICBGbGlnaHRQcmljZVN0b3JlLnByaWNlID1cbiAqICAgICAgICAgICAgIGdldEZsaWdodFByaWNlU3RvcmUoQ291bnRyeVN0b3JlLmNvdW50cnksIENpdHlTdG9yZS5jaXR5KTtcbiAqICAgICAgICAgICBicmVhaztcbiAqICAgICB9XG4gKiAgIH0pO1xuICpcbiAqIFRoZSBgY291bnRyeS11cGRhdGVgIHBheWxvYWQgd2lsbCBiZSBndWFyYW50ZWVkIHRvIGludm9rZSB0aGUgc3RvcmVzJ1xuICogcmVnaXN0ZXJlZCBjYWxsYmFja3MgaW4gb3JkZXI6IGBDb3VudHJ5U3RvcmVgLCBgQ2l0eVN0b3JlYCwgdGhlblxuICogYEZsaWdodFByaWNlU3RvcmVgLlxuICovXG5cbnZhciBEaXNwYXRjaGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRGlzcGF0Y2hlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGlzcGF0Y2hlcik7XG5cbiAgICB0aGlzLl9jYWxsYmFja3MgPSB7fTtcbiAgICB0aGlzLl9pc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG4gICAgdGhpcy5faXNIYW5kbGVkID0ge307XG4gICAgdGhpcy5faXNQZW5kaW5nID0ge307XG4gICAgdGhpcy5fbGFzdElEID0gMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBjYWxsYmFjayB0byBiZSBpbnZva2VkIHdpdGggZXZlcnkgZGlzcGF0Y2hlZCBwYXlsb2FkLiBSZXR1cm5zXG4gICAqIGEgdG9rZW4gdGhhdCBjYW4gYmUgdXNlZCB3aXRoIGB3YWl0Rm9yKClgLlxuICAgKi9cblxuICBEaXNwYXRjaGVyLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uIHJlZ2lzdGVyKGNhbGxiYWNrKSB7XG4gICAgdmFyIGlkID0gX3ByZWZpeCArIHRoaXMuX2xhc3RJRCsrO1xuICAgIHRoaXMuX2NhbGxiYWNrc1tpZF0gPSBjYWxsYmFjaztcbiAgICByZXR1cm4gaWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBjYWxsYmFjayBiYXNlZCBvbiBpdHMgdG9rZW4uXG4gICAqL1xuXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLnVucmVnaXN0ZXIgPSBmdW5jdGlvbiB1bnJlZ2lzdGVyKGlkKSB7XG4gICAgIXRoaXMuX2NhbGxiYWNrc1tpZF0gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRGlzcGF0Y2hlci51bnJlZ2lzdGVyKC4uLik6IGAlc2AgZG9lcyBub3QgbWFwIHRvIGEgcmVnaXN0ZXJlZCBjYWxsYmFjay4nLCBpZCkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbaWRdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXYWl0cyBmb3IgdGhlIGNhbGxiYWNrcyBzcGVjaWZpZWQgdG8gYmUgaW52b2tlZCBiZWZvcmUgY29udGludWluZyBleGVjdXRpb25cbiAgICogb2YgdGhlIGN1cnJlbnQgY2FsbGJhY2suIFRoaXMgbWV0aG9kIHNob3VsZCBvbmx5IGJlIHVzZWQgYnkgYSBjYWxsYmFjayBpblxuICAgKiByZXNwb25zZSB0byBhIGRpc3BhdGNoZWQgcGF5bG9hZC5cbiAgICovXG5cbiAgRGlzcGF0Y2hlci5wcm90b3R5cGUud2FpdEZvciA9IGZ1bmN0aW9uIHdhaXRGb3IoaWRzKSB7XG4gICAgIXRoaXMuX2lzRGlzcGF0Y2hpbmcgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRGlzcGF0Y2hlci53YWl0Rm9yKC4uLik6IE11c3QgYmUgaW52b2tlZCB3aGlsZSBkaXNwYXRjaGluZy4nKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGlkcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgIHZhciBpZCA9IGlkc1tpaV07XG4gICAgICBpZiAodGhpcy5faXNQZW5kaW5nW2lkXSkge1xuICAgICAgICAhdGhpcy5faXNIYW5kbGVkW2lkXSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdEaXNwYXRjaGVyLndhaXRGb3IoLi4uKTogQ2lyY3VsYXIgZGVwZW5kZW5jeSBkZXRlY3RlZCB3aGlsZSAnICsgJ3dhaXRpbmcgZm9yIGAlc2AuJywgaWQpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAhdGhpcy5fY2FsbGJhY2tzW2lkXSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdEaXNwYXRjaGVyLndhaXRGb3IoLi4uKTogYCVzYCBkb2VzIG5vdCBtYXAgdG8gYSByZWdpc3RlcmVkIGNhbGxiYWNrLicsIGlkKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9pbnZva2VDYWxsYmFjayhpZCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBEaXNwYXRjaGVzIGEgcGF5bG9hZCB0byBhbGwgcmVnaXN0ZXJlZCBjYWxsYmFja3MuXG4gICAqL1xuXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLmRpc3BhdGNoID0gZnVuY3Rpb24gZGlzcGF0Y2gocGF5bG9hZCkge1xuICAgICEhdGhpcy5faXNEaXNwYXRjaGluZyA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdEaXNwYXRjaC5kaXNwYXRjaCguLi4pOiBDYW5ub3QgZGlzcGF0Y2ggaW4gdGhlIG1pZGRsZSBvZiBhIGRpc3BhdGNoLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9zdGFydERpc3BhdGNoaW5nKHBheWxvYWQpO1xuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLl9jYWxsYmFja3MpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzUGVuZGluZ1tpZF0pIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnZva2VDYWxsYmFjayhpZCk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMuX3N0b3BEaXNwYXRjaGluZygpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogSXMgdGhpcyBEaXNwYXRjaGVyIGN1cnJlbnRseSBkaXNwYXRjaGluZy5cbiAgICovXG5cbiAgRGlzcGF0Y2hlci5wcm90b3R5cGUuaXNEaXNwYXRjaGluZyA9IGZ1bmN0aW9uIGlzRGlzcGF0Y2hpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzRGlzcGF0Y2hpbmc7XG4gIH07XG5cbiAgLyoqXG4gICAqIENhbGwgdGhlIGNhbGxiYWNrIHN0b3JlZCB3aXRoIHRoZSBnaXZlbiBpZC4gQWxzbyBkbyBzb21lIGludGVybmFsXG4gICAqIGJvb2trZWVwaW5nLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG5cbiAgRGlzcGF0Y2hlci5wcm90b3R5cGUuX2ludm9rZUNhbGxiYWNrID0gZnVuY3Rpb24gX2ludm9rZUNhbGxiYWNrKGlkKSB7XG4gICAgdGhpcy5faXNQZW5kaW5nW2lkXSA9IHRydWU7XG4gICAgdGhpcy5fY2FsbGJhY2tzW2lkXSh0aGlzLl9wZW5kaW5nUGF5bG9hZCk7XG4gICAgdGhpcy5faXNIYW5kbGVkW2lkXSA9IHRydWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB1cCBib29ra2VlcGluZyBuZWVkZWQgd2hlbiBkaXNwYXRjaGluZy5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLl9zdGFydERpc3BhdGNoaW5nID0gZnVuY3Rpb24gX3N0YXJ0RGlzcGF0Y2hpbmcocGF5bG9hZCkge1xuICAgIGZvciAodmFyIGlkIGluIHRoaXMuX2NhbGxiYWNrcykge1xuICAgICAgdGhpcy5faXNQZW5kaW5nW2lkXSA9IGZhbHNlO1xuICAgICAgdGhpcy5faXNIYW5kbGVkW2lkXSA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLl9wZW5kaW5nUGF5bG9hZCA9IHBheWxvYWQ7XG4gICAgdGhpcy5faXNEaXNwYXRjaGluZyA9IHRydWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIENsZWFyIGJvb2trZWVwaW5nIHVzZWQgZm9yIGRpc3BhdGNoaW5nLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG5cbiAgRGlzcGF0Y2hlci5wcm90b3R5cGUuX3N0b3BEaXNwYXRjaGluZyA9IGZ1bmN0aW9uIF9zdG9wRGlzcGF0Y2hpbmcoKSB7XG4gICAgZGVsZXRlIHRoaXMuX3BlbmRpbmdQYXlsb2FkO1xuICAgIHRoaXMuX2lzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcbiAgfTtcblxuICByZXR1cm4gRGlzcGF0Y2hlcjtcbn0pKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gRGlzcGF0Y2hlcjsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgaW52YXJpYW50XG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciBpbnZhcmlhbnQgPSBmdW5jdGlvbiAoY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHZhciBlcnJvcjtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKCdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICsgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKCdJbnZhcmlhbnQgVmlvbGF0aW9uOiAnICsgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxOyAvLyB3ZSBkb24ndCBjYXJlIGFib3V0IGludmFyaWFudCdzIG93biBmcmFtZVxuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDsiLCIvKipcbiAqIEluZGljYXRlcyB0aGF0IG5hdmlnYXRpb24gd2FzIGNhdXNlZCBieSBhIGNhbGwgdG8gaGlzdG9yeS5wdXNoLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG52YXIgUFVTSCA9ICdQVVNIJztcblxuZXhwb3J0cy5QVVNIID0gUFVTSDtcbi8qKlxuICogSW5kaWNhdGVzIHRoYXQgbmF2aWdhdGlvbiB3YXMgY2F1c2VkIGJ5IGEgY2FsbCB0byBoaXN0b3J5LnJlcGxhY2UuXG4gKi9cbnZhciBSRVBMQUNFID0gJ1JFUExBQ0UnO1xuXG5leHBvcnRzLlJFUExBQ0UgPSBSRVBMQUNFO1xuLyoqXG4gKiBJbmRpY2F0ZXMgdGhhdCBuYXZpZ2F0aW9uIHdhcyBjYXVzZWQgYnkgc29tZSBvdGhlciBhY3Rpb24gc3VjaFxuICogYXMgdXNpbmcgYSBicm93c2VyJ3MgYmFjay9mb3J3YXJkIGJ1dHRvbnMgYW5kL29yIG1hbnVhbGx5IG1hbmlwdWxhdGluZ1xuICogdGhlIFVSTCBpbiBhIGJyb3dzZXIncyBsb2NhdGlvbiBiYXIuIFRoaXMgaXMgdGhlIGRlZmF1bHQuXG4gKlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XaW5kb3dFdmVudEhhbmRsZXJzL29ucG9wc3RhdGVcbiAqIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICovXG52YXIgUE9QID0gJ1BPUCc7XG5cbmV4cG9ydHMuUE9QID0gUE9QO1xuZXhwb3J0c1snZGVmYXVsdCddID0ge1xuICBQVVNIOiBQVVNILFxuICBSRVBMQUNFOiBSRVBMQUNFLFxuICBQT1A6IFBPUFxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMubG9vcEFzeW5jID0gbG9vcEFzeW5jO1xuXG5mdW5jdGlvbiBsb29wQXN5bmModHVybnMsIHdvcmssIGNhbGxiYWNrKSB7XG4gIHZhciBjdXJyZW50VHVybiA9IDA7XG4gIHZhciBpc0RvbmUgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBkb25lKCkge1xuICAgIGlzRG9uZSA9IHRydWU7XG4gICAgY2FsbGJhY2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgaWYgKGlzRG9uZSkgcmV0dXJuO1xuXG4gICAgaWYgKGN1cnJlbnRUdXJuIDwgdHVybnMpIHtcbiAgICAgIHdvcmsuY2FsbCh0aGlzLCBjdXJyZW50VHVybisrLCBuZXh0LCBkb25lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9uZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuXG4gIG5leHQoKTtcbn0iLCIvKmVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLnNhdmVTdGF0ZSA9IHNhdmVTdGF0ZTtcbmV4cG9ydHMucmVhZFN0YXRlID0gcmVhZFN0YXRlO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG52YXIgS2V5UHJlZml4ID0gJ0BASGlzdG9yeS8nO1xudmFyIFF1b3RhRXhjZWVkZWRFcnJvciA9ICdRdW90YUV4Y2VlZGVkRXJyb3InO1xudmFyIFNlY3VyaXR5RXJyb3IgPSAnU2VjdXJpdHlFcnJvcic7XG5cbmZ1bmN0aW9uIGNyZWF0ZUtleShrZXkpIHtcbiAgcmV0dXJuIEtleVByZWZpeCArIGtleTtcbn1cblxuZnVuY3Rpb24gc2F2ZVN0YXRlKGtleSwgc3RhdGUpIHtcbiAgdHJ5IHtcbiAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShjcmVhdGVLZXkoa2V5KSwgSlNPTi5zdHJpbmdpZnkoc3RhdGUpKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoZXJyb3IubmFtZSA9PT0gU2VjdXJpdHlFcnJvcikge1xuICAgICAgLy8gQmxvY2tpbmcgY29va2llcyBpbiBDaHJvbWUvRmlyZWZveC9TYWZhcmkgdGhyb3dzIFNlY3VyaXR5RXJyb3Igb24gYW55XG4gICAgICAvLyBhdHRlbXB0IHRvIGFjY2VzcyB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuXG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10oZmFsc2UsICdbaGlzdG9yeV0gVW5hYmxlIHRvIHNhdmUgc3RhdGU7IHNlc3Npb25TdG9yYWdlIGlzIG5vdCBhdmFpbGFibGUgZHVlIHRvIHNlY3VyaXR5IHNldHRpbmdzJykgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZXJyb3IubmFtZSA9PT0gUXVvdGFFeGNlZWRlZEVycm9yICYmIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIFNhZmFyaSBcInByaXZhdGUgbW9kZVwiIHRocm93cyBRdW90YUV4Y2VlZGVkRXJyb3IuXG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10oZmFsc2UsICdbaGlzdG9yeV0gVW5hYmxlIHRvIHNhdmUgc3RhdGU7IHNlc3Npb25TdG9yYWdlIGlzIG5vdCBhdmFpbGFibGUgaW4gU2FmYXJpIHByaXZhdGUgbW9kZScpIDogdW5kZWZpbmVkO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVhZFN0YXRlKGtleSkge1xuICB2YXIganNvbiA9IHVuZGVmaW5lZDtcbiAgdHJ5IHtcbiAgICBqc29uID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oY3JlYXRlS2V5KGtleSkpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChlcnJvci5uYW1lID09PSBTZWN1cml0eUVycm9yKSB7XG4gICAgICAvLyBCbG9ja2luZyBjb29raWVzIGluIENocm9tZS9GaXJlZm94L1NhZmFyaSB0aHJvd3MgU2VjdXJpdHlFcnJvciBvbiBhbnlcbiAgICAgIC8vIGF0dGVtcHQgdG8gYWNjZXNzIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5cbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShmYWxzZSwgJ1toaXN0b3J5XSBVbmFibGUgdG8gcmVhZCBzdGF0ZTsgc2Vzc2lvblN0b3JhZ2UgaXMgbm90IGF2YWlsYWJsZSBkdWUgdG8gc2VjdXJpdHkgc2V0dGluZ3MnKSA6IHVuZGVmaW5lZDtcblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgaWYgKGpzb24pIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvbik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIElnbm9yZSBpbnZhbGlkIEpTT04uXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5hZGRFdmVudExpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcjtcbmV4cG9ydHMucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IHJlbW92ZUV2ZW50TGlzdGVuZXI7XG5leHBvcnRzLmdldEhhc2hQYXRoID0gZ2V0SGFzaFBhdGg7XG5leHBvcnRzLnJlcGxhY2VIYXNoUGF0aCA9IHJlcGxhY2VIYXNoUGF0aDtcbmV4cG9ydHMuZ2V0V2luZG93UGF0aCA9IGdldFdpbmRvd1BhdGg7XG5leHBvcnRzLmdvID0gZ287XG5leHBvcnRzLmdldFVzZXJDb25maXJtYXRpb24gPSBnZXRVc2VyQ29uZmlybWF0aW9uO1xuZXhwb3J0cy5zdXBwb3J0c0hpc3RvcnkgPSBzdXBwb3J0c0hpc3Rvcnk7XG5leHBvcnRzLnN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoID0gc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2g7XG5cbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIobm9kZSwgZXZlbnQsIGxpc3RlbmVyKSB7XG4gIGlmIChub2RlLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBmYWxzZSk7XG4gIH0gZWxzZSB7XG4gICAgbm9kZS5hdHRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKG5vZGUsIGV2ZW50LCBsaXN0ZW5lcikge1xuICBpZiAobm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpO1xuICB9IGVsc2Uge1xuICAgIG5vZGUuZGV0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBsaXN0ZW5lcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0SGFzaFBhdGgoKSB7XG4gIC8vIFdlIGNhbid0IHVzZSB3aW5kb3cubG9jYXRpb24uaGFzaCBoZXJlIGJlY2F1c2UgaXQncyBub3RcbiAgLy8gY29uc2lzdGVudCBhY3Jvc3MgYnJvd3NlcnMgLSBGaXJlZm94IHdpbGwgcHJlLWRlY29kZSBpdCFcbiAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KCcjJylbMV0gfHwgJyc7XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VIYXNoUGF0aChwYXRoKSB7XG4gIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggKyAnIycgKyBwYXRoKTtcbn1cblxuZnVuY3Rpb24gZ2V0V2luZG93UGF0aCgpIHtcbiAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggKyB3aW5kb3cubG9jYXRpb24uaGFzaDtcbn1cblxuZnVuY3Rpb24gZ28obikge1xuICBpZiAobikgd2luZG93Lmhpc3RvcnkuZ28obik7XG59XG5cbmZ1bmN0aW9uIGdldFVzZXJDb25maXJtYXRpb24obWVzc2FnZSwgY2FsbGJhY2spIHtcbiAgY2FsbGJhY2sod2luZG93LmNvbmZpcm0obWVzc2FnZSkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgSFRNTDUgaGlzdG9yeSBBUEkgaXMgc3VwcG9ydGVkLiBUYWtlbiBmcm9tIE1vZGVybml6ci5cbiAqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9MSUNFTlNFXG4gKiBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9mZWF0dXJlLWRldGVjdHMvaGlzdG9yeS5qc1xuICogY2hhbmdlZCB0byBhdm9pZCBmYWxzZSBuZWdhdGl2ZXMgZm9yIFdpbmRvd3MgUGhvbmVzOiBodHRwczovL2dpdGh1Yi5jb20vcmFja3QvcmVhY3Qtcm91dGVyL2lzc3Vlcy81ODZcbiAqL1xuXG5mdW5jdGlvbiBzdXBwb3J0c0hpc3RvcnkoKSB7XG4gIHZhciB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gIGlmICgodWEuaW5kZXhPZignQW5kcm9pZCAyLicpICE9PSAtMSB8fCB1YS5pbmRleE9mKCdBbmRyb2lkIDQuMCcpICE9PSAtMSkgJiYgdWEuaW5kZXhPZignTW9iaWxlIFNhZmFyaScpICE9PSAtMSAmJiB1YS5pbmRleE9mKCdDaHJvbWUnKSA9PT0gLTEgJiYgdWEuaW5kZXhPZignV2luZG93cyBQaG9uZScpID09PSAtMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBGSVhNRTogV29yayBhcm91bmQgb3VyIGJyb3dzZXIgaGlzdG9yeSBub3Qgd29ya2luZyBjb3JyZWN0bHkgb24gQ2hyb21lXG4gIC8vIGlPUzogaHR0cHM6Ly9naXRodWIuY29tL3JhY2t0L3JlYWN0LXJvdXRlci9pc3N1ZXMvMjU2NVxuICBpZiAodWEuaW5kZXhPZignQ3JpT1MnKSAhPT0gLTEpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHdpbmRvdy5oaXN0b3J5ICYmICdwdXNoU3RhdGUnIGluIHdpbmRvdy5oaXN0b3J5O1xufVxuXG4vKipcbiAqIFJldHVybnMgZmFsc2UgaWYgdXNpbmcgZ28obikgd2l0aCBoYXNoIGhpc3RvcnkgY2F1c2VzIGEgZnVsbCBwYWdlIHJlbG9hZC5cbiAqL1xuXG5mdW5jdGlvbiBzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCgpIHtcbiAgdmFyIHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgcmV0dXJuIHVhLmluZGV4T2YoJ0ZpcmVmb3gnKSA9PT0gLTE7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xudmFyIGNhblVzZURPTSA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5leHBvcnRzLmNhblVzZURPTSA9IGNhblVzZURPTTsiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF9pbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcblxudmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblxudmFyIF9BY3Rpb25zID0gcmVxdWlyZSgnLi9BY3Rpb25zJyk7XG5cbnZhciBfRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCcuL0V4ZWN1dGlvbkVudmlyb25tZW50Jyk7XG5cbnZhciBfRE9NVXRpbHMgPSByZXF1aXJlKCcuL0RPTVV0aWxzJyk7XG5cbnZhciBfRE9NU3RhdGVTdG9yYWdlID0gcmVxdWlyZSgnLi9ET01TdGF0ZVN0b3JhZ2UnKTtcblxudmFyIF9jcmVhdGVET01IaXN0b3J5ID0gcmVxdWlyZSgnLi9jcmVhdGVET01IaXN0b3J5Jyk7XG5cbnZhciBfY3JlYXRlRE9NSGlzdG9yeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVET01IaXN0b3J5KTtcblxudmFyIF9wYXJzZVBhdGggPSByZXF1aXJlKCcuL3BhcnNlUGF0aCcpO1xuXG52YXIgX3BhcnNlUGF0aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wYXJzZVBhdGgpO1xuXG4vKipcbiAqIENyZWF0ZXMgYW5kIHJldHVybnMgYSBoaXN0b3J5IG9iamVjdCB0aGF0IHVzZXMgSFRNTDUncyBoaXN0b3J5IEFQSVxuICogKHB1c2hTdGF0ZSwgcmVwbGFjZVN0YXRlLCBhbmQgdGhlIHBvcHN0YXRlIGV2ZW50KSB0byBtYW5hZ2UgaGlzdG9yeS5cbiAqIFRoaXMgaXMgdGhlIHJlY29tbWVuZGVkIG1ldGhvZCBvZiBtYW5hZ2luZyBoaXN0b3J5IGluIGJyb3dzZXJzIGJlY2F1c2VcbiAqIGl0IHByb3ZpZGVzIHRoZSBjbGVhbmVzdCBVUkxzLlxuICpcbiAqIE5vdGU6IEluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgdGhlIEhUTUw1IGhpc3RvcnkgQVBJIGZ1bGxcbiAqIHBhZ2UgcmVsb2FkcyB3aWxsIGJlIHVzZWQgdG8gcHJlc2VydmUgVVJMcy5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQnJvd3Nlckhpc3RvcnkoKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cbiAgIV9FeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX2ludmFyaWFudDJbJ2RlZmF1bHQnXShmYWxzZSwgJ0Jyb3dzZXIgaGlzdG9yeSBuZWVkcyBhIERPTScpIDogX2ludmFyaWFudDJbJ2RlZmF1bHQnXShmYWxzZSkgOiB1bmRlZmluZWQ7XG5cbiAgdmFyIGZvcmNlUmVmcmVzaCA9IG9wdGlvbnMuZm9yY2VSZWZyZXNoO1xuXG4gIHZhciBpc1N1cHBvcnRlZCA9IF9ET01VdGlscy5zdXBwb3J0c0hpc3RvcnkoKTtcbiAgdmFyIHVzZVJlZnJlc2ggPSAhaXNTdXBwb3J0ZWQgfHwgZm9yY2VSZWZyZXNoO1xuXG4gIGZ1bmN0aW9uIGdldEN1cnJlbnRMb2NhdGlvbihoaXN0b3J5U3RhdGUpIHtcbiAgICBoaXN0b3J5U3RhdGUgPSBoaXN0b3J5U3RhdGUgfHwgd2luZG93Lmhpc3Rvcnkuc3RhdGUgfHwge307XG5cbiAgICB2YXIgcGF0aCA9IF9ET01VdGlscy5nZXRXaW5kb3dQYXRoKCk7XG4gICAgdmFyIF9oaXN0b3J5U3RhdGUgPSBoaXN0b3J5U3RhdGU7XG4gICAgdmFyIGtleSA9IF9oaXN0b3J5U3RhdGUua2V5O1xuXG4gICAgdmFyIHN0YXRlID0gdW5kZWZpbmVkO1xuICAgIGlmIChrZXkpIHtcbiAgICAgIHN0YXRlID0gX0RPTVN0YXRlU3RvcmFnZS5yZWFkU3RhdGUoa2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUgPSBudWxsO1xuICAgICAga2V5ID0gaGlzdG9yeS5jcmVhdGVLZXkoKTtcblxuICAgICAgaWYgKGlzU3VwcG9ydGVkKSB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoX2V4dGVuZHMoe30sIGhpc3RvcnlTdGF0ZSwgeyBrZXk6IGtleSB9KSwgbnVsbCwgcGF0aCk7XG4gICAgfVxuXG4gICAgdmFyIGxvY2F0aW9uID0gX3BhcnNlUGF0aDJbJ2RlZmF1bHQnXShwYXRoKTtcblxuICAgIHJldHVybiBoaXN0b3J5LmNyZWF0ZUxvY2F0aW9uKF9leHRlbmRzKHt9LCBsb2NhdGlvbiwgeyBzdGF0ZTogc3RhdGUgfSksIHVuZGVmaW5lZCwga2V5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXJ0UG9wU3RhdGVMaXN0ZW5lcihfcmVmKSB7XG4gICAgdmFyIHRyYW5zaXRpb25UbyA9IF9yZWYudHJhbnNpdGlvblRvO1xuXG4gICAgZnVuY3Rpb24gcG9wU3RhdGVMaXN0ZW5lcihldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnN0YXRlID09PSB1bmRlZmluZWQpIHJldHVybjsgLy8gSWdub3JlIGV4dHJhbmVvdXMgcG9wc3RhdGUgZXZlbnRzIGluIFdlYktpdC5cblxuICAgICAgdHJhbnNpdGlvblRvKGdldEN1cnJlbnRMb2NhdGlvbihldmVudC5zdGF0ZSkpO1xuICAgIH1cblxuICAgIF9ET01VdGlscy5hZGRFdmVudExpc3RlbmVyKHdpbmRvdywgJ3BvcHN0YXRlJywgcG9wU3RhdGVMaXN0ZW5lcik7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgX0RPTVV0aWxzLnJlbW92ZUV2ZW50TGlzdGVuZXIod2luZG93LCAncG9wc3RhdGUnLCBwb3BTdGF0ZUxpc3RlbmVyKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZmluaXNoVHJhbnNpdGlvbihsb2NhdGlvbikge1xuICAgIHZhciBiYXNlbmFtZSA9IGxvY2F0aW9uLmJhc2VuYW1lO1xuICAgIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lO1xuICAgIHZhciBzZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2g7XG4gICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoO1xuICAgIHZhciBzdGF0ZSA9IGxvY2F0aW9uLnN0YXRlO1xuICAgIHZhciBhY3Rpb24gPSBsb2NhdGlvbi5hY3Rpb247XG4gICAgdmFyIGtleSA9IGxvY2F0aW9uLmtleTtcblxuICAgIGlmIChhY3Rpb24gPT09IF9BY3Rpb25zLlBPUCkgcmV0dXJuOyAvLyBOb3RoaW5nIHRvIGRvLlxuXG4gICAgX0RPTVN0YXRlU3RvcmFnZS5zYXZlU3RhdGUoa2V5LCBzdGF0ZSk7XG5cbiAgICB2YXIgcGF0aCA9IChiYXNlbmFtZSB8fCAnJykgKyBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7XG4gICAgdmFyIGhpc3RvcnlTdGF0ZSA9IHtcbiAgICAgIGtleToga2V5XG4gICAgfTtcblxuICAgIGlmIChhY3Rpb24gPT09IF9BY3Rpb25zLlBVU0gpIHtcbiAgICAgIGlmICh1c2VSZWZyZXNoKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcGF0aDtcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBQcmV2ZW50IGxvY2F0aW9uIHVwZGF0ZS5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKGhpc3RvcnlTdGF0ZSwgbnVsbCwgcGF0aCk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUkVQTEFDRVxuICAgICAgaWYgKHVzZVJlZnJlc2gpIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UocGF0aCk7XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gUHJldmVudCBsb2NhdGlvbiB1cGRhdGUuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShoaXN0b3J5U3RhdGUsIG51bGwsIHBhdGgpO1xuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIGhpc3RvcnkgPSBfY3JlYXRlRE9NSGlzdG9yeTJbJ2RlZmF1bHQnXShfZXh0ZW5kcyh7fSwgb3B0aW9ucywge1xuICAgIGdldEN1cnJlbnRMb2NhdGlvbjogZ2V0Q3VycmVudExvY2F0aW9uLFxuICAgIGZpbmlzaFRyYW5zaXRpb246IGZpbmlzaFRyYW5zaXRpb24sXG4gICAgc2F2ZVN0YXRlOiBfRE9NU3RhdGVTdG9yYWdlLnNhdmVTdGF0ZVxuICB9KSk7XG5cbiAgdmFyIGxpc3RlbmVyQ291bnQgPSAwLFxuICAgICAgc3RvcFBvcFN0YXRlTGlzdGVuZXIgPSB1bmRlZmluZWQ7XG5cbiAgZnVuY3Rpb24gbGlzdGVuQmVmb3JlKGxpc3RlbmVyKSB7XG4gICAgaWYgKCsrbGlzdGVuZXJDb3VudCA9PT0gMSkgc3RvcFBvcFN0YXRlTGlzdGVuZXIgPSBzdGFydFBvcFN0YXRlTGlzdGVuZXIoaGlzdG9yeSk7XG5cbiAgICB2YXIgdW5saXN0ZW4gPSBoaXN0b3J5Lmxpc3RlbkJlZm9yZShsaXN0ZW5lcik7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdW5saXN0ZW4oKTtcblxuICAgICAgaWYgKC0tbGlzdGVuZXJDb3VudCA9PT0gMCkgc3RvcFBvcFN0YXRlTGlzdGVuZXIoKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgaWYgKCsrbGlzdGVuZXJDb3VudCA9PT0gMSkgc3RvcFBvcFN0YXRlTGlzdGVuZXIgPSBzdGFydFBvcFN0YXRlTGlzdGVuZXIoaGlzdG9yeSk7XG5cbiAgICB2YXIgdW5saXN0ZW4gPSBoaXN0b3J5Lmxpc3RlbihsaXN0ZW5lcik7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdW5saXN0ZW4oKTtcblxuICAgICAgaWYgKC0tbGlzdGVuZXJDb3VudCA9PT0gMCkgc3RvcFBvcFN0YXRlTGlzdGVuZXIoKTtcbiAgICB9O1xuICB9XG5cbiAgLy8gZGVwcmVjYXRlZFxuICBmdW5jdGlvbiByZWdpc3RlclRyYW5zaXRpb25Ib29rKGhvb2spIHtcbiAgICBpZiAoKytsaXN0ZW5lckNvdW50ID09PSAxKSBzdG9wUG9wU3RhdGVMaXN0ZW5lciA9IHN0YXJ0UG9wU3RhdGVMaXN0ZW5lcihoaXN0b3J5KTtcblxuICAgIGhpc3RvcnkucmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKTtcbiAgfVxuXG4gIC8vIGRlcHJlY2F0ZWRcbiAgZnVuY3Rpb24gdW5yZWdpc3RlclRyYW5zaXRpb25Ib29rKGhvb2spIHtcbiAgICBoaXN0b3J5LnVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKTtcblxuICAgIGlmICgtLWxpc3RlbmVyQ291bnQgPT09IDApIHN0b3BQb3BTdGF0ZUxpc3RlbmVyKCk7XG4gIH1cblxuICByZXR1cm4gX2V4dGVuZHMoe30sIGhpc3RvcnksIHtcbiAgICBsaXN0ZW5CZWZvcmU6IGxpc3RlbkJlZm9yZSxcbiAgICBsaXN0ZW46IGxpc3RlbixcbiAgICByZWdpc3RlclRyYW5zaXRpb25Ib29rOiByZWdpc3RlclRyYW5zaXRpb25Ib29rLFxuICAgIHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vazogdW5yZWdpc3RlclRyYW5zaXRpb25Ib29rXG4gIH0pO1xufVxuXG5leHBvcnRzWydkZWZhdWx0J10gPSBjcmVhdGVCcm93c2VySGlzdG9yeTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX2ludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuXG52YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXG52YXIgX0V4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnLi9FeGVjdXRpb25FbnZpcm9ubWVudCcpO1xuXG52YXIgX0RPTVV0aWxzID0gcmVxdWlyZSgnLi9ET01VdGlscycpO1xuXG52YXIgX2NyZWF0ZUhpc3RvcnkgPSByZXF1aXJlKCcuL2NyZWF0ZUhpc3RvcnknKTtcblxudmFyIF9jcmVhdGVIaXN0b3J5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUhpc3RvcnkpO1xuXG5mdW5jdGlvbiBjcmVhdGVET01IaXN0b3J5KG9wdGlvbnMpIHtcbiAgdmFyIGhpc3RvcnkgPSBfY3JlYXRlSGlzdG9yeTJbJ2RlZmF1bHQnXShfZXh0ZW5kcyh7XG4gICAgZ2V0VXNlckNvbmZpcm1hdGlvbjogX0RPTVV0aWxzLmdldFVzZXJDb25maXJtYXRpb25cbiAgfSwgb3B0aW9ucywge1xuICAgIGdvOiBfRE9NVXRpbHMuZ29cbiAgfSkpO1xuXG4gIGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgICFfRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UsICdET00gaGlzdG9yeSBuZWVkcyBhIERPTScpIDogX2ludmFyaWFudDJbJ2RlZmF1bHQnXShmYWxzZSkgOiB1bmRlZmluZWQ7XG5cbiAgICByZXR1cm4gaGlzdG9yeS5saXN0ZW4obGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBoaXN0b3J5LCB7XG4gICAgbGlzdGVuOiBsaXN0ZW5cbiAgfSk7XG59XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGNyZWF0ZURPTUhpc3Rvcnk7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIvL2ltcG9ydCB3YXJuaW5nIGZyb20gJ3dhcm5pbmcnXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF9kZWVwRXF1YWwgPSByZXF1aXJlKCdkZWVwLWVxdWFsJyk7XG5cbnZhciBfZGVlcEVxdWFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZXBFcXVhbCk7XG5cbnZhciBfQXN5bmNVdGlscyA9IHJlcXVpcmUoJy4vQXN5bmNVdGlscycpO1xuXG52YXIgX0FjdGlvbnMgPSByZXF1aXJlKCcuL0FjdGlvbnMnKTtcblxudmFyIF9jcmVhdGVMb2NhdGlvbjIgPSByZXF1aXJlKCcuL2NyZWF0ZUxvY2F0aW9uJyk7XG5cbnZhciBfY3JlYXRlTG9jYXRpb24zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlTG9jYXRpb24yKTtcblxudmFyIF9ydW5UcmFuc2l0aW9uSG9vayA9IHJlcXVpcmUoJy4vcnVuVHJhbnNpdGlvbkhvb2snKTtcblxudmFyIF9ydW5UcmFuc2l0aW9uSG9vazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ydW5UcmFuc2l0aW9uSG9vayk7XG5cbnZhciBfcGFyc2VQYXRoID0gcmVxdWlyZSgnLi9wYXJzZVBhdGgnKTtcblxudmFyIF9wYXJzZVBhdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGFyc2VQYXRoKTtcblxudmFyIF9kZXByZWNhdGUgPSByZXF1aXJlKCcuL2RlcHJlY2F0ZScpO1xuXG52YXIgX2RlcHJlY2F0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZXByZWNhdGUpO1xuXG5mdW5jdGlvbiBjcmVhdGVSYW5kb21LZXkobGVuZ3RoKSB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgbGVuZ3RoKTtcbn1cblxuZnVuY3Rpb24gbG9jYXRpb25zQXJlRXF1YWwoYSwgYikge1xuICByZXR1cm4gYS5wYXRobmFtZSA9PT0gYi5wYXRobmFtZSAmJiBhLnNlYXJjaCA9PT0gYi5zZWFyY2ggJiZcbiAgLy9hLmFjdGlvbiA9PT0gYi5hY3Rpb24gJiYgLy8gRGlmZmVyZW50IGFjdGlvbiAhPT0gbG9jYXRpb24gY2hhbmdlLlxuICBhLmtleSA9PT0gYi5rZXkgJiYgX2RlZXBFcXVhbDJbJ2RlZmF1bHQnXShhLnN0YXRlLCBiLnN0YXRlKTtcbn1cblxudmFyIERlZmF1bHRLZXlMZW5ndGggPSA2O1xuXG5mdW5jdGlvbiBjcmVhdGVIaXN0b3J5KCkge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuICB2YXIgZ2V0Q3VycmVudExvY2F0aW9uID0gb3B0aW9ucy5nZXRDdXJyZW50TG9jYXRpb247XG4gIHZhciBmaW5pc2hUcmFuc2l0aW9uID0gb3B0aW9ucy5maW5pc2hUcmFuc2l0aW9uO1xuICB2YXIgc2F2ZVN0YXRlID0gb3B0aW9ucy5zYXZlU3RhdGU7XG4gIHZhciBnbyA9IG9wdGlvbnMuZ287XG4gIHZhciBrZXlMZW5ndGggPSBvcHRpb25zLmtleUxlbmd0aDtcbiAgdmFyIGdldFVzZXJDb25maXJtYXRpb24gPSBvcHRpb25zLmdldFVzZXJDb25maXJtYXRpb247XG5cbiAgaWYgKHR5cGVvZiBrZXlMZW5ndGggIT09ICdudW1iZXInKSBrZXlMZW5ndGggPSBEZWZhdWx0S2V5TGVuZ3RoO1xuXG4gIHZhciB0cmFuc2l0aW9uSG9va3MgPSBbXTtcblxuICBmdW5jdGlvbiBsaXN0ZW5CZWZvcmUoaG9vaykge1xuICAgIHRyYW5zaXRpb25Ib29rcy5wdXNoKGhvb2spO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRyYW5zaXRpb25Ib29rcyA9IHRyYW5zaXRpb25Ib29rcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0gIT09IGhvb2s7XG4gICAgICB9KTtcbiAgICB9O1xuICB9XG5cbiAgdmFyIGFsbEtleXMgPSBbXTtcbiAgdmFyIGNoYW5nZUxpc3RlbmVycyA9IFtdO1xuICB2YXIgbG9jYXRpb24gPSB1bmRlZmluZWQ7XG5cbiAgZnVuY3Rpb24gZ2V0Q3VycmVudCgpIHtcbiAgICBpZiAocGVuZGluZ0xvY2F0aW9uICYmIHBlbmRpbmdMb2NhdGlvbi5hY3Rpb24gPT09IF9BY3Rpb25zLlBPUCkge1xuICAgICAgcmV0dXJuIGFsbEtleXMuaW5kZXhPZihwZW5kaW5nTG9jYXRpb24ua2V5KTtcbiAgICB9IGVsc2UgaWYgKGxvY2F0aW9uKSB7XG4gICAgICByZXR1cm4gYWxsS2V5cy5pbmRleE9mKGxvY2F0aW9uLmtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVMb2NhdGlvbihuZXdMb2NhdGlvbikge1xuICAgIHZhciBjdXJyZW50ID0gZ2V0Q3VycmVudCgpO1xuXG4gICAgbG9jYXRpb24gPSBuZXdMb2NhdGlvbjtcblxuICAgIGlmIChsb2NhdGlvbi5hY3Rpb24gPT09IF9BY3Rpb25zLlBVU0gpIHtcbiAgICAgIGFsbEtleXMgPSBbXS5jb25jYXQoYWxsS2V5cy5zbGljZSgwLCBjdXJyZW50ICsgMSksIFtsb2NhdGlvbi5rZXldKTtcbiAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLmFjdGlvbiA9PT0gX0FjdGlvbnMuUkVQTEFDRSkge1xuICAgICAgYWxsS2V5c1tjdXJyZW50XSA9IGxvY2F0aW9uLmtleTtcbiAgICB9XG5cbiAgICBjaGFuZ2VMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgIGxpc3RlbmVyKGxvY2F0aW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgIGNoYW5nZUxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblxuICAgIGlmIChsb2NhdGlvbikge1xuICAgICAgbGlzdGVuZXIobG9jYXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX2xvY2F0aW9uID0gZ2V0Q3VycmVudExvY2F0aW9uKCk7XG4gICAgICBhbGxLZXlzID0gW19sb2NhdGlvbi5rZXldO1xuICAgICAgdXBkYXRlTG9jYXRpb24oX2xvY2F0aW9uKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgY2hhbmdlTGlzdGVuZXJzID0gY2hhbmdlTGlzdGVuZXJzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbSAhPT0gbGlzdGVuZXI7XG4gICAgICB9KTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgY2FsbGJhY2spIHtcbiAgICBfQXN5bmNVdGlscy5sb29wQXN5bmModHJhbnNpdGlvbkhvb2tzLmxlbmd0aCwgZnVuY3Rpb24gKGluZGV4LCBuZXh0LCBkb25lKSB7XG4gICAgICBfcnVuVHJhbnNpdGlvbkhvb2syWydkZWZhdWx0J10odHJhbnNpdGlvbkhvb2tzW2luZGV4XSwgbG9jYXRpb24sIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG4gICAgICAgICAgZG9uZShyZXN1bHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSwgZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgIGlmIChnZXRVc2VyQ29uZmlybWF0aW9uICYmIHR5cGVvZiBtZXNzYWdlID09PSAnc3RyaW5nJykge1xuICAgICAgICBnZXRVc2VyQ29uZmlybWF0aW9uKG1lc3NhZ2UsIGZ1bmN0aW9uIChvaykge1xuICAgICAgICAgIGNhbGxiYWNrKG9rICE9PSBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sobWVzc2FnZSAhPT0gZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdmFyIHBlbmRpbmdMb2NhdGlvbiA9IHVuZGVmaW5lZDtcblxuICBmdW5jdGlvbiB0cmFuc2l0aW9uVG8obmV4dExvY2F0aW9uKSB7XG4gICAgaWYgKGxvY2F0aW9uICYmIGxvY2F0aW9uc0FyZUVxdWFsKGxvY2F0aW9uLCBuZXh0TG9jYXRpb24pKSByZXR1cm47IC8vIE5vdGhpbmcgdG8gZG8uXG5cbiAgICBwZW5kaW5nTG9jYXRpb24gPSBuZXh0TG9jYXRpb247XG5cbiAgICBjb25maXJtVHJhbnNpdGlvblRvKG5leHRMb2NhdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAocGVuZGluZ0xvY2F0aW9uICE9PSBuZXh0TG9jYXRpb24pIHJldHVybjsgLy8gVHJhbnNpdGlvbiB3YXMgaW50ZXJydXB0ZWQuXG5cbiAgICAgIGlmIChvaykge1xuICAgICAgICAvLyB0cmVhdCBQVVNIIHRvIGN1cnJlbnQgcGF0aCBsaWtlIFJFUExBQ0UgdG8gYmUgY29uc2lzdGVudCB3aXRoIGJyb3dzZXJzXG4gICAgICAgIGlmIChuZXh0TG9jYXRpb24uYWN0aW9uID09PSBfQWN0aW9ucy5QVVNIKSB7XG4gICAgICAgICAgdmFyIHByZXZQYXRoID0gY3JlYXRlUGF0aChsb2NhdGlvbik7XG4gICAgICAgICAgdmFyIG5leHRQYXRoID0gY3JlYXRlUGF0aChuZXh0TG9jYXRpb24pO1xuXG4gICAgICAgICAgaWYgKG5leHRQYXRoID09PSBwcmV2UGF0aCkgbmV4dExvY2F0aW9uLmFjdGlvbiA9IF9BY3Rpb25zLlJFUExBQ0U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmluaXNoVHJhbnNpdGlvbihuZXh0TG9jYXRpb24pICE9PSBmYWxzZSkgdXBkYXRlTG9jYXRpb24obmV4dExvY2F0aW9uKTtcbiAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24gJiYgbmV4dExvY2F0aW9uLmFjdGlvbiA9PT0gX0FjdGlvbnMuUE9QKSB7XG4gICAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxLZXlzLmluZGV4T2YobG9jYXRpb24ua2V5KTtcbiAgICAgICAgdmFyIG5leHRJbmRleCA9IGFsbEtleXMuaW5kZXhPZihuZXh0TG9jYXRpb24ua2V5KTtcblxuICAgICAgICBpZiAocHJldkluZGV4ICE9PSAtMSAmJiBuZXh0SW5kZXggIT09IC0xKSBnbyhwcmV2SW5kZXggLSBuZXh0SW5kZXgpOyAvLyBSZXN0b3JlIHRoZSBVUkwuXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoKGxvY2F0aW9uKSB7XG4gICAgdHJhbnNpdGlvblRvKGNyZWF0ZUxvY2F0aW9uKGxvY2F0aW9uLCBfQWN0aW9ucy5QVVNILCBjcmVhdGVLZXkoKSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVwbGFjZShsb2NhdGlvbikge1xuICAgIHRyYW5zaXRpb25UbyhjcmVhdGVMb2NhdGlvbihsb2NhdGlvbiwgX0FjdGlvbnMuUkVQTEFDRSwgY3JlYXRlS2V5KCkpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvQmFjaygpIHtcbiAgICBnbygtMSk7XG4gIH1cblxuICBmdW5jdGlvbiBnb0ZvcndhcmQoKSB7XG4gICAgZ28oMSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVLZXkoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVJhbmRvbUtleShrZXlMZW5ndGgpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUGF0aChsb2NhdGlvbikge1xuICAgIGlmIChsb2NhdGlvbiA9PSBudWxsIHx8IHR5cGVvZiBsb2NhdGlvbiA9PT0gJ3N0cmluZycpIHJldHVybiBsb2NhdGlvbjtcblxuICAgIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lO1xuICAgIHZhciBzZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2g7XG4gICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoO1xuXG4gICAgdmFyIHJlc3VsdCA9IHBhdGhuYW1lO1xuXG4gICAgaWYgKHNlYXJjaCkgcmVzdWx0ICs9IHNlYXJjaDtcblxuICAgIGlmIChoYXNoKSByZXN1bHQgKz0gaGFzaDtcblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVIcmVmKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVBhdGgobG9jYXRpb24pO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlTG9jYXRpb24obG9jYXRpb24sIGFjdGlvbikge1xuICAgIHZhciBrZXkgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyBjcmVhdGVLZXkoKSA6IGFyZ3VtZW50c1syXTtcblxuICAgIGlmICh0eXBlb2YgYWN0aW9uID09PSAnb2JqZWN0Jykge1xuICAgICAgLy93YXJuaW5nKFxuICAgICAgLy8gIGZhbHNlLFxuICAgICAgLy8gICdUaGUgc3RhdGUgKDJuZCkgYXJndW1lbnQgdG8gaGlzdG9yeS5jcmVhdGVMb2NhdGlvbiBpcyBkZXByZWNhdGVkOyB1c2UgYSAnICtcbiAgICAgIC8vICAnbG9jYXRpb24gZGVzY3JpcHRvciBpbnN0ZWFkJ1xuICAgICAgLy8pXG5cbiAgICAgIGlmICh0eXBlb2YgbG9jYXRpb24gPT09ICdzdHJpbmcnKSBsb2NhdGlvbiA9IF9wYXJzZVBhdGgyWydkZWZhdWx0J10obG9jYXRpb24pO1xuXG4gICAgICBsb2NhdGlvbiA9IF9leHRlbmRzKHt9LCBsb2NhdGlvbiwgeyBzdGF0ZTogYWN0aW9uIH0pO1xuXG4gICAgICBhY3Rpb24gPSBrZXk7XG4gICAgICBrZXkgPSBhcmd1bWVudHNbM10gfHwgY3JlYXRlS2V5KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9jcmVhdGVMb2NhdGlvbjNbJ2RlZmF1bHQnXShsb2NhdGlvbiwgYWN0aW9uLCBrZXkpO1xuICB9XG5cbiAgLy8gZGVwcmVjYXRlZFxuICBmdW5jdGlvbiBzZXRTdGF0ZShzdGF0ZSkge1xuICAgIGlmIChsb2NhdGlvbikge1xuICAgICAgdXBkYXRlTG9jYXRpb25TdGF0ZShsb2NhdGlvbiwgc3RhdGUpO1xuICAgICAgdXBkYXRlTG9jYXRpb24obG9jYXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGVMb2NhdGlvblN0YXRlKGdldEN1cnJlbnRMb2NhdGlvbigpLCBzdGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTG9jYXRpb25TdGF0ZShsb2NhdGlvbiwgc3RhdGUpIHtcbiAgICBsb2NhdGlvbi5zdGF0ZSA9IF9leHRlbmRzKHt9LCBsb2NhdGlvbi5zdGF0ZSwgc3RhdGUpO1xuICAgIHNhdmVTdGF0ZShsb2NhdGlvbi5rZXksIGxvY2F0aW9uLnN0YXRlKTtcbiAgfVxuXG4gIC8vIGRlcHJlY2F0ZWRcbiAgZnVuY3Rpb24gcmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKSB7XG4gICAgaWYgKHRyYW5zaXRpb25Ib29rcy5pbmRleE9mKGhvb2spID09PSAtMSkgdHJhbnNpdGlvbkhvb2tzLnB1c2goaG9vayk7XG4gIH1cblxuICAvLyBkZXByZWNhdGVkXG4gIGZ1bmN0aW9uIHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKSB7XG4gICAgdHJhbnNpdGlvbkhvb2tzID0gdHJhbnNpdGlvbkhvb2tzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0gIT09IGhvb2s7XG4gICAgfSk7XG4gIH1cblxuICAvLyBkZXByZWNhdGVkXG4gIGZ1bmN0aW9uIHB1c2hTdGF0ZShzdGF0ZSwgcGF0aCkge1xuICAgIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHBhdGggPSBfcGFyc2VQYXRoMlsnZGVmYXVsdCddKHBhdGgpO1xuXG4gICAgcHVzaChfZXh0ZW5kcyh7IHN0YXRlOiBzdGF0ZSB9LCBwYXRoKSk7XG4gIH1cblxuICAvLyBkZXByZWNhdGVkXG4gIGZ1bmN0aW9uIHJlcGxhY2VTdGF0ZShzdGF0ZSwgcGF0aCkge1xuICAgIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHBhdGggPSBfcGFyc2VQYXRoMlsnZGVmYXVsdCddKHBhdGgpO1xuXG4gICAgcmVwbGFjZShfZXh0ZW5kcyh7IHN0YXRlOiBzdGF0ZSB9LCBwYXRoKSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGxpc3RlbkJlZm9yZTogbGlzdGVuQmVmb3JlLFxuICAgIGxpc3RlbjogbGlzdGVuLFxuICAgIHRyYW5zaXRpb25UbzogdHJhbnNpdGlvblRvLFxuICAgIHB1c2g6IHB1c2gsXG4gICAgcmVwbGFjZTogcmVwbGFjZSxcbiAgICBnbzogZ28sXG4gICAgZ29CYWNrOiBnb0JhY2ssXG4gICAgZ29Gb3J3YXJkOiBnb0ZvcndhcmQsXG4gICAgY3JlYXRlS2V5OiBjcmVhdGVLZXksXG4gICAgY3JlYXRlUGF0aDogY3JlYXRlUGF0aCxcbiAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLFxuICAgIGNyZWF0ZUxvY2F0aW9uOiBjcmVhdGVMb2NhdGlvbixcblxuICAgIHNldFN0YXRlOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHNldFN0YXRlLCAnc2V0U3RhdGUgaXMgZGVwcmVjYXRlZDsgdXNlIGxvY2F0aW9uLmtleSB0byBzYXZlIHN0YXRlIGluc3RlYWQnKSxcbiAgICByZWdpc3RlclRyYW5zaXRpb25Ib29rOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHJlZ2lzdGVyVHJhbnNpdGlvbkhvb2ssICdyZWdpc3RlclRyYW5zaXRpb25Ib29rIGlzIGRlcHJlY2F0ZWQ7IHVzZSBsaXN0ZW5CZWZvcmUgaW5zdGVhZCcpLFxuICAgIHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vazogX2RlcHJlY2F0ZTJbJ2RlZmF1bHQnXSh1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2ssICd1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2sgaXMgZGVwcmVjYXRlZDsgdXNlIHRoZSBjYWxsYmFjayByZXR1cm5lZCBmcm9tIGxpc3RlbkJlZm9yZSBpbnN0ZWFkJyksXG4gICAgcHVzaFN0YXRlOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHB1c2hTdGF0ZSwgJ3B1c2hTdGF0ZSBpcyBkZXByZWNhdGVkOyB1c2UgcHVzaCBpbnN0ZWFkJyksXG4gICAgcmVwbGFjZVN0YXRlOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHJlcGxhY2VTdGF0ZSwgJ3JlcGxhY2VTdGF0ZSBpcyBkZXByZWNhdGVkOyB1c2UgcmVwbGFjZSBpbnN0ZWFkJylcbiAgfTtcbn1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gY3JlYXRlSGlzdG9yeTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIi8vaW1wb3J0IHdhcm5pbmcgZnJvbSAnd2FybmluZydcbid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX0FjdGlvbnMgPSByZXF1aXJlKCcuL0FjdGlvbnMnKTtcblxudmFyIF9wYXJzZVBhdGggPSByZXF1aXJlKCcuL3BhcnNlUGF0aCcpO1xuXG52YXIgX3BhcnNlUGF0aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wYXJzZVBhdGgpO1xuXG5mdW5jdGlvbiBjcmVhdGVMb2NhdGlvbigpIHtcbiAgdmFyIGxvY2F0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gJy8nIDogYXJndW1lbnRzWzBdO1xuICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gX0FjdGlvbnMuUE9QIDogYXJndW1lbnRzWzFdO1xuICB2YXIga2V5ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1syXTtcblxuICB2YXIgX2ZvdXJ0aEFyZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMyB8fCBhcmd1bWVudHNbM10gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbM107XG5cbiAgaWYgKHR5cGVvZiBsb2NhdGlvbiA9PT0gJ3N0cmluZycpIGxvY2F0aW9uID0gX3BhcnNlUGF0aDJbJ2RlZmF1bHQnXShsb2NhdGlvbik7XG5cbiAgaWYgKHR5cGVvZiBhY3Rpb24gPT09ICdvYmplY3QnKSB7XG4gICAgLy93YXJuaW5nKFxuICAgIC8vICBmYWxzZSxcbiAgICAvLyAgJ1RoZSBzdGF0ZSAoMm5kKSBhcmd1bWVudCB0byBjcmVhdGVMb2NhdGlvbiBpcyBkZXByZWNhdGVkOyB1c2UgYSAnICtcbiAgICAvLyAgJ2xvY2F0aW9uIGRlc2NyaXB0b3IgaW5zdGVhZCdcbiAgICAvLylcblxuICAgIGxvY2F0aW9uID0gX2V4dGVuZHMoe30sIGxvY2F0aW9uLCB7IHN0YXRlOiBhY3Rpb24gfSk7XG5cbiAgICBhY3Rpb24gPSBrZXkgfHwgX0FjdGlvbnMuUE9QO1xuICAgIGtleSA9IF9mb3VydGhBcmc7XG4gIH1cblxuICB2YXIgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZSB8fCAnLyc7XG4gIHZhciBzZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2ggfHwgJyc7XG4gIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaCB8fCAnJztcbiAgdmFyIHN0YXRlID0gbG9jYXRpb24uc3RhdGUgfHwgbnVsbDtcblxuICByZXR1cm4ge1xuICAgIHBhdGhuYW1lOiBwYXRobmFtZSxcbiAgICBzZWFyY2g6IHNlYXJjaCxcbiAgICBoYXNoOiBoYXNoLFxuICAgIHN0YXRlOiBzdGF0ZSxcbiAgICBhY3Rpb246IGFjdGlvbixcbiAgICBrZXk6IGtleVxuICB9O1xufVxuXG5leHBvcnRzWydkZWZhdWx0J10gPSBjcmVhdGVMb2NhdGlvbjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIi8vaW1wb3J0IHdhcm5pbmcgZnJvbSAnd2FybmluZydcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5mdW5jdGlvbiBkZXByZWNhdGUoZm4pIHtcbiAgcmV0dXJuIGZuO1xuICAvL3JldHVybiBmdW5jdGlvbiAoKSB7XG4gIC8vICB3YXJuaW5nKGZhbHNlLCAnW2hpc3RvcnldICcgKyBtZXNzYWdlKVxuICAvLyAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgLy99XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZGVwcmVjYXRlO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmZ1bmN0aW9uIGV4dHJhY3RQYXRoKHN0cmluZykge1xuICB2YXIgbWF0Y2ggPSBzdHJpbmcubWF0Y2goL15odHRwcz86XFwvXFwvW15cXC9dKi8pO1xuXG4gIGlmIChtYXRjaCA9PSBudWxsKSByZXR1cm4gc3RyaW5nO1xuXG4gIHJldHVybiBzdHJpbmcuc3Vic3RyaW5nKG1hdGNoWzBdLmxlbmd0aCk7XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZXh0cmFjdFBhdGg7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCd3YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxudmFyIF9leHRyYWN0UGF0aCA9IHJlcXVpcmUoJy4vZXh0cmFjdFBhdGgnKTtcblxudmFyIF9leHRyYWN0UGF0aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRyYWN0UGF0aCk7XG5cbmZ1bmN0aW9uIHBhcnNlUGF0aChwYXRoKSB7XG4gIHZhciBwYXRobmFtZSA9IF9leHRyYWN0UGF0aDJbJ2RlZmF1bHQnXShwYXRoKTtcbiAgdmFyIHNlYXJjaCA9ICcnO1xuICB2YXIgaGFzaCA9ICcnO1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShwYXRoID09PSBwYXRobmFtZSwgJ0EgcGF0aCBtdXN0IGJlIHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaCBvbmx5LCBub3QgYSBmdWxseSBxdWFsaWZpZWQgVVJMIGxpa2UgXCIlc1wiJywgcGF0aCkgOiB1bmRlZmluZWQ7XG5cbiAgdmFyIGhhc2hJbmRleCA9IHBhdGhuYW1lLmluZGV4T2YoJyMnKTtcbiAgaWYgKGhhc2hJbmRleCAhPT0gLTEpIHtcbiAgICBoYXNoID0gcGF0aG5hbWUuc3Vic3RyaW5nKGhhc2hJbmRleCk7XG4gICAgcGF0aG5hbWUgPSBwYXRobmFtZS5zdWJzdHJpbmcoMCwgaGFzaEluZGV4KTtcbiAgfVxuXG4gIHZhciBzZWFyY2hJbmRleCA9IHBhdGhuYW1lLmluZGV4T2YoJz8nKTtcbiAgaWYgKHNlYXJjaEluZGV4ICE9PSAtMSkge1xuICAgIHNlYXJjaCA9IHBhdGhuYW1lLnN1YnN0cmluZyhzZWFyY2hJbmRleCk7XG4gICAgcGF0aG5hbWUgPSBwYXRobmFtZS5zdWJzdHJpbmcoMCwgc2VhcmNoSW5kZXgpO1xuICB9XG5cbiAgaWYgKHBhdGhuYW1lID09PSAnJykgcGF0aG5hbWUgPSAnLyc7XG5cbiAgcmV0dXJuIHtcbiAgICBwYXRobmFtZTogcGF0aG5hbWUsXG4gICAgc2VhcmNoOiBzZWFyY2gsXG4gICAgaGFzaDogaGFzaFxuICB9O1xufVxuXG5leHBvcnRzWydkZWZhdWx0J10gPSBwYXJzZVBhdGg7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbmZ1bmN0aW9uIHJ1blRyYW5zaXRpb25Ib29rKGhvb2ssIGxvY2F0aW9uLCBjYWxsYmFjaykge1xuICB2YXIgcmVzdWx0ID0gaG9vayhsb2NhdGlvbiwgY2FsbGJhY2spO1xuXG4gIGlmIChob29rLmxlbmd0aCA8IDIpIHtcbiAgICAvLyBBc3N1bWUgdGhlIGhvb2sgcnVucyBzeW5jaHJvbm91c2x5IGFuZCBhdXRvbWF0aWNhbGx5XG4gICAgLy8gY2FsbCB0aGUgY2FsbGJhY2sgd2l0aCB0aGUgcmV0dXJuIHZhbHVlLlxuICAgIGNhbGxiYWNrKHJlc3VsdCk7XG4gIH0gZWxzZSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKHJlc3VsdCA9PT0gdW5kZWZpbmVkLCAnWW91IHNob3VsZCBub3QgXCJyZXR1cm5cIiBpbiBhIHRyYW5zaXRpb24gaG9vayB3aXRoIGEgY2FsbGJhY2sgYXJndW1lbnQ7IGNhbGwgdGhlIGNhbGxiYWNrIGluc3RlYWQnKSA6IHVuZGVmaW5lZDtcbiAgfVxufVxuXG5leHBvcnRzWydkZWZhdWx0J10gPSBydW5UcmFuc2l0aW9uSG9vaztcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxudmFyIGludmFyaWFudCA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgK1xuICAgICAgICAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJnc1thcmdJbmRleCsrXTsgfSlcbiAgICAgICk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGlzUHJvbWlzZTtcblxuZnVuY3Rpb24gaXNQcm9taXNlKG9iaikge1xuICByZXR1cm4gISFvYmogJiYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnIHx8IHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpICYmIHR5cGVvZiBvYmoudGhlbiA9PT0gJ2Z1bmN0aW9uJztcbn1cbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gdHJhbnNtaXR0ZXIoKSB7XG4gIHZhciBzdWJzY3JpcHRpb25zID0gW107XG4gIHZhciBub3dEaXNwYXRjaGluZyA9IGZhbHNlO1xuICB2YXIgdG9VbnN1YnNjcmliZSA9IHt9O1xuXG4gIHZhciB1bnN1YnNjcmliZSA9IGZ1bmN0aW9uIHVuc3Vic2NyaWJlKG9uQ2hhbmdlKSB7XG4gICAgdmFyIGlkID0gc3Vic2NyaXB0aW9ucy5pbmRleE9mKG9uQ2hhbmdlKTtcbiAgICBpZiAoaWQgPCAwKSByZXR1cm47XG4gICAgaWYgKG5vd0Rpc3BhdGNoaW5nKSB7XG4gICAgICB0b1Vuc3Vic2NyaWJlW2lkXSA9IG9uQ2hhbmdlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzdWJzY3JpcHRpb25zLnNwbGljZShpZCwgMSk7XG4gIH07XG5cbiAgdmFyIHN1YnNjcmliZSA9IGZ1bmN0aW9uIHN1YnNjcmliZShvbkNoYW5nZSkge1xuICAgIHZhciBpZCA9IHN1YnNjcmlwdGlvbnMucHVzaChvbkNoYW5nZSk7XG4gICAgdmFyIGRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgcmV0dXJuIHVuc3Vic2NyaWJlKG9uQ2hhbmdlKTtcbiAgICB9O1xuICAgIHJldHVybiB7IGRpc3Bvc2U6IGRpc3Bvc2UgfTtcbiAgfTtcblxuICB2YXIgcHVibGlzaCA9IGZ1bmN0aW9uIHB1Ymxpc2goKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgbm93RGlzcGF0Y2hpbmcgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICBzdWJzY3JpcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKHN1YnNjcmlwdGlvbiwgaWQpIHtcbiAgICAgICAgcmV0dXJuIHRvVW5zdWJzY3JpYmVbaWRdIHx8IHN1YnNjcmlwdGlvbi5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIG5vd0Rpc3BhdGNoaW5nID0gZmFsc2U7XG4gICAgICBPYmplY3Qua2V5cyh0b1Vuc3Vic2NyaWJlKS5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gdW5zdWJzY3JpYmUodG9VbnN1YnNjcmliZVtpZF0pO1xuICAgICAgfSk7XG4gICAgICB0b1Vuc3Vic2NyaWJlID0ge307XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgcHVibGlzaDogcHVibGlzaCxcbiAgICBzdWJzY3JpYmU6IHN1YnNjcmliZSxcbiAgICAkc3Vic2NyaXB0aW9uczogc3Vic2NyaXB0aW9uc1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRyYW5zbWl0dGVyOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG4gKi9cblxudmFyIHdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB3YXJuaW5nID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGFyZ3MpIHtcbiAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiA+IDIgPyBsZW4gLSAyIDogMCk7XG4gICAgZm9yICh2YXIga2V5ID0gMjsga2V5IDwgbGVuOyBrZXkrKykge1xuICAgICAgYXJnc1trZXkgLSAyXSA9IGFyZ3VtZW50c1trZXldO1xuICAgIH1cbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgK1xuICAgICAgICAnbWVzc2FnZSBhcmd1bWVudCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGZvcm1hdC5sZW5ndGggPCAxMCB8fCAoL15bc1xcV10qJC8pLnRlc3QoZm9ybWF0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIHdhcm5pbmcgZm9ybWF0IHNob3VsZCBiZSBhYmxlIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgJyArXG4gICAgICAgICd3YXJuaW5nLiBQbGVhc2UsIHVzZSBhIG1vcmUgZGVzY3JpcHRpdmUgZm9ybWF0IHRoYW46ICcgKyBmb3JtYXRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICtcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgICB9KTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgfSBjYXRjaCh4KSB7fVxuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xuIiwiaW1wb3J0IGFsdCBmcm9tICcuLi9hbHQnXHJcblxyXG5jbGFzcyBGb3JtQWN0aW9ucyB7XHJcbiAgY29uc3RydWN0b3IgKCkge1xyXG4gICAgdGhpcy5nZW5lcmF0ZUFjdGlvbnMoXHJcbiAgICAgICdoYW5kbGVVc2VybmFtZUNoYW5nZScsXHJcbiAgICAgICdoYW5kbGVQYXNzd29yZENoYW5nZScsXHJcbiAgICAgICdoYW5kbGVDb25maXJtZWRQYXNzd29yZENoYW5nZScsXHJcbiAgICAgICdoYW5kbGVGaXJzdE5hbWVDaGFuZ2UnLFxyXG4gICAgICAnaGFuZGxlTGFzdE5hbWVDaGFuZ2UnLFxyXG4gICAgICAnaGFuZGxlQWdlQ2hhbmdlJyxcclxuICAgICAgJ2hhbmRsZUdlbmRlckNoYW5nZScsXHJcbiAgICAgICd1c2VybmFtZVZhbGlkYXRpb25GYWlsJyxcclxuICAgICAgJ3Bhc3N3b3JkVmFsaWRhdGlvbkZhaWwnLFxyXG4gICAgICAndW5hdXRob3JpemVkQWNjZXNzQXR0ZW1wdCcsXHJcbiAgICAgICdoYW5kbGVDb21tZW50Q2hhbmdlJyxcclxuICAgICAgJ2NvbW1lbnRWYWxpZGF0aW9uRmFpbCcsXHJcbiAgICAgICdoYW5kbGVTY29yZUNoYW5nZScsXHJcbiAgICAgICdzY29yZVZhbGlkYXRpb25GYWlsJyxcclxuICAgIClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFsdC5jcmVhdGVBY3Rpb25zKEZvcm1BY3Rpb25zKVxyXG4iLCJpbXBvcnQgYWx0IGZyb20gJy4uL2FsdCdcclxuaW1wb3J0IFRNREIgZnJvbSAnLi4vdXRpbGl0aWVzL1JlcXVlc3RlclRNREInXHJcblxyXG5jbGFzcyBNb3ZpZUFjdGlvbnMge1xyXG4gIGNvbnN0cnVjdG9yICgpIHtcclxuICAgIHRoaXMuZ2VuZXJhdGVBY3Rpb25zKFxyXG4gICAgICAnZ2V0VG9wVGVuTW92aWVzU3VjY2VzcycsXHJcbiAgICAgICdnZXRUb3BUZW5Nb3ZpZXNGYWlsJyxcclxuICAgICAgJ2dldEZpdmVSZWNlbnRNb3ZpZXNTdWNjZXNzJyxcclxuICAgICAgJ2dldEZpdmVSZWNlbnRNb3ZpZXNGYWlsJyxcclxuICAgICAgJ2VtcHR5VG9wVGVuTW92aWVzJyxcclxuICAgICAgJ2FkZE1vdmllVG9Ub3BUZW4nLFxyXG4gICAgICAnYWRkQ29tbWVudFN1Y2Nlc3MnLFxyXG4gICAgICAnYWRkQ29tbWVudEZhaWwnLFxyXG4gICAgICAnYWRkVm90ZVN1Y2Nlc3MnLFxyXG4gICAgICAnYWRkVm90ZUZhaWwnLFxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgZ2V0Rml2ZVJlY2VudE1vdmllcyAoKSB7XHJcbiAgICBsZXQgcmVxdWVzdCA9IHtcclxuICAgICAgbWV0aG9kOiAnZ2V0JyxcclxuICAgICAgdXJsOiAnL2FwaS9tb3ZpZXMvZml2ZS1yZWNlbnQnLFxyXG4gICAgfVxyXG4gICAgJC5hamF4KHJlcXVlc3QpLmRvbmUoZGF0YSA9PiB0aGlzLmdldEZpdmVSZWNlbnRNb3ZpZXNTdWNjZXNzKGRhdGEpKVxyXG5cclxuICAgIHJldHVybiB0cnVlXHJcbiAgfVxyXG5cclxuICBnZXRUb3BUZW5Nb3ZpZXMgKCkge1xyXG4gICAgbGV0IHJlcXVlc3QgPSB7XHJcbiAgICAgIHVybDogJy9hcGkvbW92aWVzL3RvcC10ZW4nLFxyXG4gICAgICBtZXRob2Q6ICdnZXQnLFxyXG4gICAgfVxyXG5cclxuICAgICQuYWpheChyZXF1ZXN0KS5kb25lKHBheWxvYWQgPT4ge1xyXG4gICAgICB0aGlzLmVtcHR5VG9wVGVuTW92aWVzKClcclxuICAgICAgZm9yIChsZXQgbW92aWUgb2YgcGF5bG9hZCkge1xyXG4gICAgICAgIGxldCBtb3ZpZURhdGEgPSB7XHJcbiAgICAgICAgICBfaWQ6IG1vdmllLl9pZCxcclxuICAgICAgICAgIG5hbWU6IG1vdmllLm5hbWUsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogbW92aWUuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICBnZW5yZXM6IG1vdmllLmdlbnJlcyxcclxuICAgICAgICAgIHZvdGVzOiBtb3ZpZS52b3RlcyxcclxuICAgICAgICAgIHNjb3JlOiBtb3ZpZS5zY29yZSxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFRNREIuZ2V0TW92aWVQb3N0ZXIobW92aWUubmFtZSkudGhlbih0bWRiUmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgbW92aWVEYXRhLm1vdmllUG9zdGVyVXJsID0gdG1kYlJlc3BvbnNlLnBvc3RlclVybFxyXG5cclxuICAgICAgICAgIGdldENvbW1lbnRzKG1vdmllLl9pZCkudGhlbihjb21tZW50cyA9PiB7XHJcbiAgICAgICAgICAgIG1vdmllRGF0YS5jb21tZW50cyA9IGNvbW1lbnRzXHJcblxyXG4gICAgICAgICAgICBnZXRMb2dnZWRJblVzZXJWb3RlKG1vdmllLl9pZCkudGhlbih2b3RlID0+IHtcclxuICAgICAgICAgICAgICBtb3ZpZURhdGEubG9nZ2VkSW5Vc2VyU2NvcmUgPSB2b3RlLnZvdGVTY29yZVxyXG5cclxuICAgICAgICAgICAgICB0aGlzLmFkZE1vdmllVG9Ub3BUZW4obW92aWVEYXRhKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9KS5mYWlsKGVyciA9PiB0aGlzLmdldFRvcFRlbk1vdmllc0ZhaWwoZXJyKSlcclxuXHJcbiAgICByZXR1cm4gdHJ1ZVxyXG4gIH1cclxuXHJcbiAgYWRkQ29tbWVudCAobW92aWVJZCwgY29tbWVudCkge1xyXG4gICAgbGV0IHJlcXVlc3QgPSB7XHJcbiAgICAgIHVybDogYC9hcGkvbW92aWVzLyR7bW92aWVJZH0vY29tbWVudHNgLFxyXG4gICAgICBtZXRob2Q6ICdwb3N0JyxcclxuICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe2NvbnRlbnQ6IGNvbW1lbnR9KSxcclxuICAgIH1cclxuXHJcbiAgICAkLmFqYXgocmVxdWVzdCkuZG9uZShkYXRhID0+IHtcclxuICAgICAgdGhpcy5hZGRDb21tZW50U3VjY2VzcyhkYXRhKVxyXG4gICAgfSkuZmFpbChlcnIgPT4ge1xyXG4gICAgICB0aGlzLmFkZENvbW1lbnRGYWlsKGVyci5yZXNwb25zZUpTT04pXHJcbiAgICB9KVxyXG5cclxuICAgIHJldHVybiB0cnVlXHJcbiAgfVxyXG5cclxuICBhZGRWb3RlIChtb3ZpZUlkLCBzY29yZSkge1xyXG4gICAgbGV0IHJlcXVlc3QgPSB7XHJcbiAgICAgIHVybDogYC9hcGkvbW92aWVzLyR7bW92aWVJZH0vdm90ZWAsXHJcbiAgICAgIG1ldGhvZDogJ3Bvc3QnLFxyXG4gICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7c2NvcmV9KSxcclxuICAgIH1cclxuXHJcbiAgICAkLmFqYXgocmVxdWVzdCkudGhlbihkYXRhID0+IHtcclxuICAgICAgZGF0YS5tb3ZpZUlkID0gbW92aWVJZCxcclxuICAgICAgICB0aGlzLmFkZFZvdGVTdWNjZXNzKGRhdGEpXHJcbiAgICB9KS5mYWlsKGVyciA9PiB0aGlzLmFkZFZvdGVGYWlsKGVyci5yZXNwb25zZUpTT04pKVxyXG5cclxuICAgIHJldHVybiB0cnVlXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhbHQuY3JlYXRlQWN0aW9ucyhNb3ZpZUFjdGlvbnMpXHJcblxyXG5mdW5jdGlvbiBnZXRDb21tZW50cyAobW92aWVJZCkge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICBsZXQgcmVxdWVzdCA9IHtcclxuICAgICAgdXJsOiBgL2FwaS9tb3ZpZXMvJHttb3ZpZUlkfS9jb21tZW50c2AsXHJcbiAgICAgIG1ldGhvZDogJ2dldCcsXHJcbiAgICB9XHJcblxyXG4gICAgJC5hamF4KHJlcXVlc3QpLmRvbmUoZGF0YSA9PiByZXNvbHZlKGRhdGEpKS5mYWlsKGVyciA9PiByZWplY3QoZXJyKSlcclxuICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRMb2dnZWRJblVzZXJWb3RlIChtb3ZpZUlkLCB1c2VySWQpIHtcclxuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICBsZXQgcmVxdWVzdCA9IHtcclxuICAgICAgbWV0aG9kOiAnZ2V0JyxcclxuICAgIH1cclxuXHJcbiAgICBpZiAodXNlcklkKSB7XHJcbiAgICAgIHJlcXVlc3QudXJsID0gYC9hcGkvbW92aWVzLyR7bW92aWVJZH0vdm90ZT91c2VySWQ9JHt1c2VySWR9YFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVxdWVzdC51cmwgPSBgL2FwaS9tb3ZpZXMvJHttb3ZpZUlkfS92b3RlP3VzZXI9bG9nZ2VkSW5Vc2VyYFxyXG4gICAgfVxyXG5cclxuICAgICQuYWpheChyZXF1ZXN0KS5kb25lKGRhdGEgPT4gcmVzb2x2ZShkYXRhKSlcclxuICB9KVxyXG59XHJcbiIsImltcG9ydCBhbHQgZnJvbSAnLi4vYWx0J1xyXG5cclxuY2xhc3MgTW92aWVBZGRBY3Rpb25zIHtcclxuICBjb25zdHJ1Y3RvciAoKSB7XHJcbiAgICB0aGlzLmdlbmVyYXRlQWN0aW9ucyhcclxuICAgICAgJ2hhbmRsZU5hbWVDaGFuZ2UnLFxyXG4gICAgICAnaGFuZGxlRGVzY3JpcHRpb25DaGFuZ2UnLFxyXG4gICAgICAnaGFuZGxlR2VucmVzQ2hhbmdlJyxcclxuICAgICAgJ25hbWVWYWxpZGF0aW9uRmFpbCcsXHJcbiAgICAgICdnZW5yZXNWYWxpZGF0aW9uRmFpbCcsXHJcbiAgICAgICdhZGRNb3ZpZVN1Y2Nlc3MnLFxyXG4gICAgICAnYWRkTW92aWVGYWlsJyxcclxuICAgIClcclxuICB9XHJcblxyXG4gIGFkZE1vdmllIChkYXRhKSB7XHJcbiAgICBsZXQgcmVxdWVzdCA9IHtcclxuICAgICAgdXJsOiAnL2FwaS9tb3ZpZXMvYWRkJyxcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgfVxyXG4gICAgJC5hamF4KHJlcXVlc3QpLlxyXG4gICAgICBkb25lKCgpID0+IHRoaXMuYWRkTW92aWVTdWNjZXNzKCkpLlxyXG4gICAgICBmYWlsKChlcnIpID0+IHRoaXMuYWRkTW92aWVGYWlsKGVycikpXHJcblxyXG4gICAgcmV0dXJuIHRydWVcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFsdC5jcmVhdGVBY3Rpb25zKE1vdmllQWRkQWN0aW9ucykiLCJpbXBvcnQgYWx0IGZyb20gJy4uL2FsdCdcclxuXHJcbmNsYXNzIE5hdmJhckFjdGlvbnMge1xyXG4gIGNvbnN0cnVjdG9yICgpIHtcclxuICAgIHRoaXMuZ2VuZXJhdGVBY3Rpb25zKFxyXG4gICAgICAndXBkYXRlQWpheEFuaW1hdGlvbicsXHJcbiAgICApXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhbHQuY3JlYXRlQWN0aW9ucyhOYXZiYXJBY3Rpb25zKSIsImltcG9ydCBhbHQgZnJvbSAnLi4vYWx0J1xyXG5cclxuY2xhc3MgVXNlckFjdGlvbnMge1xyXG4gIGNvbnN0cnVjdG9yICgpIHtcclxuICAgIHRoaXMuZ2VuZXJhdGVBY3Rpb25zKFxyXG4gICAgICAncmVnaXN0ZXJVc2VyU3VjY2VzcycsXHJcbiAgICAgICdyZWdpc3RlclVzZXJGYWlsJyxcclxuICAgICAgJ2xvZ2luVXNlclN1Y2Nlc3MnLFxyXG4gICAgICAnbG9naW5Vc2VyRmFpbCcsXHJcbiAgICAgICdsb2dvdXRVc2VyU3VjY2VzcycsXHJcbiAgICApXHJcbiAgfVxyXG5cclxuICByZWdpc3RlclVzZXIgKGRhdGEpIHtcclxuICAgIGxldCByZXF1ZXN0ID0ge1xyXG4gICAgICB1cmw6ICcvdXNlci9yZWdpc3RlcicsXHJcbiAgICAgIG1ldGhvZDogJ3Bvc3QnLFxyXG4gICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgIH1cclxuICAgICQuYWpheChyZXF1ZXN0KS5kb25lKCgpID0+IHRoaXMucmVnaXN0ZXJVc2VyU3VjY2VzcygpKS5mYWlsKGVyciA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicsIGVycilcclxuICAgICAgdGhpcy5yZWdpc3RlclVzZXJGYWlsKGVyci5yZXNwb25zZUpTT04ubWVzc2FnZSlcclxuICAgIH0pXHJcblxyXG4gICAgcmV0dXJuIHRydWVcclxuICB9XHJcblxyXG4gIGxvZ2luVXNlciAoZGF0YSkge1xyXG4gICAgbGV0IHJlcXVlc3QgPSB7XHJcbiAgICAgIHVybDogJy91c2VyL2xvZ2luJyxcclxuICAgICAgbWV0aG9kOiAncG9zdCcsXHJcbiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgfVxyXG4gICAgJC5hamF4KHJlcXVlc3QpLlxyXG4gICAgICBkb25lKGRhdGEgPT4gdGhpcy5sb2dpblVzZXJTdWNjZXNzKGRhdGEpKS5cclxuICAgICAgZmFpbChlcnIgPT4gdGhpcy5sb2dpblVzZXJGYWlsKGVyci5yZXNwb25zZUpTT04pKVxyXG5cclxuICAgIHJldHVybiB0cnVlXHJcbiAgfVxyXG5cclxuICBsb2dvdXRVc2VyICgpIHtcclxuICAgIGxldCByZXF1ZXN0ID0ge1xyXG4gICAgICB1cmw6ICcvdXNlci9sb2dvdXQnLFxyXG4gICAgICBtZXRob2Q6ICdwb3N0JyxcclxuICAgIH1cclxuICAgICQuYWpheChyZXF1ZXN0KS5kb25lKCgpID0+IHRoaXMubG9nb3V0VXNlclN1Y2Nlc3MoKSlcclxuXHJcbiAgICByZXR1cm4gdHJ1ZVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYWx0LmNyZWF0ZUFjdGlvbnMoVXNlckFjdGlvbnMpIiwiaW1wb3J0IEFsdCBmcm9tICdhbHQnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgQWx0KCkiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcblxyXG5pbXBvcnQgVXNlckFjdGlvbnMgZnJvbSAnLi4vYWN0aW9ucy9Vc2VyQWN0aW9ucydcclxuaW1wb3J0IFVzZXJTdG9yZSBmcm9tICcuLi9zdG9yZXMvVXNlclN0b3JlJ1xyXG5cclxuaW1wb3J0IEZvb3RlciBmcm9tICcuL0Zvb3RlcidcclxuaW1wb3J0IE5hdmJhciBmcm9tICcuL05hdmJhcidcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0gVXNlclN0b3JlLmdldFN0YXRlKClcclxuXHJcbiAgICB0aGlzLm9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpXHJcbiAgfVxyXG5cclxuICBvbkNoYW5nZSAoc3RhdGUpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBVc2VyU3RvcmUubGlzdGVuKHRoaXMub25DaGFuZ2UpXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICBVc2VyU3RvcmUudW5saXN0ZW4odGhpcy5vbkNoYW5nZSlcclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIDxOYXZiYXIgLz5cclxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cclxuICAgICAgICA8Rm9vdGVyIC8+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcidcclxuXHJcbmltcG9ydCBNb3ZpZUFjdGlvbnMgZnJvbSAnLi4vYWN0aW9ucy9Nb3ZpZUFjdGlvbnMnXHJcbmltcG9ydCBNb3ZpZVN0b3JlIGZyb20gJy4uL3N0b3Jlcy9Nb3ZpZVN0b3JlJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9vdGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSBNb3ZpZVN0b3JlLmdldFN0YXRlKClcclxuXHJcbiAgICB0aGlzLm9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpXHJcbiAgfVxyXG5cclxuICBvbkNoYW5nZSAoc3RhdGUpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBNb3ZpZVN0b3JlLmxpc3Rlbih0aGlzLm9uQ2hhbmdlKVxyXG5cclxuICAgIE1vdmllQWN0aW9ucy5nZXRGaXZlUmVjZW50TW92aWVzKClcclxuICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiBNb3ZpZUFjdGlvbnMuZ2V0Rml2ZVJlY2VudE1vdmllcygpLFxyXG4gICAgICAzMDAwMClcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIE1vdmllU3RvcmUudW5saXN0ZW4odGhpcy5vbkNoYW5nZSlcclxuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbClcclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICBsZXQgbW9zdFJlY2VudE1vdmllcyA9IHRoaXMuc3RhdGUubW9zdFJlY2VudE1vdmllcy5tYXAobW92aWUgPT4ge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxsaSBrZXk9e21vdmllLl9pZH0+XHJcbiAgICAgICAgICA8TGluayB0bz17YC8uLi5gfT57bW92aWUubmFtZX08L0xpbms+XHJcbiAgICAgICAgPC9saT5cclxuICAgICAgKVxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8Zm9vdGVyPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb250YWluZXInPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3Jvdyc+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb2wtc20tNSc+XHJcbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT0nbGVhZCc+XHJcbiAgICAgICAgICAgICAgICA8c3Ryb25nPkluZm9ybWF0aW9uPC9zdHJvbmc+IGFuZFxyXG4gICAgICAgICAgICAgICAgPHN0cm9uZz4gQ29weXJpZ2h0PC9zdHJvbmc+XHJcbiAgICAgICAgICAgICAgPC9oMz5cclxuICAgICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgIFBvd2VyZWQgYnlcclxuICAgICAgICAgICAgICAgIDxzdHJvbmc+IEV4cHJlc3M8L3N0cm9uZz4sXHJcbiAgICAgICAgICAgICAgICA8c3Ryb25nPiBNb25nb0RCPC9zdHJvbmc+IGFuZFxyXG4gICAgICAgICAgICAgICAgPHN0cm9uZz4gUmVhY3Q8L3N0cm9uZz5cclxuICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgPHA+wqkgMjAxNyBTb2Z0VW5pLjwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb2wtc20tNCBoaWRkZW4teHMnPlxyXG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9J2xlYWQnPlxyXG4gICAgICAgICAgICAgICAgPHN0cm9uZz5OZXdlc3Q8L3N0cm9uZz4gNSBNb3ZpZXNcclxuICAgICAgICAgICAgICA8L2gzPlxyXG4gICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9J2xpc3QtaW5saW5lJz5cclxuICAgICAgICAgICAgICAgIHttb3N0UmVjZW50TW92aWVzfVxyXG4gICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0zXCI+XHJcbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImxlYWRcIj5BdXRob3I8L2gzPlxyXG4gICAgICAgICAgICAgIDxhIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vYWNob2Jhbm92XCI+XHJcbiAgICAgICAgICAgICAgICA8c3Ryb25nPiBBbGV4IENob2Jhbm92PC9zdHJvbmc+XHJcbiAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Zvb3Rlcj5cclxuICAgIClcclxuICB9XHJcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcblxyXG5pbXBvcnQgTW92aWVBY3Rpb25zIGZyb20gJy4uL2FjdGlvbnMvTW92aWVBY3Rpb25zJ1xyXG5pbXBvcnQgTW92aWVTdG9yZSBmcm9tICcuLi9zdG9yZXMvTW92aWVTdG9yZSdcclxuXHJcbmltcG9ydCBNb3ZpZUNhcmQgZnJvbSAnLi9zdWItY29tcG9uZW50cy9Nb3ZpZUNhcmQnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIb21lIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSBNb3ZpZVN0b3JlLmdldFN0YXRlKClcclxuXHJcbiAgICB0aGlzLm9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpXHJcbiAgfVxyXG5cclxuICBvbkNoYW5nZSAoc3RhdGUpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBNb3ZpZVN0b3JlLmxpc3Rlbih0aGlzLm9uQ2hhbmdlKVxyXG5cclxuICAgIE1vdmllQWN0aW9ucy5nZXRUb3BUZW5Nb3ZpZXMoKVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgTW92aWVTdG9yZS51bmxpc3Rlbih0aGlzLm9uQ2hhbmdlKVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGxldCBtb3ZpZXMgPSB0aGlzLnN0YXRlLnRvcFRlbk1vdmllcy5tYXAoKG1vdmllLCBpbmRleCkgPT4ge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxNb3ZpZUNhcmQga2V5PXsgbW92aWUuX2lkIH1cclxuICAgICAgICAgICAgICAgICAgIG1vdmllPXsgbW92aWUgfVxyXG4gICAgICAgICAgICAgICAgICAgaW5kZXg9eyBpbmRleCB9Lz5cclxuICAgICAgKVxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nY29udGFpbmVyJz5cclxuICAgICAgICA8aDMgY2xhc3NOYW1lPSd0ZXh0LWNlbnRlcic+V2VsY29tZSB0b1xyXG4gICAgICAgICAgPHN0cm9uZz4gTW92aWUgRGF0YWJhc2U8L3N0cm9uZz5cclxuICAgICAgICA8L2gzPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxyXG4gICAgICAgICAgeyBtb3ZpZXMgfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuXHJcbmltcG9ydCBNb3ZpZUFkZEFjdGlvbnMgZnJvbSAnLi4vYWN0aW9ucy9Nb3ZpZUFkZEFjdGlvbnMnO1xyXG5pbXBvcnQgTW92aWVBZGRTdG9yZSBmcm9tICcuLi9zdG9yZXMvTW92aWVBZGRTdG9yZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBZGRNb3ZpZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IE1vdmllQWRkU3RvcmUuZ2V0U3RhdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5vbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNoYW5nZShzdGF0ZSkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIE1vdmllQWRkU3RvcmUubGlzdGVuKHRoaXMub25DaGFuZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgICAgIE1vdmllQWRkU3RvcmUudW5saXN0ZW4odGhpcy5vbkNoYW5nZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlU3VibWl0KGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIGxldCBuYW1lID0gdGhpcy5zdGF0ZS5uYW1lLnRyaW0oKTtcclxuICAgICAgICBsZXQgZ2VucmVzID0gdGhpcy5zdGF0ZS5nZW5yZXM7XHJcbiAgICAgICAgaWYgKCFuYW1lKSB7XHJcbiAgICAgICAgICAgTW92aWVBZGRBY3Rpb25zLm5hbWVWYWxpZGF0aW9uRmFpbCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZ2VucmVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICBNb3ZpZUFkZEFjdGlvbnMuZ2VucmVzVmFsaWRhdGlvbkZhaWwoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChuYW1lKSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5zdGF0ZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuc3RhdGUuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICBnZW5yZXM6IHRoaXMuc3RhdGUuZ2VucmVzLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBNb3ZpZUFkZEFjdGlvbnMuYWRkTW92aWUoZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29udGFpbmVyJz5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdyb3cgZmxpcEluWCBhbmltYXRlZCc+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbC1zbS04Jz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BhbmVsIHBhbmVsLWRlZmF1bHQnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BhbmVsLWhlYWRpbmcnPkFkZCBNb3ZpZTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BhbmVsLWJvZHknPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXsgIHRoaXMuaGFuZGxlU3VibWl0LmJpbmQodGhpcykgIH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXsgJ2Zvcm0tZ3JvdXAgJyArIHRoaXMuc3RhdGUubmFtZVZhbGlkYXRpb25TdGF0ZSB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT0nY29udHJvbC1sYWJlbCc+TmFtZTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgY2xhc3NOYW1lPSdmb3JtLWNvbnRyb2wnIHJlZj0nbmFtZVRleHRGaWVsZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17IHRoaXMuc3RhdGUubmFtZSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyBNb3ZpZUFkZEFjdGlvbnMuaGFuZGxlTmFtZUNoYW5nZSB9IGF1dG9Gb2N1cy8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2hlbHAtYmxvY2snPnsgdGhpcy5zdGF0ZS5oZWxwQmxvY2sgfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmb3JtLWdyb3VwJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9J2NvbnRyb2wtbGFiZWwnPkRlc2NyaXB0aW9uPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBjbGFzc05hbWU9J2Zvcm0tY29udHJvbCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPVwiNVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9eyB0aGlzLnN0YXRlLmRlc2NyaXB0aW9uIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17IE1vdmllQWRkQWN0aW9ucy5oYW5kbGVEZXNjcmlwdGlvbkNoYW5nZSB9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17ICdmb3JtLWdyb3VwICcgKyB0aGlzLnN0YXRlLmdlbnJlc1ZhbGlkYXRpb25TdGF0ZSB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NoZWNrYm94IGNoZWNrYm94LWlubGluZSc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9J2NoZWNrYm94JyBuYW1lPSdnZW5yZXMnIGlkPSdhY3Rpb24nIHZhbHVlPSdBY3Rpb24nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9eyB0aGlzLnN0YXRlLmdlbnJlcy5pbmRleE9mKCdBY3Rpb24nKSAhPT0gLTEgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17IE1vdmllQWRkQWN0aW9ucy5oYW5kbGVHZW5yZXNDaGFuZ2UgfS8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9J2FjdGlvbic+QWN0aW9uPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NoZWNrYm94IGNoZWNrYm94LWlubGluZSc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9J2NoZWNrYm94JyBuYW1lPSdnZW5yZXMnIGlkPSdob3Jyb3InIHZhbHVlPSdIb3Jyb3InXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9eyB0aGlzLnN0YXRlLmdlbnJlcy5pbmRleE9mKCdIb3Jyb3InKSAhPT0gLTEgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17IE1vdmllQWRkQWN0aW9ucy5oYW5kbGVHZW5yZXNDaGFuZ2UgfS8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9J2hvcnJvcic+SG9ycm9yPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NoZWNrYm94IGNoZWNrYm94LWlubGluZSc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9J2NoZWNrYm94JyBuYW1lPSdnZW5yZXMnIGlkPSdzY2ktZmknIHZhbHVlPSdTY2ktZmknXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9eyB0aGlzLnN0YXRlLmdlbnJlcy5pbmRleE9mKCdTY2ktZmknKSAhPT0gLTEgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17IE1vdmllQWRkQWN0aW9ucy5oYW5kbGVHZW5yZXNDaGFuZ2UgfS8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9J3NjaS1maSc+U2NpLWZpPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NoZWNrYm94IGNoZWNrYm94LWlubGluZSc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9J2NoZWNrYm94JyBuYW1lPSdnZW5yZXMnIGlkPSdmYW50YXN5JyB2YWx1ZT0nRmFudGFzeSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17IHRoaXMuc3RhdGUuZ2VucmVzLmluZGV4T2YoJ0ZhbnRhc3knKSAhPT0gLTEgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17IE1vdmllQWRkQWN0aW9ucy5oYW5kbGVHZW5yZXNDaGFuZ2UgfS8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9J2ZhbnRhc3knPkZhbnRhc3k8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY2hlY2tib3ggY2hlY2tib3gtaW5saW5lJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0nY2hlY2tib3gnIG5hbWU9J2dlbnJlcycgaWQ9J3JvbWFuY2UnIHZhbHVlPSdSb21hbmNlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXsgdGhpcy5zdGF0ZS5nZW5yZXMuaW5kZXhPZignUm9tYW5jZScpICE9PSAtMSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgTW92aWVBZGRBY3Rpb25zLmhhbmRsZUdlbnJlc0NoYW5nZSB9Lz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj0ncm9tYW5jZSc+Um9tYW5jZTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjaGVja2JveCBjaGVja2JveC1pbmxpbmUnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSdjaGVja2JveCcgbmFtZT0nZ2VucmVzJyBpZD0ndGhyaWxsZXInIHZhbHVlPSdUaHJpbGxlcidcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17IHRoaXMuc3RhdGUuZ2VucmVzLmluZGV4T2YoJ1RocmlsbGVyJykgIT09IC0xIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyBNb3ZpZUFkZEFjdGlvbnMuaGFuZGxlR2VucmVzQ2hhbmdlIH0vPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPSd0aHJpbGxlcic+VGhyaWxsZXI8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY2hlY2tib3ggY2hlY2tib3gtaW5saW5lJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0nY2hlY2tib3gnIG5hbWU9J2dlbnJlcycgaWQ9J2FkdmVudHVyZScgdmFsdWU9J0FkdmVudHVyZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17IHRoaXMuc3RhdGUuZ2VucmVzLmluZGV4T2YoJ0FkdmVudHVyZScpICE9PSAtMSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgTW92aWVBZGRBY3Rpb25zLmhhbmRsZUdlbnJlc0NoYW5nZSB9Lz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj0nYWR2ZW50dXJlJz5BZHZlbnR1cmU8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9J3N1Ym1pdCcgY2xhc3NOYW1lPSdidG4gYnRuLXByaW1hcnknPlN1Ym1pdDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJ1xyXG5cclxuaW1wb3J0IE5hdmJhckFjdGlvbnMgZnJvbSAnLi4vYWN0aW9ucy9OYXZiYXJBY3Rpb25zJ1xyXG5pbXBvcnQgTmF2YmFyU3RvcmUgZnJvbSAnLi4vc3RvcmVzL05hdmJhclN0b3JlJ1xyXG5cclxuaW1wb3J0IE5hdmJhclVzZXJNZW51IGZyb20gJy4vc3ViLWNvbXBvbmVudHMvTmF2YmFyVXNlck1lbnUnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOYXZiYXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IE5hdmJhclN0b3JlLmdldFN0YXRlKClcclxuXHJcbiAgICB0aGlzLm9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpXHJcbiAgfVxyXG5cclxuICBvbkNoYW5nZSAoc3RhdGUpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBOYXZiYXJTdG9yZS5saXN0ZW4odGhpcy5vbkNoYW5nZSlcclxuXHJcbiAgICAkKGRvY3VtZW50KS5hamF4U3RhcnQoKCkgPT4gTmF2YmFyQWN0aW9ucy51cGRhdGVBamF4QW5pbWF0aW9uKCdmYWRlSW4nKSlcclxuICAgICQoZG9jdW1lbnQpLlxyXG4gICAgICBhamF4Q29tcGxldGUoKCkgPT4gTmF2YmFyQWN0aW9ucy51cGRhdGVBamF4QW5pbWF0aW9uKCdmYWRlT3V0JykpXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICBOYXZiYXJTdG9yZS51bmxpc3Rlbih0aGlzLm9uQ2hhbmdlKVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGxldCBuYXZiYXJVc2VyTWVudSA9IDxOYXZiYXJVc2VyTWVudSB1c2VyRGF0YT17IHRoaXMucHJvcHMudXNlckRhdGEgfS8+XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8bmF2IGNsYXNzTmFtZT0nbmF2YmFyIG5hdmJhci1kZWZhdWx0IG5hdmJhci1zdGF0aWMtdG9wJz5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbmF2YmFyLWhlYWRlcic+XHJcbiAgICAgICAgICA8YnV0dG9uIHR5cGU9J2J1dHRvbidcclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSduYXZiYXItdG9nZ2xlIGNvbGxhcHNlZCdcclxuICAgICAgICAgICAgICAgICAgZGF0YS10b2dnbGU9J2NvbGxhcHNlJ1xyXG4gICAgICAgICAgICAgICAgICBkYXRhLXRhcmdldD0nI25hdmJhcic+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nc3Itb25seSc+VG9nZ2xlIG5hdmlnYXRpb248L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0naWNvbi1iYXInLz5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdpY29uLWJhcicvPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2ljb24tYmFyJy8+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxMaW5rIHRvPScvJyBjbGFzc05hbWU9J25hdmJhci1icmFuZCc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPSd0cmlhbmdsZXMnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXsndHJpYW5nbGVzIGFuaW1hdGVkICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuYWpheEFuaW1hdGlvbkNsYXNzfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0cmkgaW52ZXJ0Jy8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndHJpIGludmVydCcvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RyaScvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RyaSBpbnZlcnQnLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0cmkgaW52ZXJ0Jy8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndHJpJy8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndHJpIGludmVydCcvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RyaScvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RyaSBpbnZlcnQnLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICBNREJcclxuICAgICAgICAgIDwvTGluaz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGlkPSduYXZiYXInIGNsYXNzTmFtZT0nbmF2YmFyLWNvbGxhcHNlIGNvbGxhcHNlJz5cclxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9J25hdiBuYXZiYXItbmF2Jz5cclxuICAgICAgICAgICAgPGxpPlxyXG4gICAgICAgICAgICAgIDxMaW5rIHRvPScvJz5Ib21lPC9MaW5rPlxyXG4gICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICA8bGk+XHJcbiAgICAgICAgICAgICAgPExpbmsgdG89Jy9tb3ZpZS9hZGQnPkFkZCBNb3ZpZTwvTGluaz5cclxuICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICB7IG5hdmJhclVzZXJNZW51IH1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9uYXY+XHJcbiAgICApXHJcbiAgfVxyXG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgVXNlckFjdGlvbnMgZnJvbSAnLi4vYWN0aW9ucy9Vc2VyQWN0aW9ucydcclxuaW1wb3J0IEZvcm1BY3Rpb25zIGZyb20gJy4uL2FjdGlvbnMvRm9ybUFjdGlvbnMnXHJcbmltcG9ydCBGb3JtU3RvcmUgZnJvbSAnLi4vc3RvcmVzL0Zvcm1TdG9yZSdcclxuaW1wb3J0IEZvcm0gZnJvbSAnLi9mb3JtL0Zvcm0nXHJcbmltcG9ydCBUZXh0R3JvdXAgZnJvbSAnLi9mb3JtL1RleHRHcm91cCdcclxuaW1wb3J0IFN1Ym1pdCBmcm9tICcuL2Zvcm0vU3VibWl0J1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckxvZ2luIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG4gICAgdGhpcy5zdGF0ZSA9IEZvcm1TdG9yZS5nZXRTdGF0ZSgpXHJcbiAgICB0aGlzLm9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpXHJcbiAgfVxyXG5cclxuICBvbkNoYW5nZSAoc3RhdGUpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBGb3JtU3RvcmUubGlzdGVuKHRoaXMub25DaGFuZ2UpXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICBGb3JtU3RvcmUudW5saXN0ZW4odGhpcy5vbkNoYW5nZSlcclxuICB9XHJcblxyXG4gIGhhbmRsZVN1Ym1pdCAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcblxyXG4gICAgbGV0IHVzZXJuYW1lID0gdGhpcy5zdGF0ZS51c2VybmFtZVxyXG4gICAgbGV0IHBhc3N3b3JkID0gdGhpcy5zdGF0ZS5wYXNzd29yZFxyXG4gICAgaWYgKCF1c2VybmFtZSkge1xyXG4gICAgICBGb3JtQWN0aW9ucy51c2VybmFtZVZhbGlkYXRpb25GYWlsKClcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBpZiAoIXBhc3N3b3JkKSB7XHJcbiAgICAgIEZvcm1BY3Rpb25zLnBhc3N3b3JkVmFsaWRhdGlvbkZhaWwoKVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBVc2VyQWN0aW9ucy5sb2dpblVzZXIoe3VzZXJuYW1lLCBwYXNzd29yZH0pXHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPEZvcm0gdGl0bGU9J0xvZ2luJ1xyXG4gICAgICAgICAgICBoYW5kbGVTdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0LmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgIHN1Ym1pdFN0YXRlPXt0aGlzLnN0YXRlLmZvcm1TdWJtaXRTdGF0ZX1cclxuICAgICAgICAgICAgbWVzc2FnZT17dGhpcy5zdGF0ZS5tZXNzYWdlfT5cclxuXHJcbiAgICAgICAgPFRleHRHcm91cCB0eXBlPSd0ZXh0J1xyXG4gICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXNlcm5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICBsYWJlbD0nVXNlcm5hbWUnXHJcbiAgICAgICAgICAgICAgICAgICBoYW5kbGVDaGFuZ2U9e0Zvcm1BY3Rpb25zLmhhbmRsZVVzZXJuYW1lQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvblN0YXRlPXt0aGlzLnN0YXRlLnVzZXJuYW1lVmFsaWRhdGlvblN0YXRlfS8+XHJcblxyXG4gICAgICAgIDxUZXh0R3JvdXAgdHlwZT0ncGFzc3dvcmQnXHJcbiAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wYXNzd29yZH1cclxuICAgICAgICAgICAgICAgICAgIGxhYmVsPSdQYXNzd29yZCdcclxuICAgICAgICAgICAgICAgICAgIGhhbmRsZUNoYW5nZT17Rm9ybUFjdGlvbnMuaGFuZGxlUGFzc3dvcmRDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uU3RhdGU9e3RoaXMuc3RhdGUucGFzc3dvcmRWYWxpZGF0aW9uU3RhdGV9XHJcbiAgICAgICAgICAgICAgICAgICBtZXNzYWdlPXt0aGlzLnN0YXRlLm1lc3NhZ2V9Lz5cclxuXHJcbiAgICAgICAgPFN1Ym1pdCB0eXBlPSdidG4tcHJpbWFyeSdcclxuICAgICAgICAgICAgICAgIHZhbHVlPSdMb2dpbicvPlxyXG5cclxuICAgICAgPC9Gb3JtPlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcblxyXG5pbXBvcnQgVXNlclN0b3JlIGZyb20gJy4uL3N0b3Jlcy9Vc2VyU3RvcmUnXHJcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuL3N1Yi1jb21wb25lbnRzL1VzZXJJbmZvJ1xyXG5pbXBvcnQgVXNlclZvdGVkTW92aWVzIGZyb20gJy4vc3ViLWNvbXBvbmVudHMvVXNlclJhdGVkTW92aWVzJ1xyXG5pbXBvcnQgVXNlclJldmlld3MgZnJvbSAnLi9zdWItY29tcG9uZW50cy9Vc2VyUmV2aWV3cydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJQcm9maWxlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSBVc2VyU3RvcmUuZ2V0U3RhdGUoKVxyXG5cclxuICAgIHRoaXMub25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcylcclxuICB9XHJcblxyXG4gIG9uQ2hhbmdlIChzdGF0ZSkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSlcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIFVzZXJTdG9yZS5saXN0ZW4odGhpcy5vbkNoYW5nZSlcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIFVzZXJTdG9yZS51bmxpc3Rlbih0aGlzLm9uQ2hhbmdlKVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGxldCBub2RlcyA9IHt9XHJcbiAgICBub2Rlcy5yb2xlcyA9IHRoaXMuc3RhdGUucm9sZXMubWFwKChyb2xlLCBpbmRleCkgPT4ge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxoNCBrZXk9eyBpbmRleCB9IGNsYXNzTmFtZT0nbGVhZCc+XHJcbiAgICAgICAgICA8c3Ryb25nPnsgcm9sZSB9PC9zdHJvbmc+XHJcbiAgICAgICAgPC9oND5cclxuICAgICAgKVxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIDxVc2VySW5mbyBuYW1lPXsgdGhpcy5zdGF0ZS5uYW1lIH1cclxuICAgICAgICAgICAgICAgICAgcm9sZXM9eyB0aGlzLnN0YXRlLnJvbGVzIH1cclxuICAgICAgICAgICAgICAgICAgaW5mb3JtYXRpb249eyB0aGlzLnN0YXRlLmluZm9ybWF0aW9uIH0vPlxyXG4gICAgICAgIDxVc2VyVm90ZWRNb3ZpZXMgdm90ZXM9eyB0aGlzLnN0YXRlLnZvdGVzIH0vPlxyXG4gICAgICAgIDxVc2VyUmV2aWV3cyByZXZpZXdzPXsgdGhpcy5wcm9wcy5yZXZpZXdzIH0vPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcclxuaW1wb3J0IEZvcm1BY3Rpb25zIGZyb20gJy4uL2FjdGlvbnMvRm9ybUFjdGlvbnMnXHJcbmltcG9ydCBVc2VyQWN0aW9ucyBmcm9tICcuLi9hY3Rpb25zL1VzZXJBY3Rpb25zJ1xyXG5pbXBvcnQgRm9ybVN0b3JlIGZyb20gJy4uL3N0b3Jlcy9Gb3JtU3RvcmUnXHJcbmltcG9ydCBGb3JtIGZyb20gJy4vZm9ybS9Gb3JtJ1xyXG5pbXBvcnQgVGV4dEdyb3VwIGZyb20gJy4vZm9ybS9UZXh0R3JvdXAnXHJcbmltcG9ydCBSYWRpb0dyb3VwIGZyb20gJy4vZm9ybS9SYWRpb0dyb3VwJ1xyXG5pbXBvcnQgUmFkaW9FbGVtZW50IGZyb20gJy4vZm9ybS9SYWRpb0VsZW1lbnQnXHJcbmltcG9ydCBTdWJtaXQgZnJvbSAnLi9mb3JtL1N1Ym1pdCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJSZWdpc3RlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuICAgIHRoaXMuc3RhdGUgPSBGb3JtU3RvcmUuZ2V0U3RhdGUoKVxyXG4gICAgdGhpcy5vbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKVxyXG4gIH1cclxuXHJcbiAgb25DaGFuZ2UgKHN0YXRlKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHN0YXRlKVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgRm9ybVN0b3JlLmxpc3Rlbih0aGlzLm9uQ2hhbmdlKVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgRm9ybVN0b3JlLnVubGlzdGVuKHRoaXMub25DaGFuZ2UpXHJcbiAgfVxyXG5cclxuICBoYW5kbGVTdWJtaXQgKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgbGV0IGRhdGEgPSB7XHJcbiAgICAgIHVzZXJuYW1lOiB0aGlzLnN0YXRlLnVzZXJuYW1lLFxyXG4gICAgICBwYXNzd29yZDogdGhpcy5zdGF0ZS5wYXNzd29yZCxcclxuICAgICAgY29uZmlybWVkUGFzc3dvcmQ6IHRoaXMuc3RhdGUuY29uZmlybWVkUGFzc3dvcmQsXHJcbiAgICAgIGZpcnN0TmFtZTogdGhpcy5zdGF0ZS5maXJzdE5hbWUsXHJcbiAgICAgIGxhc3ROYW1lOiB0aGlzLnN0YXRlLmxhc3ROYW1lLFxyXG4gICAgICBhZ2U6IHRoaXMuc3RhdGUuYWdlLFxyXG4gICAgICBnZW5kZXI6IHRoaXMuc3RhdGUuZ2VuZGVyXHJcbiAgICB9XHJcbiAgICBpZiAoIWRhdGEudXNlcm5hbWUpIHtcclxuICAgICAgcmV0dXJuIEZvcm1BY3Rpb25zLnVzZXJuYW1lVmFsaWRhdGlvbkZhaWwoKVxyXG4gICAgfVxyXG4gICAgaWYgKCFkYXRhLnBhc3N3b3JkIHx8ICFkYXRhLmNvbmZpcm1lZFBhc3N3b3JkIHx8IGRhdGEucGFzc3dvcmQgIT09IGRhdGEuY29uZmlybWVkUGFzc3dvcmQpIHtcclxuICAgICAgcmV0dXJuIEZvcm1BY3Rpb25zLnBhc3N3b3JkVmFsaWRhdGlvbkZhaWwoKVxyXG4gICAgfVxyXG4gICAgVXNlckFjdGlvbnMucmVnaXN0ZXJVc2VyKGRhdGEpXHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPEZvcm0gdGl0bGU9J1JlZ2lzdGVyJ1xyXG4gICAgICAgIGhhbmRsZVN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXQuYmluZCh0aGlzKX1cclxuICAgICAgICBzdWJtaXRTdGF0ZT17dGhpcy5zdGF0ZS5mb3JtU3VibWl0U3RhdGV9XHJcbiAgICAgICAgbWVzc2FnZT17dGhpcy5zdGF0ZS5tZXNzYWdlfT5cclxuXHJcbiAgICAgICAgPFRleHRHcm91cCB0eXBlPSd0ZXh0J1xyXG4gICAgICAgICAgbGFiZWw9J1VzZXJuYW1lJ1xyXG4gICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXNlcm5hbWV9XHJcbiAgICAgICAgICBhdXRvRm9jdXM9e3RydWV9XHJcbiAgICAgICAgICBoYW5kbGVDaGFuZ2U9e0Zvcm1BY3Rpb25zLmhhbmRsZVVzZXJuYW1lQ2hhbmdlfVxyXG4gICAgICAgICAgdmFsaWRhdGlvblN0YXRlPXt0aGlzLnN0YXRlLnVzZXJuYW1lVmFsaWRhdGlvblN0YXRlfVxyXG4gICAgICAgICAgbWVzc2FnZT17dGhpcy5zdGF0ZS5tZXNzYWdlfSAvPlxyXG5cclxuICAgICAgICA8VGV4dEdyb3VwIHR5cGU9J3Bhc3N3b3JkJ1xyXG4gICAgICAgICAgbGFiZWw9J1Bhc3N3b3JkJ1xyXG4gICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuUGFzc3dvcmR9XHJcbiAgICAgICAgICBoYW5kbGVDaGFuZ2U9e0Zvcm1BY3Rpb25zLmhhbmRsZVBhc3N3b3JkQ2hhbmdlfVxyXG4gICAgICAgICAgdmFsaWRhdGlvblN0YXRlPXt0aGlzLnN0YXRlLnBhc3N3b3JkVmFsaWRhdGlvblN0YXRlfVxyXG4gICAgICAgICAgbWVzc2FnZT17dGhpcy5zdGF0ZS5tZXNzYWdlfSAvPlxyXG5cclxuICAgICAgICA8VGV4dEdyb3VwIHR5cGU9J3Bhc3N3b3JkJ1xyXG4gICAgICAgICAgbGFiZWw9J0NvbmZpcm0gUGFzc3dvcmQnXHJcbiAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5jb25maXJtUGFzc3dvcmR9XHJcbiAgICAgICAgICBoYW5kbGVDaGFuZ2U9e0Zvcm1BY3Rpb25zLmhhbmRsZUNvbmZpcm1lZFBhc3N3b3JkQ2hhbmdlfVxyXG4gICAgICAgICAgdmFsaWRhdGlvblN0YXRlPXt0aGlzLnN0YXRlLnBhc3N3b3JkVmFsaWRhdGlvblN0YXRlfVxyXG4gICAgICAgICAgbWVzc2FnZT17dGhpcy5zdGF0ZS5tZXNzYWdlfSAvPlxyXG5cclxuICAgICAgICA8VGV4dEdyb3VwIHR5cGU9J3RleHQnXHJcbiAgICAgICAgICBsYWJlbD0nRmlyc3QgTmFtZSdcclxuICAgICAgICAgIGhhbmRsZUNoYW5nZT17Rm9ybUFjdGlvbnMuaGFuZGxlRmlyc3ROYW1lQ2hhbmdlfVxyXG4gICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZmlyc3ROYW1lfSAvPlxyXG5cclxuICAgICAgICA8VGV4dEdyb3VwIHR5cGU9J3RleHQnXHJcbiAgICAgICAgICBsYWJlbD0nTGFzdCBOYW1lJ1xyXG4gICAgICAgICAgaGFuZGxlQ2hhbmdlPXtGb3JtQWN0aW9ucy5oYW5kbGVMYXN0TmFtZUNoYW5nZX1cclxuICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmxhc3ROYW1lfSAvPlxyXG5cclxuICAgICAgICA8VGV4dEdyb3VwIHR5cGU9J251bWJlcidcclxuICAgICAgICAgIGxhYmVsPSdBZ2UnXHJcbiAgICAgICAgICBoYW5kbGVDaGFuZ2U9e0Zvcm1BY3Rpb25zLmhhbmRsZUFnZUNoYW5nZX1cclxuICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmFnZX0gLz5cclxuXHJcbiAgICAgICAgPFJhZGlvR3JvdXAgdmFsaWRhdGlvblN0YXRlPXt0aGlzLnN0YXRlLmdlbmRlclZhbGlkYXRpb25TdGF0ZX1cclxuICAgICAgICAgIG1lc3NhZ2U9e3RoaXMuc3RhdGUubWVzc2FnZX0+XHJcbiAgICAgICAgICA8UmFkaW9FbGVtZW50IGdyb3VwTmFtZT0nZ2VuZGVyJ1xyXG4gICAgICAgICAgICB2YWx1ZT0nTWFsZSdcclxuICAgICAgICAgICAgc2VsZWN0ZWRWYWx1ZT17dGhpcy5zdGF0ZS5nZW5kZXJ9XHJcbiAgICAgICAgICAgIGhhbmRsZUNoYW5nZT17Rm9ybUFjdGlvbnMuaGFuZGxlR2VuZGVyQ2hhbmdlfSAvPlxyXG5cclxuICAgICAgICAgIDxSYWRpb0VsZW1lbnQgZ3JvdXBOYW1lPSdnZW5kZXInXHJcbiAgICAgICAgICAgIHZhbHVlPSdGZW1hbGUnXHJcbiAgICAgICAgICAgIHNlbGVjdGVkVmFsdWU9e3RoaXMuc3RhdGUuZ2VuZGVyfVxyXG4gICAgICAgICAgICBoYW5kbGVDaGFuZ2U9e0Zvcm1BY3Rpb25zLmhhbmRsZUdlbmRlckNoYW5nZX0gLz5cclxuICAgICAgICA8L1JhZGlvR3JvdXA+XHJcblxyXG4gICAgICAgIDxTdWJtaXQgdHlwZT0nYnRuLXByaW1hcnknIHZhbHVlPSdSZWdpc3RlcicgLz5cclxuICAgICAgPC9Gb3JtPlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbnRhaW5lcic+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3JvdyBmbGlwSW5YIGFuaW1hdGVkJz5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb2wtc20tOCc+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwYW5lbCBwYW5lbC1kZWZhdWx0Jz5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncGFuZWwtaGVhZGluZyc+e3RoaXMucHJvcHMudGl0bGV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BhbmVsLWJvZHknPlxyXG4gICAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMucHJvcHMuaGFuZGxlU3VibWl0fT5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Bmb3JtLWdyb3VwICR7dGhpcy5wcm9wcy5zdWJtaXRTdGF0ZX1gfT5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2BoZWxwLWJsb2NrYH0+e3RoaXMucHJvcHMubWVzc2FnZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cclxuICAgICAgICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJhZGlvRWxlbWVudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdyYWRpbyByYWRpby1pbmxpbmUnPlxyXG4gICAgICAgIDxpbnB1dCB0eXBlPSdyYWRpbydcclxuICAgICAgICAgICAgICAgbmFtZT17dGhpcy5wcm9wcy5ncm91cE5hbWV9XHJcbiAgICAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLnZhbHVlLnRvTG93ZXJDYXNlKCl9XHJcbiAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnByb3BzLnZhbHVlfVxyXG4gICAgICAgICAgICAgICBjaGVja2VkPXt0aGlzLnByb3BzLnNlbGVjdGVkVmFsdWUgPT09IHRoaXMucHJvcHMudmFsdWV9XHJcbiAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnByb3BzLmhhbmRsZUNoYW5nZX0vPlxyXG4gICAgICAgIDxsYWJlbFxyXG4gICAgICAgICAgaHRtbEZvcj17dGhpcy5wcm9wcy52YWx1ZS50b0xvd2VyQ2FzZSgpfT57IHRoaXMucHJvcHMudmFsdWUgfTwvbGFiZWw+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYWRpb0dyb3VwIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Bmb3JtLWdyb3VwICR7dGhpcy5wcm9wcy52YWxpZGF0aW9uU3RhdGV9YH0+XHJcbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdoZWxwLWJsb2NrJz57IHRoaXMucHJvcHMubWVzc2FnZSB9PC9zcGFuPlxyXG4gICAgICAgIHsgdGhpcy5wcm9wcy5jaGlsZHJlbiB9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdWJtaXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gPGlucHV0IHR5cGU9J3N1Ym1pdCcgY2xhc3NOYW1lPXtgYnRuICR7dGhpcy5wcm9wcy50eXBlfWB9XHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnByb3BzLnZhbHVlfS8+XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHRHcm91cCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXsnZm9ybS1ncm91cCAnICsgdGhpcy5wcm9wcy52YWxpZGF0aW9uU3RhdGV9PlxyXG4gICAgICAgIDxsYWJlbCBjbGFzc05hbWU9J2NvbnRyb2wtbGFiZWwnPnsgdGhpcy5wcm9wcy5sYWJlbCB9PC9sYWJlbD5cclxuICAgICAgICA8aW5wdXQgdHlwZT17dGhpcy5wcm9wcy50eXBlfSBjbGFzc05hbWU9J2Zvcm0tY29udHJvbCdcclxuICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMudmFsdWV9XHJcbiAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnByb3BzLmhhbmRsZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgYXV0b0ZvY3VzPXt0aGlzLnByb3BzLmF1dG9Gb2N1c30vPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT0naGVscC1ibG9jayc+eyB0aGlzLnByb3BzLm1lc3NhZ2UgfTwvc3Bhbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcclxuaW1wb3J0IEZvcm1TdG9yZSBmcm9tICcuLi8uLi9zdG9yZXMvRm9ybVN0b3JlJ1xyXG5pbXBvcnQgRm9ybUFjdGlvbnMgZnJvbSAnLi4vLi4vYWN0aW9ucy9Gb3JtQWN0aW9ucydcclxuaW1wb3J0IE1vdmllQWN0aW9ucyBmcm9tICcuLi8uLi9hY3Rpb25zL01vdmllQWN0aW9ucydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vdmllQ29tbWVudHNQYW5lbEZvcm0gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcbiAgICB0aGlzLnN0YXRlID0gRm9ybVN0b3JlLmdldFN0YXRlKClcclxuICAgIHRoaXMub25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcylcclxuICB9XHJcblxyXG4gIG9uQ2hhbmdlIChzdGF0ZSkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSlcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIEZvcm1TdG9yZS5saXN0ZW4odGhpcy5vbkNoYW5nZSlcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIEZvcm1TdG9yZS51bmxpc3Rlbih0aGlzLm9uQ2hhbmdlKVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlU3VibWl0IChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KClcclxuXHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuY29tbWVudCkge1xyXG4gICAgICBGb3JtQWN0aW9ucy5jb21tZW50VmFsaWRhdGlvbkZhaWwoKVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBNb3ZpZUFjdGlvbnMuYWRkQ29tbWVudCh0aGlzLnByb3BzLm1vdmllSWQsIHRoaXMuc3RhdGUuY29tbWVudClcclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXQuYmluZCh0aGlzKX0+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Bmb3JtLWdyb3VwICR7dGhpcy5zdGF0ZS5jb21tZW50VmFsaWRhdGlvblN0YXRlfWB9PlxyXG4gICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT0nY29udHJvbC1sYWJlbCcgaHRtbEZvcj0nY29udGVudCc+QWRkIGNvbW1lbnQ8L2xhYmVsPlxyXG4gICAgICAgICAgPHRleHRhcmVhIGlkPSdjb250ZW50J1xyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nZm9ybS1jb250cm9sJ1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmNvbW1lbnR9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e0Zvcm1BY3Rpb25zLmhhbmRsZUNvbW1lbnRDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgcm93cz0nNScvPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgaGVscC1ibG9ja2B9PnsgdGhpcy5zdGF0ZS5tZXNzYWdlIH08L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Zvcm0tZ3JvdXAnPlxyXG4gICAgICAgICAgPGlucHV0IHR5cGU9J3N1Ym1pdCcgY2xhc3NOYW1lPSdidG4gYnRuLXByaW1hcnknIHZhbHVlPSdDb21tZW50Jy8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZm9ybT5cclxuICAgIClcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFJlYWN0IGZyb20gICdyZWFjdCdcclxuXHJcbmltcG9ydCBNb3ZpZVBvc3RlciBmcm9tICcuL01vdmllUG9zdGVyJ1xyXG5pbXBvcnQgTW92aWVJbmZvIGZyb20gJy4vTW92aWVJbmZvJ1xyXG5pbXBvcnQgTW92aWVQYW5lbHNUb2dnbGUgZnJvbSAnLi9Nb3ZpZVBhbmVsc1RvZ2dsZSdcclxuaW1wb3J0IE1vdmllVm90ZVBhbmVsIGZyb20gJy4vTW92aWVWb3RlUGFuZWwnXHJcbmltcG9ydCBNb3ZpZUNvbW1lbnRzUGFuZWwgZnJvbSAnLi9Nb3ZpZUNvbW1lbnRzUGFuZWwnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb3ZpZUNhcmQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgc2hvd1ZvdGVQYW5lbDogZmFsc2UsXHJcbiAgICAgIHNob3dDb21tZW50c1BhbmVsOiBmYWxzZSxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHRvZ2dsZUNvbW1lbnRzUGFuZWwgKCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZShwcmV2U3RhdGUgPT4gKHtcclxuICAgICAgc2hvd0NvbW1lbnRzUGFuZWw6ICFwcmV2U3RhdGUuc2hvd0NvbW1lbnRzUGFuZWwsXHJcbiAgICAgIHNob3dWb3RlUGFuZWw6IGZhbHNlLFxyXG4gICAgfSkpXHJcbiAgfVxyXG5cclxuICB0b2dnbGVWb3RlUGFuZWwgKCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZShwcmV2U3RhdGUgPT4gKHtcclxuICAgICAgc2hvd1ZvdGVQYW5lbDogIXByZXZTdGF0ZS5zaG93Vm90ZVBhbmVsLFxyXG4gICAgICBzaG93Q29tbWVudHNQYW5lbDogZmFsc2UsXHJcbiAgICB9KSlcclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nYW5pbWF0ZWQgZmFkZUluJz5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWVkaWEgbW92aWUnPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdwb3NpdGlvbiBwdWxsLWxlZnQnPnsgdGhpcy5wcm9wcy5pbmRleCArIDEgfTwvc3Bhbj5cclxuICAgICAgICAgIDxNb3ZpZVBvc3RlciBwb3N0ZXJVcmw9eyB0aGlzLnByb3BzLm1vdmllLm1vdmllUG9zdGVyVXJsIH0vPlxyXG4gICAgICAgICAgPE1vdmllSW5mbyBtb3ZpZT17IHRoaXMucHJvcHMubW92aWUgfS8+XHJcbiAgICAgICAgICA8TW92aWVQYW5lbHNUb2dnbGVcclxuICAgICAgICAgICAgdG9nZ2xlQ29tbWVudHNQYW5lbD17IHRoaXMudG9nZ2xlQ29tbWVudHNQYW5lbC5iaW5kKHRoaXMpIH1cclxuICAgICAgICAgICAgdG9nZ2xlVm90ZVBhbmVsPXsgdGhpcy50b2dnbGVWb3RlUGFuZWwuYmluZCh0aGlzKSB9XHJcbiAgICAgICAgICAgIHNob3dDb21tZW50c1BhbmVsPXsgdGhpcy5zdGF0ZS5zaG93Q29tbWVudHNQYW5lbCB9XHJcbiAgICAgICAgICAgIHNob3dWb3RlUGFuZWw9eyB0aGlzLnN0YXRlLnNob3dWb3RlUGFuZWwgfVxyXG4gICAgICAgICAgICBtb3ZpZUlkPXsgdGhpcy5wcm9wcy5tb3ZpZS5faWQgfS8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAge3RoaXMuc3RhdGUuc2hvd1ZvdGVQYW5lbCA/XHJcbiAgICAgICAgICA8TW92aWVWb3RlUGFuZWwgbW92aWVJZD17IHRoaXMucHJvcHMubW92aWUuX2lkIH0vPiA6IG51bGx9XHJcbiAgICAgICAge3RoaXMuc3RhdGUuc2hvd0NvbW1lbnRzUGFuZWwgP1xyXG4gICAgICAgICAgPE1vdmllQ29tbWVudHNQYW5lbCBjb21tZW50cz17dGhpcy5wcm9wcy5tb3ZpZS5jb21tZW50c31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92aWVJZD17IHRoaXMucHJvcHMubW92aWUuX2lkIH0vPiA6IG51bGx9XHJcbiAgICAgICAgPGRpdiBpZD1cImNsZWFyXCIvPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgQ29tbWVudEZvcm0gZnJvbSAnLi9Db21tZW50Rm9ybSdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vdmllQ29tbWVudHNQYW5lbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGxldCBjb21tZW50cyA9IHRoaXMucHJvcHMuY29tbWVudHMubWFwKGNvbW1lbnQgPT4ge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYga2V5PXtjb21tZW50Ll9pZH1cclxuICAgICAgICAgICAgIGNsYXNzTmFtZT0nY29tbWVudCBjb2wtc20tOSBsaXN0LWdyb3VwLWl0ZW0gYW5pbWF0ZWQgZmFkZUluJz5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtZWRpYSc+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtZWRpYS1ib2R5Jz5cclxuICAgICAgICAgICAgICA8cD57Y29tbWVudC5jb250ZW50fTwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKVxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cclxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwiY29sLXNtLTNcIj5Db21tZW50czo8L2gzPlxyXG4gICAgICAgIHtjb21tZW50c31cclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICBjbGFzc05hbWU9J2NvbC1zbS02IGNvbC14cy1vZmZzZXQtNiBsaXN0LWdyb3VwLWl0ZW0gYW5pbWF0ZWQgZmFkZUluJz5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtZWRpYSc+XHJcbiAgICAgICAgICAgIDxDb21tZW50Rm9ybSBtb3ZpZUlkPXt0aGlzLnByb3BzLm1vdmllSWR9Lz5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInXHJcbmltcG9ydCBIZWxwZXJzIGZyb20gJy4uLy4uL3V0aWxpdGllcy9IZWxwZXJzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW92aWVJbmZvIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICByZW5kZXIgKCkge1xyXG4gICAgbGV0IGdlbnJlcyA9IHRoaXMucHJvcHMubW92aWUuZ2VucmVzLm1hcChnZW5yZSA9PiB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPHN0cm9uZyBrZXk9eyB0aGlzLnByb3BzLm1vdmllLl9pZCArIGdlbnJlIH0+eyBnZW5yZSB9IDwvc3Ryb25nPlxyXG4gICAgICApXHJcbiAgICB9KVxyXG4gICAgbGV0IHJhdGluZyA9IEhlbHBlcnMuZm9ybWF0TW92aWVSYXRpbmcodGhpcy5wcm9wcy5tb3ZpZS5zY29yZSxcclxuICAgICAgdGhpcy5wcm9wcy5tb3ZpZS52b3RlcylcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nbWVkaWEtYm9keSc+XHJcbiAgICAgICAgPGg0IGNsYXNzTmFtZT0nbWVkaWEtaGVhZGluZyc+XHJcbiAgICAgICAgICA8TGlua1xyXG4gICAgICAgICAgICB0bz17YC9tb3ZpZS8keyB0aGlzLnByb3BzLm1vdmllLl9pZCB9LyR7IHRoaXMucHJvcHMubW92aWUubmFtZSB9YH0+XHJcbiAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5tb3ZpZS5uYW1lIH1cclxuICAgICAgICAgIDwvTGluaz5cclxuICAgICAgICA8L2g0PlxyXG4gICAgICAgIDxzbWFsbD5HZW5yZXM6IHsgZ2VucmVzIH08L3NtYWxsPlxyXG4gICAgICAgIDxiciAvPlxyXG4gICAgICAgIDxwPnsgdGhpcy5wcm9wcy5tb3ZpZS5kZXNjcmlwdGlvbiB9PC9wPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInZvdGVzXCI+Vm90ZXM6XHJcbiAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz4geyB0aGlzLnByb3BzLm1vdmllLnZvdGVzIH08L3N0cm9uZz5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3JhdGluZyBwb3NpdGlvbiBwdWxsLXJpZ2h0Jz5cclxuICAgICAgICAgICAgICAgICAgICB7IHJhdGluZyB9XHJcbiAgICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJiYWRnZSBiYWRnZS11cFwiPnsgdGhpcy5wcm9wcy5tb3ZpZS5sb2dnZWRJblVzZXJTY29yZSB9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcidcclxuXHJcbmltcG9ydCB7IENvbmNlYWxlciB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9BdXRob3JpemUnXHJcblxyXG5jbGFzcyBWb3RlVG9nZ2xlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGEgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCJcclxuICAgICAgICAgb25DbGljaz17IHRoaXMucHJvcHMudG9nZ2xlVm90ZVBhbmVsIH0+XHJcbiAgICAgICAgeyB0aGlzLnByb3BzLnNob3dWb3RlUGFuZWwgPyAnSGlkZScgOiAnVm90ZScgfVxyXG4gICAgICA8L2E+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb3ZpZVBhbmVsVG9nZ2xlcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHVsbC1yaWdodCBidG4tZ3JvdXBcIj5cclxuICAgICAgICA8YSBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIlxyXG4gICAgICAgICAgIG9uQ2xpY2s9eyB0aGlzLnByb3BzLnRvZ2dsZUNvbW1lbnRzUGFuZWwgfT5cclxuICAgICAgICAgIHsgdGhpcy5wcm9wcy5zaG93Q29tbWVudHNQYW5lbCA/ICdIaWRlJyA6ICdDb21tZW50cycgfVxyXG4gICAgICAgIDwvYT5cclxuICAgICAgICA8Q29uY2VhbGVyIENoaWxkQ29tcG9uZW50PXsgVm90ZVRvZ2dsZSB9XHJcbiAgICAgICAgICAgICAgICAgICB0b2dnbGVWb3RlUGFuZWw9eyB0aGlzLnByb3BzLnRvZ2dsZVZvdGVQYW5lbCB9XHJcbiAgICAgICAgICAgICAgICAgICBzaG93Vm90ZVBhbmVsPXsgdGhpcy5wcm9wcy5zaG93Vm90ZVBhbmVsIH0vPlxyXG4gICAgICAgIDxMaW5rIHRvPXtgL21vdmllLyR7IHRoaXMucHJvcHMubW92aWVJZCB9L3Jldmlldy9hZGRgfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4td2FybmluZ1wiPlxyXG4gICAgICAgICAgV3JpdGUgcmV2aWV3XHJcbiAgICAgICAgPC9MaW5rPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW92aWVQb3N0ZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgbGV0IHBvc3RlclxyXG4gICAgaWYgKHRoaXMucHJvcHMucG9zdGVyVXJsKSB7XHJcbiAgICAgIHBvc3RlciA9IChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncHVsbC1sZWZ0IHRodW1iLWxnJz5cclxuICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPSdtZWRpYS1vYmplY3QnIHNyYz17IHRoaXMucHJvcHMucG9zdGVyVXJsIH0vPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHBvc3RlclxyXG4gIH1cclxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcclxuaW1wb3J0IEZvcm1BY3Rpb25zIGZyb20gJy4uLy4uL2FjdGlvbnMvRm9ybUFjdGlvbnMnXHJcbmltcG9ydCBNb3ZpZUFjdGlvbnMgZnJvbSAnLi4vLi4vYWN0aW9ucy9Nb3ZpZUFjdGlvbnMnXHJcbmltcG9ydCBGb3JtU3RvcmUgZnJvbSAnLi4vLi4vc3RvcmVzL0Zvcm1TdG9yZSdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vdmllVm90ZVBhbmVsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG4gICAgdGhpcy5zdGF0ZSA9IEZvcm1TdG9yZS5nZXRTdGF0ZSgpXHJcbiAgICB0aGlzLm9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpXHJcbiAgfVxyXG5cclxuICBvbkNoYW5nZSAoc3RhdGUpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsTW91bnQgKCkge1xyXG4gICAgRm9ybVN0b3JlLmxpc3Rlbih0aGlzLm9uQ2hhbmdlKVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgRm9ybVN0b3JlLnVubGlzdGVuKHRoaXMub25DaGFuZ2UpXHJcbiAgfVxyXG5cclxuICBoYW5kbGVTdWJtaXQgKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKVxyXG5cclxuICAgIGlmICh0aGlzLnN0YXRlLnNjb3JlID4gMTApIHtcclxuICAgICAgRm9ybUFjdGlvbnMuc2NvcmVWYWxpZGF0aW9uRmFpbCgpXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIE1vdmllQWN0aW9ucy5hZGRWb3RlKHRoaXMucHJvcHMubW92aWVJZCwgdGhpcy5zdGF0ZS5zY29yZSlcclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgY2xhc3NOYW1lPVwiY29sLXNtLTQgY29sLXhzLW9mZnNldC04IGxpc3QtZ3JvdXAtaXRlbSBhbmltYXRlZCBmYWRlSW4gdm90ZVwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWFcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtYm9keVwiPlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXsgYGZvcm0tZ3JvdXAgJHsgdGhpcy5zdGF0ZS5zY29yZVZhbGlkYXRpb25TdGF0ZSB9YCB9PlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhlbHAtYmxvY2tcIj57IHRoaXMuc3RhdGUubWVzc2FnZSB9PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGZvcm0gY2xhc3NOYW1lPVwiZm9ybS1pbmxpbmVcIlxyXG4gICAgICAgICAgICAgICAgICBvblN1Ym1pdD17IHRoaXMuaGFuZGxlU3VibWl0LmJpbmQodGhpcykgfT5cclxuICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9eyBgZm9ybS1ncm91cCAkeyB0aGlzLnN0YXRlLnNjb3JlVmFsaWRhdGlvblN0YXRlIH1gIH0+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiY29udHJvbC1sYWJlbFwiPlNjb3JlPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXsgdGhpcy5zdGF0ZS5zY29yZSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMubG9nZ2VkSW5Vc2VyU2NvcmUgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsgRm9ybUFjdGlvbnMuaGFuZGxlU2NvcmVDaGFuZ2UgfS8+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCIgdHlwZT1cInN1Ym1pdFwiIHZhbHVlPVwiVm90ZVwiLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcidcclxuXHJcbmltcG9ydCBVc2VyQWN0aW9ucyBmcm9tICcuLi8uLi9hY3Rpb25zL1VzZXJBY3Rpb25zJ1xyXG5pbXBvcnQgVXNlclN0b3JlIGZyb20gJy4uLy4uL3N0b3Jlcy9Vc2VyU3RvcmUnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOYXZiYXJVc2VyTWVudSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0gVXNlclN0b3JlLmdldFN0YXRlKClcclxuXHJcbiAgICB0aGlzLm9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpXHJcbiAgfVxyXG5cclxuICBvbkNoYW5nZSAoc3RhdGUpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBVc2VyU3RvcmUubGlzdGVuKHRoaXMub25DaGFuZ2UpXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICBVc2VyU3RvcmUudW5saXN0ZW4odGhpcy5vbkNoYW5nZSlcclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICBsZXQgdXNlck1lbnVcclxuICAgIGlmICghdGhpcy5zdGF0ZS5sb2dnZWRJblVzZXJJZCkge1xyXG4gICAgICB1c2VyTWVudSA9IChcclxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibmF2IG5hdmJhci1uYXYgcHVsbC1yaWdodFwiPlxyXG4gICAgICAgICAgPGxpPlxyXG4gICAgICAgICAgICA8TGluayB0bz0nL3VzZXIvbG9naW4nPkxvZ2luPC9MaW5rPlxyXG4gICAgICAgICAgPC9saT5cclxuICAgICAgICAgIDxsaT5cclxuICAgICAgICAgICAgPExpbmsgdG89XCIvdXNlci9yZWdpc3RlclwiPlJlZ2lzdGVyPC9MaW5rPlxyXG4gICAgICAgICAgPC9saT5cclxuICAgICAgICA8L3VsPlxyXG4gICAgICApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB1c2VyTWVudSA9IChcclxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibmF2IG5hdmJhci1uYXYgcHVsbC1yaWdodFwiPlxyXG4gICAgICAgICAgPGxpPlxyXG4gICAgICAgICAgICA8TGlua1xyXG4gICAgICAgICAgICAgIHRvPXsgYC91c2VyL3Byb2ZpbGUvJHsgdGhpcy5zdGF0ZS5sb2dnZWRJblVzZXJJZCB9YCB9PlByb2ZpbGU8L0xpbms+XHJcbiAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgPGxpPlxyXG4gICAgICAgICAgICA8YSBocmVmPVwiI1wiIG9uQ2xpY2s9eyBVc2VyQWN0aW9ucy5sb2dvdXRVc2VyIH0+TG9nb3V0PC9hPlxyXG4gICAgICAgICAgPC9saT5cclxuICAgICAgICA8L3VsPlxyXG4gICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdj5cclxuICAgICAgICB7IHVzZXJNZW51IH1cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlclByb2ZpbGVJbmZvIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGxldCByb2xlc1xyXG4gICAgaWYgKHRoaXMucHJvcHMucm9sZXMpIHtcclxuICAgICAgcm9sZXMgPSB0aGlzLnByb3BzLnJvbGVzLm1hcCgocm9sZSwgaW5kZXgpID0+IHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPGg0IGtleT17IGluZGV4IH0gY2xhc3NOYW1lPSdsZWFkJz5cclxuICAgICAgICAgICAgPHN0cm9uZz57IHJvbGUgfTwvc3Ryb25nPlxyXG4gICAgICAgICAgPC9oND5cclxuICAgICAgICApXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbnRhaW5lciBwcm9maWxlLWNvbnRhaW5lcic+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3Byb2ZpbGUtaW1nJz5cclxuICAgICAgICAgIDxpbWcgc3JjPScvaW1hZ2VzL3VzZXItZGVmYXVsdC5wbmcnLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncHJvZmlsZS1pbmZvIGNsZWFyZml4Jz5cclxuICAgICAgICAgIDxoMj48c3Ryb25nPnsgdGhpcy5wcm9wcy5uYW1lIH08L3N0cm9uZz48L2gyPlxyXG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT0nbGVhZCc+Um9sZXM6PC9oND5cclxuICAgICAgICAgIHsgcm9sZXMgfVxyXG4gICAgICAgICAgPHA+eyB0aGlzLnByb3BzLmluZm9ybWF0aW9uIH08L3A+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcblxyXG5pbXBvcnQgVXNlclJhdGVkTW92aWVzUGFuZWwgZnJvbSAnLi9Vc2VyUmF0ZWRNb3ZpZXNQYW5lbCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJWb3RlZE1vdmllcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBzaG93UmF0ZWRNb3ZpZXNQYW5lbDogZmFsc2UsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0b2dnbGVSYXRlZE1vdmllcyAoKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHByZXZTdGF0ZSA9PiAoe1xyXG4gICAgICBzaG93UmF0ZWRNb3ZpZXNQYW5lbDogIXByZXZTdGF0ZS5zaG93UmF0ZWRNb3ZpZXNQYW5lbCxcclxuICAgIH0pKVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIHByb2ZpbGUtY29udGFpbmVyXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3Byb2ZpbGUtc3RhdHMgY2xlYXJmaXgnPlxyXG4gICAgICAgICAgPHVsPlxyXG4gICAgICAgICAgICA8bGk+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdzdGF0cy1udW1iZXInPnt0aGlzLnByb3BzLnZvdGVzXHJcbiAgICAgICAgICAgICAgICA/IHRoaXMucHJvcHMudm90ZXMubGVuZ3RoXHJcbiAgICAgICAgICAgICAgICA6IDAgfTwvc3Bhbj5Wb3Rlc1xyXG4gICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgPC91bD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB1bGwtcmlnaHQgYnRuLWdyb3VwXCI+XHJcbiAgICAgICAgICA8YSBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIlxyXG4gICAgICAgICAgICAgb25DbGljaz17IHRoaXMudG9nZ2xlUmF0ZWRNb3ZpZXMuYmluZCh0aGlzKSB9PlxyXG4gICAgICAgICAgICB7IHRoaXMuc3RhdGUuc2hvd1JhdGVkTW92aWVzUGFuZWwgPyAnSGlkZScgOiAnUmF0ZWQgTW92aWVzJyB9XHJcbiAgICAgICAgICA8L2E+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgeyB0aGlzLnN0YXRlLnNob3dSYXRlZE1vdmllc1BhbmVsID9cclxuICAgICAgICAgIDxVc2VyUmF0ZWRNb3ZpZXNQYW5lbCBtb3ZpZXM9eyB0aGlzLnByb3BzLnZvdGVzIH0vPiA6IG51bGwgfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcblxyXG5pbXBvcnQgTW92aWVDYXJkIGZyb20gJy4vTW92aWVDYXJkJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlclZvdGVkTW92aWVzUGFuZWwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XHJcbiAgICAgICAgSGVsbG8gZnJvbSBVc2VyUmF0ZWRNb3ZpZXNQYW5lbFxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcblxyXG5pbXBvcnQgVXNlclJldmlld3NQYW5lbCBmcm9tICcuL1VzZXJSZXZpZXdzUGFuZWwnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VyUmV2aWV3cyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBzaG93UmV2aWV3c1BhbmVsOiBmYWxzZSxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHRvZ2dsZVJldmlld3MgKCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZShwcmV2U3RhdGUgPT4gKHtcclxuICAgICAgc2hvd1Jldmlld3NQYW5lbDogIXByZXZTdGF0ZS5zaG93UmV2aWV3c1BhbmVsLFxyXG4gICAgfSkpXHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgcHJvZmlsZS1jb250YWluZXJcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncHJvZmlsZS1zdGF0cyBjbGVhcmZpeCc+XHJcbiAgICAgICAgICA8dWw+XHJcbiAgICAgICAgICAgIDxsaT5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3N0YXRzLW51bWJlcic+e3RoaXMucHJvcHMucmV2aWV3c1xyXG4gICAgICAgICAgICAgICAgPyB0aGlzLnByb3BzLnJldmlld3MubGVuZ3RoXHJcbiAgICAgICAgICAgICAgICA6IDB9PC9zcGFuPlJldmlld3NcclxuICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwdWxsLXJpZ2h0IGJ0bi1ncm91cFwiPlxyXG4gICAgICAgICAgPGEgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCJcclxuICAgICAgICAgICAgIG9uQ2xpY2s9eyB0aGlzLnRvZ2dsZVJldmlld3MuYmluZCh0aGlzKSB9PlxyXG4gICAgICAgICAgICB7IHRoaXMuc3RhdGUuc2hvd1Jldmlld3NQYW5lbCA/ICdIaWRlJyA6ICdSZXZpZXdzJyB9XHJcbiAgICAgICAgICA8L2E+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgeyB0aGlzLnN0YXRlLnNob3dSZXZpZXdzUGFuZWwgP1xyXG4gICAgICAgICAgPFVzZXJSZXZpZXdzUGFuZWwgcmV2aWV3cz17IHRoaXMucHJvcHMucmV2aWV3cyB9Lz4gOiBudWxsIH1cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJSZXZpZXdzUGFuZWwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbnRhaW5lcic+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XHJcbiAgICAgICAgICBIZWxsbyBmcm9tIFVzZXJSZXZpZXdzUGFuZWxcclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFJvdXRlciBmcm9tICdyZWFjdC1yb3V0ZXInO1xyXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcclxuaW1wb3J0IGNyZWF0ZUJyb3dzZXJIaXN0b3J5IGZyb20gJ2hpc3RvcnkvbGliL2NyZWF0ZUJyb3dzZXJIaXN0b3J5JztcclxuXHJcbmltcG9ydCByb3V0ZXMgZnJvbSAnLi9yb3V0ZXMnO1xyXG5cclxubGV0IGhpc3RvcnkgPSBjcmVhdGVCcm93c2VySGlzdG9yeSgpO1xyXG5cclxuUmVhY3RET00ucmVuZGVyKFxyXG4gICAgPFJvdXRlciBoaXN0b3J5PXtoaXN0b3J5fT57IHJvdXRlcyB9PC9Sb3V0ZXI+LFxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpXHJcbik7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgUm91dGUgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xyXG5pbXBvcnQgYXV0aG9yaXplIGZyb20gJy4vdXRpbGl0aWVzL0F1dGhvcml6ZSdcclxuXHJcbmltcG9ydCBBcHAgZnJvbSAnLi9jb21wb25lbnRzL0FwcCc7XHJcbmltcG9ydCBIb21lIGZyb20gJy4vY29tcG9uZW50cy9Ib21lJztcclxuaW1wb3J0IE1vdmllQWRkIGZyb20gJy4vY29tcG9uZW50cy9Nb3ZpZUFkZCc7XHJcbmltcG9ydCBVc2VyUHJvZmlsZSBmcm9tICcuL2NvbXBvbmVudHMvVXNlclByb2ZpbGUnO1xyXG5pbXBvcnQgVXNlclJlZ2lzdGVyIGZyb20gJy4vY29tcG9uZW50cy9Vc2VyUmVnaXN0ZXInXHJcbmltcG9ydCBVc2VyTG9naW4gZnJvbSAnLi9jb21wb25lbnRzL1VzZXJMb2dpbidcclxuXHJcbmV4cG9ydCBkZWZhdWx0IChcclxuICA8Um91dGUgY29tcG9uZW50PXsgQXBwIH0+XHJcbiAgICA8Um91dGUgcGF0aD1cIi9cIiBjb21wb25lbnQ9eyBIb21lIH0vPlxyXG4gICAgPFJvdXRlIHBhdGg9XCIvbW92aWUvQWRkXCIgY29tcG9uZW50PXsgYXV0aG9yaXplKE1vdmllQWRkKSB9Lz5cclxuICAgIDxSb3V0ZSBwYXRoPVwiL3VzZXIvcHJvZmlsZS86dXNlcklkXCIgY29tcG9uZW50PXsgYXV0aG9yaXplKFVzZXJQcm9maWxlKSB9Lz5cclxuICAgIDxSb3V0ZSBwYXRoPScvdXNlci9yZWdpc3RlcicgY29tcG9uZW50PXtVc2VyUmVnaXN0ZXJ9Lz5cclxuICAgIDxSb3V0ZSBwYXRoPScvdXNlci9sb2dpbicgY29tcG9uZW50PXtVc2VyTG9naW59Lz5cclxuICA8L1JvdXRlPlxyXG4pOyIsImltcG9ydCBhbHQgZnJvbSAnLi4vYWx0J1xyXG5pbXBvcnQgRm9ybUFjdGlvbnMgZnJvbSAnLi4vYWN0aW9ucy9Gb3JtQWN0aW9ucydcclxuaW1wb3J0IFVzZXJBY3Rpb25zIGZyb20gJy4uL2FjdGlvbnMvVXNlckFjdGlvbnMnXHJcbmltcG9ydCBNb3ZpZUFjdGlvbnMgZnJvbSAnLi4vYWN0aW9ucy9Nb3ZpZUFjdGlvbnMnXHJcblxyXG5jbGFzcyBGb3JtU3RvcmUge1xyXG4gIGNvbnN0cnVjdG9yICgpIHtcclxuICAgIHRoaXMuYmluZEFjdGlvbnMoRm9ybUFjdGlvbnMpXHJcbiAgICB0aGlzLmJpbmRMaXN0ZW5lcnMoe1xyXG4gICAgICBvblJlZ2lzdGVyVXNlckZhaWw6IFVzZXJBY3Rpb25zLnJlZ2lzdGVyVXNlckZhaWwsXHJcbiAgICAgIG9uUmVnaXN0ZXJVc2VyU3VjY2VzczogVXNlckFjdGlvbnMucmVnaXN0ZXJVc2VyU3VjY2VzcyxcclxuICAgICAgb25Mb2dpblVzZXJTdWNjZXNzOiBVc2VyQWN0aW9ucy5sb2dpblVzZXJTdWNjZXNzLFxyXG4gICAgICBvbkxvZ2luVXNlckZhaWw6IFVzZXJBY3Rpb25zLmxvZ2luVXNlckZhaWwsXHJcbiAgICAgIG9uQWRkQ29tbWVudEZhaWw6IE1vdmllQWN0aW9ucy5hZGRDb21tZW50RmFpbCxcclxuICAgICAgb25BZGRWb3RlU3VjY2VzczogTW92aWVBY3Rpb25zLmFkZFZvdGVTdWNjZXNzLFxyXG4gICAgICBvbkFkZFZvdGVGYWlsOiBNb3ZpZUFjdGlvbnMuYWRkVm90ZUZhaWwsXHJcbiAgICB9KVxyXG5cclxuICAgIHRoaXMudXNlcm5hbWUgPSAnJ1xyXG4gICAgdGhpcy5wYXNzd29yZCA9ICcnXHJcbiAgICB0aGlzLmNvbmZpcm1lZFBhc3N3b3JkID0gJydcclxuICAgIHRoaXMuZmlyc3ROYW1lID0gJydcclxuICAgIHRoaXMubGFzdE5hbWUgPSAnJ1xyXG4gICAgdGhpcy5hZ2UgPSAnJ1xyXG4gICAgdGhpcy5nZW5kZXIgPSAnJ1xyXG4gICAgdGhpcy5mb3JtU3VibWl0U3RhdGUgPSAnJ1xyXG4gICAgdGhpcy51c2VybmFtZVZhbGlkYXRpb25TdGF0ZSA9ICcnXHJcbiAgICB0aGlzLnBhc3N3b3JkVmFsaWRhdGlvblN0YXRlID0gJydcclxuICAgIHRoaXMubWVzc2FnZSA9ICcnXHJcbiAgfVxyXG5cclxuICBvblVuYXV0aG9yaXplZEFjY2Vzc0F0dGVtcHQgKCkge1xyXG4gICAgdGhpcy5mb3JtU3VibWl0U3RhdGUgPSAnaGFzLWVycm9yJ1xyXG4gICAgdGhpcy51c2VybmFtZVZhbGlkYXRpb25TdGF0ZSA9ICcnXHJcbiAgICB0aGlzLnBhc3N3b3JkVmFsaWRhdGlvblN0YXRlID0gJydcclxuICAgIHRoaXMubWVzc2FnZSA9ICdQbGVhc2UgbG9naW4uJ1xyXG4gIH1cclxuXHJcbiAgb25Mb2dpblVzZXJTdWNjZXNzICgpIHtcclxuICAgIHRoaXMuZm9ybVN1Ym1pdFN0YXRlID0gJ2hhcy1zdWNjZXNzJ1xyXG4gICAgdGhpcy51c2VybmFtZVZhbGlkYXRpb25TdGF0ZSA9ICcnXHJcbiAgICB0aGlzLnBhc3N3b3JkVmFsaWRhdGlvblN0YXRlID0gJydcclxuICAgIHRoaXMubWVzc2FnZSA9ICdVc2VyIGxvZ2luIHN1Y2Nlc3NmdWwnXHJcbiAgfVxyXG5cclxuICBvbkxvZ2luVXNlckZhaWwgKGVycikge1xyXG4gICAgdGhpcy5mb3JtU3VibWl0U3RhdGUgPSAnaGFzLWVycm9yJ1xyXG4gICAgdGhpcy51c2VybmFtZVZhbGlkYXRpb25TdGF0ZSA9ICdoYXMtZXJyb3InXHJcbiAgICB0aGlzLnBhc3N3b3JkVmFsaWRhdGlvblN0YXRlID0gJ2hhcy1lcnJvcidcclxuICAgIHRoaXMubWVzc2FnZSA9IGVyci5tZXNzYWdlXHJcbiAgfVxyXG5cclxuICBvblJlZ2lzdGVyVXNlclN1Y2Nlc3MgKCkge1xyXG4gICAgY29uc29sZS5sb2coJ0Zvcm1TdG9yZSByZWdpc3RlciBzdWNjZXNzJylcclxuICAgIHRoaXMuZm9ybVN1Ym1pdFN0YXRlID0gJ2hhcy1zdWNjZXNzJ1xyXG4gICAgdGhpcy51c2VybmFtZVZhbGlkYXRpb25TdGF0ZSA9ICcnXHJcbiAgICB0aGlzLnBhc3N3b3JkVmFsaWRhdGlvblN0YXRlID0gJydcclxuICAgIHRoaXMubWVzc2FnZSA9ICdVc2VyIHJlZ2lzdGVyIHN1Y2Nlc3NmdWwnXHJcbiAgfVxyXG5cclxuICBvblJlZ2lzdGVyVXNlckZhaWwgKGVycikge1xyXG4gICAgY29uc29sZS5sb2coJ0Zvcm1TdG9yZSByZWdpc3RlciBlcnJvcicsIGVycilcclxuICAgIGlmIChlcnIuY29kZSA9PT0gMTEwMDApIHtcclxuICAgICAgdGhpcy51c2VybmFtZVZhbGlkYXRpb25TdGF0ZSA9ICdoYXMtZXJyb3InXHJcbiAgICAgIHRoaXMubWVzc2FnZSA9ICdVc2VybmFtZSBhbHJlYWR5IGluIHVzZSdcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5mb3JtU3VibWl0U3RhdGUgPSAnaGFzLWVycm9yJ1xyXG4gICAgdGhpcy5tZXNzYWdlID0gZXJyLmVycm1zZ1xyXG4gIH1cclxuXHJcbiAgb25Vc2VybmFtZVZhbGlkYXRpb25GYWlsICgpIHtcclxuICAgIHRoaXMudXNlcm5hbWVWYWxpZGF0aW9uU3RhdGUgPSAnaGFzLWVycm9yJ1xyXG4gICAgdGhpcy5wYXNzd29yZFZhbGlkYXRpb25TdGF0ZSA9ICcnXHJcbiAgICB0aGlzLmZvcm1TdWJtaXRTdGF0ZSA9ICcnXHJcbiAgICB0aGlzLm1lc3NhZ2UgPSAnRW50ZXIgdXNlcm5hbWUnXHJcbiAgfVxyXG5cclxuICBvblBhc3N3b3JkVmFsaWRhdGlvbkZhaWwgKCkge1xyXG4gICAgdGhpcy5wYXNzd29yZFZhbGlkYXRpb25TdGF0ZSA9ICdoYXMtZXJyb3InXHJcbiAgICB0aGlzLnVzZXJuYW1lVmFsaWRhdGlvblN0YXRlID0gJydcclxuICAgIHRoaXMuZm9ybVN1Ym1pdFN0YXRlID0gJydcclxuICAgIHRoaXMubWVzc2FnZSA9ICdJbnZhbGlkIHBhc3N3b3JkLCBvciBwYXNzd29yZHMgZG8gbm90IG1hdGNoJ1xyXG4gIH1cclxuXHJcbiAgb25IYW5kbGVVc2VybmFtZUNoYW5nZSAoZSkge1xyXG4gICAgdGhpcy51c2VybmFtZSA9IGUudGFyZ2V0LnZhbHVlXHJcbiAgfVxyXG5cclxuICBvbkhhbmRsZVBhc3N3b3JkQ2hhbmdlIChlKSB7XHJcbiAgICB0aGlzLnBhc3N3b3JkID0gZS50YXJnZXQudmFsdWVcclxuICB9XHJcblxyXG4gIG9uSGFuZGxlQ29uZmlybWVkUGFzc3dvcmRDaGFuZ2UgKGUpIHtcclxuICAgIHRoaXMuY29uZmlybWVkUGFzc3dvcmQgPSBlLnRhcmdldC52YWx1ZVxyXG4gIH1cclxuXHJcbiAgb25IYW5kbGVGaXJzdE5hbWVDaGFuZ2UgKGUpIHtcclxuICAgIHRoaXMuZmlyc3ROYW1lID0gZS50YXJnZXQudmFsdWVcclxuICB9XHJcblxyXG4gIG9uSGFuZGxlTGFzdE5hbWVDaGFuZ2UgKGUpIHtcclxuICAgIHRoaXMubGFzdE5hbWUgPSBlLnRhcmdldC52YWx1ZVxyXG4gIH1cclxuXHJcbiAgb25IYW5kbGVBZ2VDaGFuZ2UgKGUpIHtcclxuICAgIHRoaXMuYWdlID0gZS50YXJnZXQudmFsdWVcclxuICB9XHJcblxyXG4gIG9uSGFuZGxlR2VuZGVyQ2hhbmdlIChlKSB7XHJcbiAgICB0aGlzLmdlbmRlciA9IGUudGFyZ2V0LnZhbHVlXHJcbiAgfVxyXG5cclxuICBvbkFkZENvbW1lbnRGYWlsIChlcnIpIHtcclxuICAgIHRoaXMuY29tbWVudFZhbGlkYXRpb25TdGF0ZSA9ICdoYXMtZXJyb3InXHJcbiAgICB0aGlzLm1lc3NhZ2UgPSBlcnIubWVzc2FnZVxyXG4gIH1cclxuXHJcbiAgb25Db21tZW50VmFsaWRhdGlvbkZhaWwgKCkge1xyXG4gICAgdGhpcy5jb21tZW50VmFsaWRhdGlvblN0YXRlID0gJ2hhcy1lcnJvcidcclxuICAgIHRoaXMubWVzc2FnZSA9ICdQbGVhc2UgZW50ZXIgY29tbWVudCB0ZXh0LidcclxuICB9XHJcblxyXG4gIG9uSGFuZGxlQ29tbWVudENoYW5nZSAoZSkge1xyXG4gICAgdGhpcy5jb21tZW50ID0gZS50YXJnZXQudmFsdWVcclxuICB9XHJcblxyXG4gIG9uSGFuZGxlU2NvcmVDaGFuZ2UgKGUpIHtcclxuICAgIHRoaXMuc2NvcmUgPSBlLnRhcmdldC52YWx1ZVxyXG4gIH1cclxuXHJcbiAgb25TY29yZVZhbGlkYXRpb25GYWlsICgpIHtcclxuICAgIHRoaXMuc2NvcmVWYWxpZGF0aW9uU3RhdGUgPSAnaGFzLWVycm9yJ1xyXG4gICAgdGhpcy5tZXNzYWdlID0gJ1ZhbGlkIHNjb3JlIGlzIGJldHdlZW4gMCAtIDEwJ1xyXG4gIH1cclxuXHJcbiAgb25BZGRWb3RlU3VjY2VzcyAoKSB7XHJcbiAgICB0aGlzLnNjb3JlVmFsaWRhdGlvblN0YXRlID0gJydcclxuICAgIHRoaXMubWVzc2FnZSA9ICcnXHJcbiAgfVxyXG5cclxuICBvbkFkZFZvdGVGYWlsIChlcnIpIHtcclxuICAgIHRoaXMuc2NvcmVWYWxpZGF0aW9uU3RhdGUgPSAnaGFzLWVycm9yJ1xyXG4gICAgdGhpcy5tZXNzYWdlID0gZXJyLm1lc3NhZ2VcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFsdC5jcmVhdGVTdG9yZShGb3JtU3RvcmUpXHJcbiIsImltcG9ydCBhbHQgZnJvbSAnLi4vYWx0J1xyXG5pbXBvcnQgTW92aWVBZGRBY3Rpb25zIGZyb20gJy4uL2FjdGlvbnMvTW92aWVBZGRBY3Rpb25zJ1xyXG5pbXBvcnQgSGVscGVycyBmcm9tICcuLi91dGlsaXRpZXMvSGVscGVycydcclxuXHJcbmNsYXNzIE1vdmllQWRkU3RvcmUge1xyXG4gIGNvbnN0cnVjdG9yICgpIHtcclxuICAgIHRoaXMuYmluZEFjdGlvbnMoTW92aWVBZGRBY3Rpb25zKVxyXG5cclxuICAgIHRoaXMubmFtZSA9ICcnXHJcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gJydcclxuICAgIHRoaXMuZ2VucmVzID0gW11cclxuICAgIHRoaXMubW92aWVQb3N0ZXJVcmwgPSAnJ1xyXG4gICAgdGhpcy5nZW5yZXNWYWxpZGF0aW9uU3RhdGUgPSAnJ1xyXG4gICAgdGhpcy5uYW1lVmFsaWRhdGlvblN0YXRlID0gJydcclxuICAgIHRoaXMuaGVscEJsb2NrID0gJydcclxuICB9XHJcblxyXG4gIG9uQWRkTW92aWVTdWNjZXNzICgpIHtcclxuICAgIGNvbnNvbGUubG9nKCdBZGRlZCBtb3ZpZSEnKVxyXG4gIH1cclxuXHJcbiAgb25BZGRNb3ZpZUZhaWwgKGVycikge1xyXG4gICAgY29uc29sZS5sb2coJ0ZhaWxlZCB0byBhZGQgbW92aWUnLCBlcnIpXHJcbiAgfVxyXG5cclxuICBvbkdldE1vdmllUG9zdGVyU3VjY2VzcyAoZGF0YSkge1xyXG4gICAgdGhpcy5tb3ZpZVBvc3RlclVybCA9IGRhdGEucG9zdGVyVXJsXHJcbiAgfVxyXG5cclxuICBvbkdldE1vdmllUG9zdGVyRmFpbCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmxvZygnQ291bGQgbm90IGdldCBtb3ZpZSBwb3N0JywgZXJyKVxyXG4gIH1cclxuXHJcbiAgb25IYW5kbGVOYW1lQ2hhbmdlIChlKSB7XHJcbiAgICB0aGlzLm5hbWUgPSBlLnRhcmdldC52YWx1ZVxyXG4gICAgdGhpcy5uYW1lVmFsaWRhdGlvblN0YXRlID0gJydcclxuICAgIHRoaXMuaGVscEJsb2NrID0gJydcclxuICB9XHJcblxyXG4gIG9uSGFuZGxlRGVzY3JpcHRpb25DaGFuZ2UgKGUpIHtcclxuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBlLnRhcmdldC52YWx1ZVxyXG4gICAgdGhpcy5nZW5yZXNWYWxpZGF0aW9uU3RhdGUgPSAnJ1xyXG4gICAgdGhpcy5oZWxwQmxvY2sgPSAnJ1xyXG4gIH1cclxuXHJcbiAgb25IYW5kbGVHZW5yZXNDaGFuZ2UgKGUpIHtcclxuICAgIGNvbnNvbGUubG9nKGUpXHJcbiAgICBsZXQgZ2VucmVWYWx1ZSA9IGUudGFyZ2V0LnZhbHVlXHJcbiAgICBpZiAodGhpcy5nZW5yZXMuaW5kZXhPZihnZW5yZVZhbHVlKSA9PT0gLTEpIHtcclxuICAgICAgdGhpcy5nZW5yZXMgPSBIZWxwZXJzLmFwcGVuZFRvQXJyYXkoZ2VucmVWYWx1ZSwgdGhpcy5nZW5yZXMpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmdlbnJlcyA9IEhlbHBlcnMucmVtb3ZlRnJvbUFycmF5KGdlbnJlVmFsdWUsIHRoaXMuZ2VucmVzKVxyXG4gICAgfVxyXG4gICAgdGhpcy5nZW5yZXNWYWxpZGF0aW9uU3RhdGUgPSAnJ1xyXG4gICAgdGhpcy5oZWxwQmxvY2sgPSAnJ1xyXG4gIH1cclxuXHJcbiAgb25OYW1lVmFsaWRhdGlvbkZhaWwgKCkge1xyXG4gICAgdGhpcy5uYW1lVmFsaWRhdGlvblN0YXRlID0gJ2hhcy1lcnJvcidcclxuICAgIHRoaXMuaGVscEJsb2NrID0gJ0VudGVyIG1vdmllIG5hbWUnXHJcbiAgfVxyXG5cclxuICBvbkdlbnJlc1ZhbGlkYXRpb25GYWlsICgpIHtcclxuICAgIHRoaXMuZ2VucmVzVmFsaWRhdGlvblN0YXRlID0gJ2hhcy1lcnJvcidcclxuICAgIHRoaXMuaGVscEJsb2NrID0gJ1NlbGVjdCBhdGxlYXN0IG9uZSBtb3ZpZSBnZW5yZSdcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFsdC5jcmVhdGVTdG9yZShNb3ZpZUFkZFN0b3JlKSIsImltcG9ydCBhbHQgZnJvbSAnLi4vYWx0J1xyXG5pbXBvcnQgTW92aWVBY3Rpb25zIGZyb20gJy4uL2FjdGlvbnMvTW92aWVBY3Rpb25zJ1xyXG5cclxuY2xhc3MgTW92aWVTdG9yZSB7XHJcbiAgY29uc3RydWN0b3IgKCkge1xyXG4gICAgdGhpcy5iaW5kQWN0aW9ucyhNb3ZpZUFjdGlvbnMpXHJcbiAgICB0aGlzLnRvcFRlbk1vdmllcyA9IFtdXHJcbiAgICB0aGlzLm1vc3RSZWNlbnRNb3ZpZXMgPSBbXVxyXG4gIH1cclxuXHJcbiAgb25BZGRNb3ZpZVRvVG9wVGVuIChtb3ZpZSkge1xyXG4gICAgdGhpcy50b3BUZW5Nb3ZpZXMucHVzaChtb3ZpZSlcclxuICB9XHJcblxyXG4gIG9uRW1wdHlUb3BUZW5Nb3ZpZXMgKCkge1xyXG4gICAgdGhpcy50b3BUZW5Nb3ZpZXMgPSBbXVxyXG4gIH1cclxuXHJcbiAgb25HZXRUb3BUZW5Nb3ZpZXNTdWNjZXNzIChtb3ZpZXMpIHtcclxuICAgIHRoaXMudG9wVGVuTW92aWVzID0gbW92aWVzXHJcbiAgfVxyXG5cclxuICBvbkdldFRvcFRlbk1vdmllc0ZhaWwgKGVycikge1xyXG4gICAgY29uc29sZS5sb2coJ0NvdWxkIGNvbm5lY3QgdG8gREInLCBlcnIpXHJcbiAgfVxyXG5cclxuICBvbkdldEZpdmVSZWNlbnRNb3ZpZXNTdWNjZXNzIChkYXRhKSB7XHJcbiAgICB0aGlzLm1vc3RSZWNlbnRNb3ZpZXMgPSBkYXRhXHJcbiAgfVxyXG5cclxuICBvbkdldEZpdmVSZWNlbnRNb3ZpZXNGYWlsICgpIHtcclxuICAgIGNvbnNvbGUubG9nKCdDb3VsZCBub3QgY29ubmV4dCB0byBEQicpXHJcbiAgfVxyXG5cclxuICBvbkFkZENvbW1lbnRTdWNjZXNzIChkYXRhKSB7XHJcbiAgICBsZXQgY29tbWVudCA9IGRhdGEuY29tbWVudFxyXG4gICAgbGV0IG1vdmllSWQgPSBkYXRhLmNvbW1lbnQubW92aWVcclxuICAgIGZvciAobGV0IGkgPSAwLCBuID0gdGhpcy50b3BUZW5Nb3ZpZXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgIGlmICh0aGlzLnRvcFRlbk1vdmllc1tpXS5faWQgPT09IG1vdmllSWQpIHtcclxuICAgICAgICB0aGlzLnRvcFRlbk1vdmllc1tpXS5jb21tZW50cy51bnNoaWZ0KGNvbW1lbnQpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uQWRkVm90ZVN1Y2Nlc3MgKGRhdGEpIHtcclxuICAgIGxldCBtb3ZpZUlkID0gZGF0YS5tb3ZpZUlkXHJcbiAgICBsZXQgbG9nZ2VkSW5Vc2VyU2NvcmUgPSBkYXRhLnZvdGVTY29yZVxyXG4gICAgbGV0IG1vdmllU2NvcmUgPSBkYXRhLm1vdmllU2NvcmVcclxuICAgIGxldCBtb3ZpZVZvdGVzID0gZGF0YS5tb3ZpZVZvdGVzXHJcblxyXG4gICAgZm9yIChsZXQgbW92aWUgb2YgdGhpcy50b3BUZW5Nb3ZpZXMpIHtcclxuICAgICAgaWYgKG1vdmllLl9pZCA9PT0gbW92aWVJZCkge1xyXG4gICAgICAgIG1vdmllLmxvZ2dlZEluVXNlclNjb3JlID0gbG9nZ2VkSW5Vc2VyU2NvcmVcclxuICAgICAgICBtb3ZpZS5zY29yZSA9IG1vdmllU2NvcmVcclxuICAgICAgICBtb3ZpZS52b3RlcyA9IG1vdmllVm90ZXNcclxuICAgICAgICBicmVha1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhbHQuY3JlYXRlU3RvcmUoTW92aWVTdG9yZSlcclxuIiwiaW1wb3J0IGFsdCBmcm9tICcuLi9hbHQnXHJcbmltcG9ydCBOYXZiYXJBY3Rpb25zIGZyb20gJy4uL2FjdGlvbnMvTmF2YmFyQWN0aW9ucydcclxuXHJcbmNsYXNzIE5hdmJhclN0b3JlIHtcclxuICBjb25zdHJ1Y3RvciAoKSB7XHJcbiAgICB0aGlzLmJpbmRBY3Rpb25zKE5hdmJhckFjdGlvbnMpXHJcblxyXG4gICAgdGhpcy5hamF4QW5pbWF0aW9uQ2xhc3MgPSAnJ1xyXG4gIH1cclxuXHJcbiAgb25VcGRhdGVBamF4QW5pbWF0aW9uIChhbmltYXRpb25DbGFzcykge1xyXG4gICAgdGhpcy5hamF4QW5pbWF0aW9uQ2xhc3MgPSBhbmltYXRpb25DbGFzc1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYWx0LmNyZWF0ZVN0b3JlKE5hdmJhclN0b3JlKSIsImltcG9ydCBhbHQgZnJvbSAnLi4vYWx0J1xyXG5pbXBvcnQgQXBwQWN0aW9ucyBmcm9tICcuLi9hY3Rpb25zL1VzZXJBY3Rpb25zJ1xyXG5cclxuY2xhc3MgQXBwU3RvcmUge1xyXG4gIGNvbnN0cnVjdG9yICgpIHtcclxuICAgIHRoaXMuYmluZEFjdGlvbnMoQXBwQWN0aW9ucylcclxuXHJcbiAgICB0aGlzLmxvZ2dlZEluVXNlcklkID0gJydcclxuICAgIHRoaXMudXNlcm5hbWUgPSAnJ1xyXG4gICAgdGhpcy5yb2xlcyA9IFtdXHJcbiAgfVxyXG5cclxuICBvbkxvZ2luVXNlclN1Y2Nlc3MgKHVzZXIpIHtcclxuICAgIHRoaXMubG9nZ2VkSW5Vc2VySWQgPSB1c2VyLl9pZFxyXG4gICAgdGhpcy51c2VybmFtZSA9IHVzZXIudXNlcm5hbWVcclxuICAgIHRoaXMucm9sZXMgPSB1c2VyLnJvbGVzXHJcbiAgfVxyXG5cclxuICBvbkxvZ2luVXNlckZhaWwgKCkge1xyXG4gICAgY29uc29sZS5sb2coJ0ZhaWxlZCBsb2dpbiBhdHRlbXB0JylcclxuICB9XHJcblxyXG4gIG9uTG9nb3V0VXNlclN1Y2Nlc3MgKCkgeyAvLyBSZWRpcmVjdCBvbiBwYXJ0IDNcclxuICAgIHRoaXMubG9nZ2VkSW5Vc2VySWQgPSAnJ1xyXG4gICAgdGhpcy51c2VybmFtZSA9ICcnXHJcbiAgICB0aGlzLnJvbGVzID0gW11cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFsdC5jcmVhdGVTdG9yZShBcHBTdG9yZSkiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcbmltcG9ydCBVc2VyU3RvcmUgZnJvbSAnLi4vc3RvcmVzL1VzZXJTdG9yZSdcclxuaW1wb3J0IEZvcm1BY3Rpb25zIGZyb20gJy4uL2FjdGlvbnMvRm9ybUFjdGlvbnMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhdXRob3JpemUgKENoaWxkQ29tcG9uZW50KSB7XHJcbiAgcmV0dXJuIGNsYXNzIEF1dGhvcml6YXRpb24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICAgIHN1cGVyKHByb3BzKVxyXG4gICAgICB0aGlzLnN0YXRlID0gVXNlclN0b3JlLmdldFN0YXRlKClcclxuICAgICAgdGhpcy5vbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKVxyXG4gICAgfVxyXG5cclxuICAgIG9uQ2hhbmdlIChzdGF0ZSkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHN0YXRlKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudFdpbGxNb3VudCAoKSB7XHJcbiAgICAgIGlmICghdGhpcy5zdGF0ZS5sb2dnZWRJblVzZXJJZCkge1xyXG4gICAgICAgIHRoaXMucHJvcHMuaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgJy91c2VyL2xvZ2luJylcclxuICAgICAgICBGb3JtQWN0aW9ucy51bmF1dGhvcml6ZWRBY2Nlc3NBdHRlbXB0KClcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgICAgVXNlclN0b3JlLmxpc3Rlbih0aGlzLm9uQ2hhbmdlKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgICAgVXNlclN0b3JlLnVubGlzdGVuKHRoaXMub25DaGFuZ2UpXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyICgpIHtcclxuICAgICAgcmV0dXJuIDxDaGlsZENvbXBvbmVudCB7Li4udGhpcy5wcm9wc30gLz5cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDb25jZWFsZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcbiAgICB0aGlzLnN0YXRlID0gVXNlclN0b3JlLmdldFN0YXRlKClcclxuICAgIHRoaXMub25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcylcclxuICB9XHJcblxyXG4gIG9uQ2hhbmdlIChzdGF0ZSkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSlcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIFVzZXJTdG9yZS5saXN0ZW4odGhpcy5vbkNoYW5nZSlcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIFVzZXJTdG9yZS51bmxpc3Rlbih0aGlzLm9uQ2hhbmdlKVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGxldCBDaGlsZENvbXBvbmVudCA9IHRoaXMucHJvcHMuQ2hpbGRDb21wb25lbnRcclxuXHJcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5sb2dnZWRJblVzZXJJZCA/IDxDaGlsZENvbXBvbmVudCB7Li4udGhpcy5wcm9wc30gLz4gOiBudWxsXHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEhlbHBlcnMge1xyXG4gIHN0YXRpYyBmb3JtYXRNb3ZpZVJhdGluZyAoc2NvcmUsIHZvdGVzKSB7XHJcbiAgICBsZXQgcmF0aW5nID0gc2NvcmUgLyB2b3Rlc1xyXG5cclxuICAgIGlmIChpc05hTihyYXRpbmcpKSB7XHJcbiAgICAgIHJhdGluZyA9IDBcclxuICAgIH1cclxuXHJcbiAgICBpZiAocmF0aW5nICUgMSAhPT0gMCkge1xyXG4gICAgICByYXRpbmcgPSByYXRpbmcudG9GaXhlZCgxKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByYXRpbmdcclxuICB9XHJcbn0iLCJjb25zdCBBUElfS0VZID0gJzcxYWFiZDc5YzcwODJiY2FjYWJjOTY4NzdhYzcyMzhiJ1xyXG5jb25zdCBTRUFSQ0hfQkFTRV9VUkwgPSAnaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9zZWFyY2gvbW92aWUnXHJcbmNvbnN0IFBPU1RFUl9CQVNFX1VSTCA9ICdodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC93NTAwJ1xyXG5jb25zdCBVTlZFUklGSUVEX01PVklFX1BPU1RFUl9VUkwgPSAnL2ltYWdlcy9tb3ZpZS11bnZlcmlmaWVkLnBuZydcclxuY29uc3QgTUlTU0lOR19EQVRBX1BPU1RFUl9VUkwgPSAnL2ltYWdlcy9tb3ZpZS1taXNzaW5nLWRhdGEuanBnJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVxdWVzdGVyVE1EQiB7XHJcbiAgc3RhdGljIGdldE1vdmllUG9zdGVyIChtb3ZpZU5hbWUpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGxldCByZXF1ZXN0ID0ge1xyXG4gICAgICAgIG1ldGhvZDogJ2dldCcsXHJcbiAgICAgICAgdXJsOiBgJHtTRUFSQ0hfQkFTRV9VUkx9P2FwaV9rZXk9JHtBUElfS0VZfSZxdWVyeT0ke21vdmllTmFtZX1gLFxyXG4gICAgICB9XHJcbiAgICAgICQuYWpheChyZXF1ZXN0KS5kb25lKHRtZGJSZXNwb25zZSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1RNREIgcmVzcG9uc2UnLCB0bWRiUmVzcG9uc2UpXHJcbiAgICAgICAgaWYgKHRtZGJSZXNwb25zZS50b3RhbF9yZXN1bHRzID09PSAwKSB7XHJcbiAgICAgICAgICByZXNvbHZlKHtwb3N0ZXJVcmw6IFVOVkVSSUZJRURfTU9WSUVfUE9TVEVSX1VSTH0pXHJcbiAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBwb3N0ZXJQYXRoID0gdG1kYlJlc3BvbnNlLnJlc3VsdHNbMF0ucG9zdGVyX3BhdGhcclxuICAgICAgICBpZiAocG9zdGVyUGF0aCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgcmVzb2x2ZSh7cG9zdGVyVXJsOiBNSVNTSU5HX0RBVEFfUE9TVEVSX1VSTH0pXHJcbiAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzb2x2ZSh7cG9zdGVyVXJsOiBgJHsgUE9TVEVSX0JBU0VfVVJMIH0vJHsgcG9zdGVyUGF0aCB9YH0pXHJcbiAgICAgIH0pLmZhaWwoZXJyID0+IHtcclxuICAgICAgICByZWplY3Qoe1xyXG4gICAgICAgICAgY2xpZW50TWVzc2FnZTogJ1JlcXVlc3QgZmFpbGVkJyxcclxuICAgICAgICAgIGVycm9yOiBlcnIsXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfVxyXG59Il19"}